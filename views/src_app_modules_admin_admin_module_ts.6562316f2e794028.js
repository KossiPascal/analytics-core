"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([["src_app_modules_admin_admin_module_ts"],{2622:(Jt,O,f)=>{f.r(O),f.d(O,{AdminModule:()=>zt});var v=f(6610),r=f(7222),x=f(1402),m=f(3681),t=f(3279),I=f(4451),E=f(3366),V=f(2365),B=f(3671),Y=f(8394);const X=a=>({"custom-class":a}),C=a=>({show:a});function W(a,o){if(1&a){const e=t.RV6();t.j41(0,"span",40),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2).$implicit,n=t.XpG();return t.Njj(n.EditUser(i))}),t.nrm(1,"i",41),t.k0s()}}function Q(a,o){if(1&a){const e=t.RV6();t.j41(0,"span",42),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2).$implicit,n=t.XpG();return t.Njj(n.SelectUser(i))}),t.nrm(1,"i",43),t.k0s()}}function q(a,o){1&a&&(t.j41(0,"span",44),t.nrm(1,"i",45),t.k0s())}function H(a,o){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td",33),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td")(10,"i",34),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,n=t.XpG();return t.Njj(n.ShowRoles(i))}),t.nrm(11,"i",35),t.k0s()(),t.nrm(12,"td"),t.j41(13,"td")(14,"span",36),t.EFF(15),t.k0s()(),t.j41(16,"td")(17,"span",36),t.EFF(18),t.k0s()(),t.j41(19,"td"),t.DNE(20,W,2,0,"span",37),t.k0s(),t.j41(21,"td"),t.DNE(22,Q,2,0,"span",38),t.k0s(),t.j41(23,"td"),t.DNE(24,q,2,0,"span",39),t.k0s()()}if(2&a){const e=t.XpG(),s=e.$implicit,i=e.index,n=t.XpG();t.HbH(1==s.isDeleted?"deleted-user":"undeleted-user"),t.R7$(2),t.JRh(i+1),t.R7$(2),t.JRh(s.username),t.R7$(2),t.JRh(s.fullname),t.R7$(2),t.JRh(s.email),t.R7$(7),t.JRh(s.isActive?"":"\u2713"),t.R7$(3),t.JRh(n.isAdmin(s)?"\u2713":""),t.R7$(2),t.Y8G("ngIf",!n.isAdmin(s)||(null==n.USER?null:n.USER.isAdmin)),t.R7$(2),t.Y8G("ngIf",!n.isAdmin(s)),t.R7$(2),t.Y8G("ngIf",n.isAdmin(s))}}function z(a,o){if(1&a&&(t.j41(0,"tbody"),t.DNE(1,H,25,11,"tr",32),t.k0s()),2&a){const e=o.$implicit,s=t.XpG();t.R7$(),t.Y8G("ngIf",!s.isAdmin(e)||(null==s.USER?null:s.USER.isAdmin))}}function J(a,o){if(1&a&&(t.j41(0,"p",28)(1,"strong"),t.EFF(2),t.k0s()()),2&a){const e=t.XpG(2);t.R7$(2),t.JRh(e.message)}}function K(a,o){1&a&&(t.j41(0,"div",86),t.EFF(1," Password does not match "),t.k0s())}function Z(a,o){if(1&a){const e=t.RV6();t.qex(0),t.j41(1,"div",87)(2,"p")(3,"input",88),t.bIt("change",function(){const i=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.AddOrRemoveRole(i.id))}),t.k0s(),t.j41(4,"label",89),t.EFF(5),t.k0s()()(),t.bVm()}if(2&a){const e=o.$implicit,s=o.index,i=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.eq3(7,X,s<=i.roles$.length/2)),t.R7$(2),t.Mz_("id","add-remove-roles-",e.id,""),t.Y8G("checked",i.containsRole(e.id)),t.R7$(),t.Mz_("for","add-remove-roles-",e.id,""),t.R7$(),t.JRh(e.name)}}function tt(a,o){if(1&a){const e=t.RV6();t.j41(0,"div",96)(1,"aside",91)(2,"input",93),t.bIt("change",function(){const i=t.eBV(e).$implicit,n=t.XpG(8);return t.Njj(n.selectVillageSecteurs(i))}),t.k0s(),t.j41(3,"label",94),t.EFF(4),t.k0s()()()}if(2&a){const e=o.$implicit,s=t.XpG().$implicit,i=t.XpG(7);t.Y8G("ngClass",t.eq3(7,C,i.isListOpenToShow("district-"+s.id))),t.R7$(2),t.Mz_("id","village_secteur-",e.id,""),t.Y8G("checked",i.containsOrgUnits("villageSecteurs",e.id)),t.R7$(),t.Mz_("for","village_secteur-",e.id,""),t.R7$(),t.JRh(e.name)}}function et(a,o){if(1&a){const e=t.RV6();t.j41(0,"div",96)(1,"aside",91)(2,"button",92),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(7);return t.Njj(n.toggleList("district-"+i.id))}),t.j41(3,"span",17),t.EFF(4),t.k0s()(),t.j41(5,"input",93),t.bIt("change",function(){const i=t.eBV(e).$implicit,n=t.XpG(7);return t.Njj(n.selectDistrictQuartiers(i))}),t.k0s(),t.j41(6,"label",94),t.EFF(7),t.k0s()(),t.DNE(8,tt,5,9,"div",95),t.k0s()}if(2&a){const e=o.$implicit,s=t.XpG().$implicit,i=t.XpG(6);t.Y8G("ngClass",t.eq3(9,C,i.isListOpenToShow("hospital-"+s.id))),t.R7$(4),t.JRh(i.isListOpenToShow("district-"+e.id)?"-":"+"),t.R7$(),t.Mz_("id","district-",e.id,""),t.Y8G("checked",i.containsOrgUnits("districtQuartiers",e.id)),t.R7$(),t.Mz_("for","district-",e.id,""),t.R7$(),t.JRh(e.name),t.R7$(),t.Y8G("ngForOf",i.generateVillageSecteurs(e.id))}}function it(a,o){if(1&a){const e=t.RV6();t.j41(0,"div",96)(1,"aside",91)(2,"button",92),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(6);return t.Njj(n.toggleList("hospital-"+i.id))}),t.j41(3,"span",17),t.EFF(4),t.k0s()(),t.j41(5,"input",93),t.bIt("change",function(){const i=t.eBV(e).$implicit,n=t.XpG(6);return t.Njj(n.selectHospitals(i))}),t.k0s(),t.j41(6,"label",94),t.EFF(7),t.k0s()(),t.DNE(8,et,9,11,"div",95),t.k0s()}if(2&a){const e=o.$implicit,s=t.XpG().$implicit,i=t.XpG(5);t.Y8G("ngClass",t.eq3(9,C,i.isListOpenToShow("commune-"+s.id))),t.R7$(4),t.JRh(i.isListOpenToShow("hospital-"+e.id)?"-":"+"),t.R7$(),t.Mz_("id","hospital-",e.id,""),t.Y8G("checked",i.containsOrgUnits("hospitals",e.id)),t.R7$(),t.Mz_("for","hospital-",e.id,""),t.R7$(),t.JRh(e.name),t.R7$(),t.Y8G("ngForOf",i.generateDistrictQuartiers(e.id))}}function st(a,o){if(1&a){const e=t.RV6();t.j41(0,"div",96)(1,"aside",91)(2,"button",92),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(5);return t.Njj(n.toggleList("commune-"+i.id))}),t.j41(3,"span",17),t.EFF(4),t.k0s()(),t.j41(5,"input",93),t.bIt("change",function(){const i=t.eBV(e).$implicit,n=t.XpG(5);return t.Njj(n.selectCommunes(i))}),t.k0s(),t.j41(6,"label",94),t.EFF(7),t.k0s()(),t.DNE(8,it,9,11,"div",95),t.k0s()}if(2&a){const e=o.$implicit,s=t.XpG().$implicit,i=t.XpG(4);t.Y8G("ngClass",t.eq3(9,C,i.isListOpenToShow("prefecture-"+s.id))),t.R7$(4),t.JRh(i.isListOpenToShow("commune-"+e.id)?"-":"+"),t.R7$(),t.Mz_("id","commune-",e.id,""),t.Y8G("checked",i.containsOrgUnits("communes",e.id)),t.R7$(),t.Mz_("for","commune-",e.id,""),t.R7$(),t.JRh(e.name),t.R7$(),t.Y8G("ngForOf",i.generateHospitals(e.id))}}function ot(a,o){if(1&a){const e=t.RV6();t.j41(0,"div",96)(1,"aside",91)(2,"button",92),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(4);return t.Njj(n.toggleList("prefecture-"+i.id))}),t.j41(3,"span",17),t.EFF(4),t.k0s()(),t.j41(5,"input",93),t.bIt("change",function(){const i=t.eBV(e).$implicit,n=t.XpG(4);return t.Njj(n.selectPrefectures(i))}),t.k0s(),t.j41(6,"label",94),t.EFF(7),t.k0s()(),t.DNE(8,st,9,11,"div",95),t.k0s()}if(2&a){const e=o.$implicit,s=t.XpG().$implicit,i=t.XpG(3);t.Y8G("ngClass",t.eq3(9,C,i.isListOpenToShow("region-"+s.id))),t.R7$(4),t.JRh(i.isListOpenToShow("prefecture-"+e.id)?"-":"+"),t.R7$(),t.Mz_("id","prefecture-",e.id,""),t.Y8G("checked",i.containsOrgUnits("prefectures",e.id)),t.R7$(),t.Mz_("for","prefecture-",e.id,""),t.R7$(),t.JRh(e.name),t.R7$(),t.Y8G("ngForOf",i.generateCommunes(e.id))}}function nt(a,o){if(1&a){const e=t.RV6();t.j41(0,"div",96)(1,"aside",91)(2,"button",92),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(3);return t.Njj(n.toggleList("region-"+i.id))}),t.j41(3,"span",17),t.EFF(4),t.k0s()(),t.j41(5,"input",93),t.bIt("change",function(){const i=t.eBV(e).$implicit,n=t.XpG(3);return t.Njj(n.selectRegions(i))}),t.k0s(),t.j41(6,"label",94),t.EFF(7),t.k0s()(),t.DNE(8,ot,9,11,"div",95),t.k0s()}if(2&a){const e=o.$implicit,s=t.XpG().$implicit,i=t.XpG(2);t.Y8G("ngClass",t.eq3(9,C,i.isListOpenToShow("country-"+s.id))),t.R7$(4),t.JRh(i.isListOpenToShow("region-"+e.id)?"-":"+"),t.R7$(),t.Mz_("id","region-",e.id,""),t.Y8G("checked",i.containsOrgUnits("regions",e.id)),t.R7$(),t.Mz_("for","region-",e.id,""),t.R7$(),t.JRh(e.name),t.R7$(),t.Y8G("ngForOf",i.generatePrefectures(e.id))}}function at(a,o){if(1&a){const e=t.RV6();t.j41(0,"div",90)(1,"aside",91)(2,"button",92),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.toggleList("country-"+i.id))}),t.j41(3,"span",17),t.EFF(4),t.k0s()(),t.j41(5,"input",93),t.bIt("change",function(){const i=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.selectCountries(i))}),t.k0s(),t.j41(6,"label",94),t.EFF(7),t.k0s()(),t.DNE(8,nt,9,11,"div",95),t.k0s()}if(2&a){const e=o.$implicit,s=t.XpG(2);t.R7$(4),t.JRh(s.isListOpenToShow("country-"+e.id)?"-":"+"),t.R7$(),t.Y8G("checked",s.containsOrgUnits("countries",e.id))("id","country-"+e.id),t.R7$(),t.Mz_("for","country-",e.id,""),t.R7$(),t.JRh(e.name),t.R7$(),t.Y8G("ngForOf",s.generateRegions(e.id))}}function rt(a,o){if(1&a){const e=t.RV6();t.j41(0,"div",46)(1,"div",47)(2,"form",48),t.bIt("ngSubmit",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.isEditMode?i.update():i.register())}),t.j41(3,"div",13)(4,"div",14),t.nrm(5,"img",15),t.j41(6,"strong",49)(7,"span"),t.EFF(8),t.k0s()(),t.j41(9,"button",50),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeAddOrUpdateModalVisible())}),t.j41(10,"span",17),t.EFF(11,"\xd7"),t.k0s()()(),t.j41(12,"div",18),t.DNE(13,J,3,1,"p",51),t.j41(14,"div",52)(15,"div",53)(16,"div",54)(17,"h2",55)(18,"button",56),t.EFF(19," Identifiants "),t.k0s()(),t.j41(20,"div",57)(21,"div",58)(22,"div",19)(23,"div",59)(24,"div",60)(25,"span",61),t.nrm(26,"span",62),t.k0s(),t.nrm(27,"input",63),t.k0s(),t.j41(28,"div",60)(29,"span",61),t.nrm(30,"span",62),t.k0s(),t.nrm(31,"input",64),t.k0s(),t.j41(32,"div",60)(33,"span",65),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.showHidePasswordUtils())}),t.nrm(34,"span",66),t.k0s(),t.nrm(35,"input",67),t.k0s()(),t.j41(36,"div",59)(37,"div",60)(38,"span",61),t.nrm(39,"span",68),t.k0s(),t.nrm(40,"input",69),t.k0s(),t.j41(41,"div",60)(42,"div",70),t.nrm(43,"input",71),t.j41(44,"label",72),t.EFF(45," Activer "),t.k0s()()(),t.j41(46,"div",60)(47,"span",65),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.showHidePasswordUtils())}),t.nrm(48,"span",66),t.k0s(),t.nrm(49,"input",73),t.k0s(),t.DNE(50,K,2,0,"div",74),t.k0s()()()()(),t.j41(51,"div",54)(52,"h2",75)(53,"button",76),t.EFF(54," R\xf4les "),t.k0s()(),t.j41(55,"div",77)(56,"div",58)(57,"div",78)(58,"div",19),t.DNE(59,Z,6,9,"ng-container",9),t.k0s()()()()(),t.j41(60,"div",54)(61,"h2",79)(62,"button",80),t.EFF(63," Unit\xe9s d'organisations "),t.k0s()(),t.j41(64,"div",81)(65,"div",58)(66,"div",82),t.DNE(67,at,9,7,"div",83),t.k0s()()()()()(),t.nrm(68,"br"),t.k0s(),t.j41(69,"div",29)(70,"button",84),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeAddOrUpdateModalVisible())}),t.EFF(71,"Fermer"),t.k0s(),t.j41(72,"button",85),t.EFF(73),t.k0s()()()()()()}if(2&a){const e=t.XpG();t.R7$(2),t.Y8G("formGroup",e.isEditMode?e.updateForm:e.registerForm),t.R7$(3),t.FS9("src",e.APP_LOGO,t.B4B),t.R7$(2),t.ZvI(" btn-",e.isEditMode?"warning":"success",""),t.R7$(),t.JRh(e.isEditMode?"Modifier un utilisateur":"Ajouter un utilisateur"),t.R7$(5),t.Y8G("ngIf",""!=e.message),t.R7$(22),t.FS9("type",e.showPassword?"text":"password"),t.R7$(14),t.FS9("type",e.showPassword?"text":"password"),t.R7$(),t.Y8G("ngIf",e.passwordMatchError(e.isEditMode?e.updateForm:e.registerForm)),t.R7$(9),t.Y8G("ngForOf",e.roles$),t.R7$(8),t.Y8G("ngForOf",e.countriesList),t.R7$(5),t.ZvI("btn btn-",e.isEditMode?"warning":"success",""),t.Y8G("disabled",(e.isEditMode?!e.updateForm.valid:!e.registerForm.valid)||e.OrgUnitsIsEmpty()||e.RolesIsEmpty()),t.R7$(),t.JRh(e.isEditMode?"Modifier":"Sauvegarder")}}function lt(a,o){if(1&a&&(t.j41(0,"p"),t.nrm(1,"input",97),t.j41(2,"span",21),t.EFF(3),t.k0s()()),2&a){const e=o.$implicit,s=t.XpG();t.R7$(),t.Y8G("checked",s.containsRole(e.id))("disabled",!0),t.R7$(),t.HbH(s.containsRole(e.id)?"action-checked":"action-unchecked"),t.R7$(),t.SpI(" ",e.name," ")}}let ct=(()=>{class a{OrgUnitsIsEmpty(){return 0===[...this.countries??[],...this.regions??[],...this.prefectures??[],...this.communes??[],...this.hospitals??[],...this.districtQuartiers??[],...this.villageSecteurs??[]].length}RolesIsEmpty(){return 0===(this.selectedRole??[]).length}showHidePasswordUtils(){this.showPassword=!this.showPassword}isListOpenToShow(e){return this.isToOpenList[e]??!1}toggleList(e){this.isToOpenList[e]=!0!==this.isToOpenList[e]}constructor(e,s,i,n,l){this.userCtx=e,this.api=s,this.snackbar=i,this.store=n,this.cst=l,this.users$=[],this.roles$=[],this.isEditMode=!1,this.addOrUpdateModalVisible=!1,this.selectedRole=[],this.message="",this.APP_LOGO="",this.countriesList=[],this.regionsList=[],this.prefecturesList=[],this.communesList=[],this.hospitalsList=[],this.districtQuartiersList=[],this.villageSecteursList=[],this.chwsList=[],this.recosList=[],this.countries=[],this.regions=[],this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.villageSecteurs=[],this.showPassword=!1,this.isToOpenList={},this.APP_LOGO=this.cst.APP_LOGO,this.USER=this.userCtx.currentUserCtx}ngOnInit(){this.GetUsers(),this.GetRoles(),this.GetCountries(),this.GetRegions(),this.GetPrefectures(),this.GetCommunes(),this.GetHospitals(),this.GetDistrictQuartiers(),this.GetVillageSecteurs(),this.GetChws(),this.GetRecos(),this.registerForm=this.registerFormGroup(),this.updateForm=this.updateFormGroup(this.selectedUser),this.updatePasswordForm=this.updatePasswordFormGroup(this.selectedUser)}isAdmin(e){return!0===e.isAdmin}GetRoles(){this.api.GetRoles().subscribe(e=>{200==e.status&&(this.roles$=e.data)},e=>{})}GetUsers(){this.api.getUsers().subscribe(e=>{200===e.status&&(this.users$=e.data)},e=>{console.log(e)})}GetCountries(){this.api.GetCountries().subscribe(e=>{200===e.status&&(this.countriesList=e.data)},e=>{console.log(e)})}GetRegions(){this.api.GetRegions().subscribe(e=>{200===e.status&&(this.regionsList=e.data)},e=>{console.log(e)})}GetPrefectures(){this.api.GetPrefectures().subscribe(e=>{200===e.status&&(this.prefecturesList=e.data)},e=>{console.log(e)})}GetCommunes(){this.api.GetCommunes().subscribe(e=>{200===e.status&&(this.communesList=e.data)},e=>{console.log(e)})}GetHospitals(){this.api.GetHospitals().subscribe(e=>{200===e.status&&(this.hospitalsList=e.data)},e=>{console.log(e)})}GetDistrictQuartiers(){this.api.GetDistrictQuartiers().subscribe(e=>{200===e.status&&(this.districtQuartiersList=e.data)},e=>{console.log(e)})}GetVillageSecteurs(){this.api.GetVillageSecteurs().subscribe(e=>{200===e.status&&(this.villageSecteursList=e.data)},e=>{console.log(e)})}GetFamilys(){this.api.GetFamilys().subscribe(e=>{},e=>{console.log(e)})}GetChws(){this.api.GetChws().subscribe(e=>{200===e.status&&(this.chwsList=e.data)},e=>{console.log(e)})}GetRecos(){this.api.GetRecos().subscribe(e=>{200===e.status&&(this.recosList=e.data)},e=>{console.log(e)})}GetPatients(){this.api.GetPatients().subscribe(e=>{},e=>{console.log(e)})}containsOrgUnits(e,s){if("countries"===e){const i=(this.countries??[]).map(c=>c.id).includes(s),n=(this.regions??[]).map(c=>c.country_id),l=n.includes(s),d=this.generateRegions(s).length===n.length;return i||l&&d}if("regions"===e){const i=(this.regions??[]).map(c=>c.id).includes(s),n=(this.prefectures??[]).map(c=>c.region_id),l=n.includes(s),d=this.generatePrefectures(s).length===n.length;return i||l&&d}if("prefectures"===e){const i=(this.prefectures??[]).map(c=>c.id).includes(s),n=(this.communes??[]).map(c=>c.prefecture_id),l=n.includes(s),d=this.generateCommunes(s).length===n.length;return i||l&&d}if("communes"===e){const i=(this.communes??[]).map(c=>c.id).includes(s),n=(this.hospitals??[]).map(c=>c.commune_id),l=n.includes(s),d=this.generateHospitals(s).length===n.length;return i||l&&d}if("hospitals"===e){const i=(this.hospitals??[]).map(c=>c.id).includes(s),n=(this.districtQuartiers??[]).map(c=>c.hospital_id),l=n.includes(s),d=this.generateDistrictQuartiers(s).length===n.length;return i||l&&d}if("districtQuartiers"===e){const i=(this.districtQuartiers??[]).map(c=>c.id).includes(s),n=(this.villageSecteurs??[]).map(c=>c.district_quartier_id),l=n.includes(s),d=this.generateVillageSecteurs(s).length===n.length;return i||l&&d}return"villageSecteurs"===e&&(this.villageSecteurs??[]).map(n=>n.id).includes(s)}generateRegions(e){return this.regionsList.filter(s=>e===s.country_id)}generatePrefectures(e){return this.prefecturesList.filter(s=>e===s.region_id)}generateCommunes(e){return this.communesList.filter(s=>e===s.prefecture_id)}generateHospitals(e){return this.hospitalsList.filter(s=>e===s.commune_id)}generateDistrictQuartiers(e){return this.districtQuartiersList.filter(s=>e===s.hospital_id)}generateVillageSecteurs(e){return this.villageSecteursList.filter(s=>e===s.district_quartier_id)}closeAddOrUpdateModalVisible(){this.addOrUpdateModalVisible=!1}openAddOrUpdateModalVisible(){this.addOrUpdateModalVisible=!0}selectCountries(e){const s=this.findObj(this.countries,e).index;-1!==s?(this.countries.splice(s,1),this.regions=this.regions.filter(i=>i.country_id!==e.id),this.prefectures=this.prefectures.filter(i=>i.country_id!==e.id),this.communes=this.communes.filter(i=>i.country_id!==e.id),this.hospitals=this.hospitals.filter(i=>i.country_id!==e.id),this.districtQuartiers=this.districtQuartiers.filter(i=>i.country_id!==e.id),this.villageSecteurs=this.villageSecteurs.filter(i=>i.country_id!==e.id)):(this.countries.push(e),this.regions=[...this.regions.filter(i=>i.country_id!==e.id),...this.regionsList.filter(i=>i.country_id===e.id)],this.prefectures=[...this.prefectures.filter(i=>i.country_id!==e.id),...this.prefecturesList.filter(i=>i.country_id===e.id)],this.communes=[...this.communes.filter(i=>i.country_id!==e.id),...this.communesList.filter(i=>i.country_id===e.id)],this.hospitals=[...this.hospitals.filter(i=>i.country_id!==e.id),...this.hospitalsList.filter(i=>i.country_id===e.id)],this.districtQuartiers=[...this.districtQuartiers.filter(i=>i.country_id!==e.id),...this.districtQuartiersList.filter(i=>i.country_id===e.id)],this.villageSecteurs=[...this.villageSecteurs.filter(i=>i.country_id!==e.id),...this.villageSecteursList.filter(i=>i.country_id===e.id)])}selectRegions(e){const s=this.findObj(this.regions,e).index;-1!==s?(this.regions.splice(s,1),this.prefectures=this.prefectures.filter(i=>i.region_id!==e.id),this.communes=this.communes.filter(i=>i.region_id!==e.id),this.hospitals=this.hospitals.filter(i=>i.region_id!==e.id),this.districtQuartiers=this.districtQuartiers.filter(i=>i.region_id!==e.id),this.villageSecteurs=this.villageSecteurs.filter(i=>i.region_id!==e.id)):(this.regions.push(e),this.prefectures=[...this.prefectures.filter(i=>i.region_id!==e.id),...this.prefecturesList.filter(i=>i.region_id===e.id)],this.communes=[...this.communes.filter(i=>i.region_id!==e.id),...this.communesList.filter(i=>i.region_id===e.id)],this.hospitals=[...this.hospitals.filter(i=>i.region_id!==e.id),...this.hospitalsList.filter(i=>i.region_id===e.id)],this.districtQuartiers=[...this.districtQuartiers.filter(i=>i.region_id!==e.id),...this.districtQuartiersList.filter(i=>i.region_id===e.id)],this.villageSecteurs=[...this.villageSecteurs.filter(i=>i.region_id!==e.id),...this.villageSecteursList.filter(i=>i.country_id===e.id)])}selectPrefectures(e){const s=this.findObj(this.prefectures,e).index;-1!==s?(this.prefectures.splice(s,1),this.communes=this.communes.filter(i=>i.prefecture_id!==e.id),this.hospitals=this.hospitals.filter(i=>i.prefecture_id!==e.id),this.districtQuartiers=this.districtQuartiers.filter(i=>i.prefecture_id!==e.id),this.villageSecteurs=this.villageSecteurs.filter(i=>i.prefecture_id!==e.id)):(this.prefectures.push(e),this.communes=[...this.communes.filter(i=>i.prefecture_id!==e.id),...this.communesList.filter(i=>i.prefecture_id===e.id)],this.hospitals=[...this.hospitals.filter(i=>i.prefecture_id!==e.id),...this.hospitalsList.filter(i=>i.prefecture_id===e.id)],this.districtQuartiers=[...this.districtQuartiers.filter(i=>i.prefecture_id!==e.id),...this.districtQuartiersList.filter(i=>i.prefecture_id===e.id)],this.villageSecteurs=[...this.villageSecteurs.filter(i=>i.prefecture_id!==e.id),...this.villageSecteursList.filter(i=>i.prefecture_id===e.id)])}selectCommunes(e){const s=this.findObj(this.communes,e).index;-1!==s?(this.communes.splice(s,1),this.hospitals=this.hospitals.filter(i=>i.commune_id!==e.id),this.districtQuartiers=this.districtQuartiers.filter(i=>i.commune_id!==e.id),this.villageSecteurs=this.villageSecteurs.filter(i=>i.commune_id!==e.id)):(this.communes.push(e),this.hospitals=[...this.hospitals.filter(i=>i.commune_id!==e.id),...this.hospitalsList.filter(i=>i.commune_id===e.id)],this.districtQuartiers=[...this.districtQuartiers.filter(i=>i.commune_id!==e.id),...this.districtQuartiersList.filter(i=>i.commune_id===e.id)],this.villageSecteurs=[...this.villageSecteurs.filter(i=>i.commune_id!==e.id),...this.villageSecteursList.filter(i=>i.commune_id===e.id)])}selectHospitals(e){const s=this.findObj(this.hospitals,e).index;-1!==s?(this.hospitals.splice(s,1),this.districtQuartiers=this.districtQuartiers.filter(i=>i.hospital_id!==e.id),this.villageSecteurs=this.villageSecteurs.filter(i=>i.hospital_id!==e.id)):(this.hospitals.push(e),this.districtQuartiers=[...this.districtQuartiers.filter(i=>i.hospital_id!==e.id),...this.districtQuartiersList.filter(i=>i.hospital_id===e.id)],this.villageSecteurs=[...this.villageSecteurs.filter(i=>i.hospital_id!==e.id),...this.villageSecteursList.filter(i=>i.hospital_id===e.id)])}selectDistrictQuartiers(e){const s=this.findObj(this.districtQuartiers,e).index;-1!==s?(this.districtQuartiers.splice(s,1),this.villageSecteurs=this.villageSecteurs.filter(i=>i.district_quartier_id!==e.id)):(this.districtQuartiers.push(e),this.villageSecteurs=[...this.villageSecteurs.filter(i=>i.district_quartier_id!==e.id),...this.villageSecteursList.filter(i=>i.district_quartier_id===e.id)])}selectVillageSecteurs(e){const s=this.findObj(this.villageSecteurs,e).index;-1!==s?this.villageSecteurs.splice(s,1):this.villageSecteurs.push(e)}findObj(e,s){const[i,n]=(()=>{let l=-1;return[e.find((c,u)=>c.id===s.id&&(l=u,!0)),l]})();return{found:i,index:n}}EditUser(e){this.updateForm=this.updateFormGroup(e),this.selectedRole=e.roleIds,this.selectedUser=e,this.countries=e.countries,this.regions=e.regions,this.prefectures=e.prefectures,this.communes=e.communes,this.hospitals=e.hospitals,this.districtQuartiers=e.districtQuartiers,this.villageSecteurs=e.villageSecteurs,this.isEditMode=!0,this.openAddOrUpdateModalVisible()}EditPassword(e){this.updateForm=this.updatePasswordFormGroup(e),this.selectedUser=e}SelectUser(e){this.selectedUser=e}CreateUser(){this.registerForm=this.registerFormGroup(),this.selectedRole=[],this.selectedUser=null,this.countries=[],this.regions=[],this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.villageSecteurs=[],this.isEditMode=!1,this.openAddOrUpdateModalVisible()}registerFormGroup(){const e={username:new r.MJ("",[r.k0.required,r.k0.minLength(4)]),fullname:new r.MJ(""),email:new r.MJ(""),password:new r.MJ("",[r.k0.required,r.k0.minLength(8)]),passwordConfirm:new r.MJ("",[r.k0.required,r.k0.minLength(8)]),isActive:new r.MJ(!0)},s=[this.MatchValidator("password","passwordConfirm",!1)];return new r.gE(e,s)}updateFormGroup(e){const s={username:new r.MJ(e?.username??"",[r.k0.required,r.k0.minLength(4)]),fullname:new r.MJ(e?.fullname??""),email:new r.MJ(e?.email??""),password:new r.MJ("",[r.k0.minLength(8)]),passwordConfirm:new r.MJ("",[r.k0.minLength(8)]),isActive:new r.MJ(1==e?.isActive)};return!0!==this.USER?.isAdmin&&s.username.disable(),new r.gE(s)}updatePasswordFormGroup(e){const s={username:new r.MJ(e?.username??"",[r.k0.required,r.k0.minLength(4)]),password:new r.MJ("",[r.k0.required,r.k0.minLength(8)]),passwordConfirm:new r.MJ("",[r.k0.required,r.k0.minLength(8)])},i=[this.MatchValidator("password","passwordConfirm",!0)];return!0!==this.USER?.isAdmin&&s.username.disable(),new r.gE(s,i)}passwordMatchError(e){return!e||e.getError("password")&&e.get("passwordConfirm")?.touched}MatchValidator(e,s,i){return n=>{const l=n.get(e),d=n.get(s);if(l&&d){if(l.value!==d.value)return{mismatch:!0};if(i&&((0,m.TM)(l.value)&&l.value.length<8||(0,m.TM)(d.value)&&d.value.length<8))return{mismatch:!0}}return null}}ToStringNewLine(e){return`${e}`.toString().replace(/,/g,"<br>")}ShowRoles(e){this.selectedRole=this.rolesIds(e)}rolesIds(e){return e.roles.filter(s=>(0,m.TM)(s?.id)).map(s=>`${s.id}`)}register(){let e="";const s=this.registerForm.value.password,i=this.registerForm.value.passwordConfirm;if(""==(s??"")||""==(i??"")||s!=i)return e="Password Error, is required",this.snackbar.show(e,{backgroundColor:"danger",duration:5e3}),void(this.message=e);if(this.OrgUnitsIsEmpty()||this.RolesIsEmpty())return e="OrgUnits or Roles are Empty, they are required",this.snackbar.show(e,{backgroundColor:"danger",duration:5e3}),void(this.message=e);const n={username:this.registerForm.value.username,fullname:this.registerForm.value.fullname,email:this.registerForm.value.email,password:s,isActive:!0===this.registerForm.value.isActive,roles:this.selectedRole,countries:this.countries,regions:this.regions,prefectures:this.prefectures,communes:this.communes,hospitals:this.hospitals,districtQuartiers:this.districtQuartiers,villageSecteurs:this.villageSecteurs,chws:this.chwsList.filter(l=>this.districtQuartiers.map(d=>d.id).includes(l.district_quartier_id)),recos:this.recosList.filter(l=>this.villageSecteurs.map(d=>d.id).includes(l.village_secteur_id))};this.api.register(n).subscribe(l=>{if(200===l.status)return this.GetUsers(),this.selectedUser=null,this.selectedRole=[],this.closeAddOrUpdateModalVisible(),this.snackbar.show("Sauvegard\xe9 avec succ\xe8s",{backgroundColor:"success",duration:3e3});e=l.data,this.snackbar.show(e,{backgroundColor:"danger",duration:5e3}),this.message=e},l=>{})}update(){let e="";if(!this.selectedUser)return e="User wasn't selected, please select one user",this.snackbar.show(e,{backgroundColor:"danger",duration:5e3}),void(this.message=e);const s=this.updateForm.value.password,i=this.updateForm.value.passwordConfirm,n=""!=(s??"")&&""!=(i??"");if(n&&s!==i)return e="Password Error, must be the same",this.snackbar.show(e,{backgroundColor:"danger",duration:5e3}),void(this.message=e);if(this.OrgUnitsIsEmpty()||this.RolesIsEmpty())return e="OrgUnits or Roles are Empty, they are required",this.snackbar.show(e,{backgroundColor:"danger",duration:5e3}),void(this.message=e);const l={id:this.selectedUser.id,username:this.selectedUser.username,fullname:this.updateForm.value.fullname,email:this.updateForm.value.email,isActive:!0===this.updateForm.value.isActive,roles:this.selectedRole,countries:this.countries,regions:this.regions,prefectures:this.prefectures,communes:this.communes,hospitals:this.hospitals,districtQuartiers:this.districtQuartiers,villageSecteurs:this.villageSecteurs,chws:this.chwsList.filter(d=>this.districtQuartiers.map(c=>c.id).includes(d.district_quartier_id)),recos:this.recosList.filter(d=>this.villageSecteurs.map(c=>c.id).includes(d.village_secteur_id))};n&&(l.password=s),this.api.updateUser(l).subscribe(d=>{if(200===d.status)return this.GetUsers(),this.selectedUser=null,this.selectedRole=[],this.closeAddOrUpdateModalVisible(),this.snackbar.show("Modifi\xe9 avec succ\xe8s",{backgroundColor:"success",duration:3e3});e=d.data,this.snackbar.show(e,{backgroundColor:"danger",duration:5e3}),this.message=e},d=>{})}updatePassword(){const e=this.updatePasswordForm.value.password,s=this.updatePasswordForm.value.passwordConfirm;if(""!=(e??"")&&""!=(s??"")&&e==s&&this.selectedUser){const i=this.selectedUser;i.password=e,this.api.updatePassword(i).subscribe(n=>{200===n.status&&(this.GetUsers(),this.selectedUser=null,this.selectedRole=[])},n=>{})}}delete(){const e=this.userCtx.currentUserCtx;this.selectedUser&&e&&this.selectedUser.id!=e.id&&this.api.deleteUser(this.selectedUser).subscribe(s=>{200===s.status&&(this.GetUsers(),this.selectedUser=null,this.selectedRole=[])},s=>{})}containsRole(e){return this.selectedRole.includes(`${e}`)}AddOrRemoveRole(e){const s=this.selectedRole.indexOf(`${e}`);-1!==s?this.selectedRole.splice(s,1):this.selectedRole.push(`${e}`)}SelectRoles(){this.selectedRole=this.selectedRole.length==this.roles$.length?[]:this.roles$.filter(e=>(0,m.TM)(e?.id)).map(e=>e?.id?`${e?.id}`:"")}static#t=this.\u0275fac=function(s){return new(s||a)(t.rXU(I.i),t.rXU(E.G),t.rXU(V.z),t.rXU(B.w),t.rXU(Y.D))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-admin-user"]],decls:68,vars:5,consts:[[1,"row","g-4"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-4"],[1,"mb-4"],[2,"color","black"],["type","button",1,"btn","btn-success",2,"float","right",3,"click"],[1,"table-responsive"],[1,"table","table-white"],["colspan","3"],[4,"ngFor","ngForOf"],["class","absolute-fix-modal animated fadeIn",4,"ngIf"],["id","modal-primary",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["height","30","alt","","srcset","",1,"modal-title",3,"src"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-md-6"],[2,"margin-left","5px"],[1,"modal-footer"],["id","close-modal","type","button","data-dismiss","modal",1,"btn","btn-default"],["id","modal-danger",1,"modal","fade"],[1,"modal-content","bg-danger"],[1,"modal-title"],["id","close-delete-modal","type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"login-box-msg"],[1,"modal-footer","justify-content-between"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["type","button",1,"btn","btn-danger","swalDefaultSuccess",3,"click"],[3,"class",4,"ngIf"],["scope","row"],["role","button","data-toggle","modal","data-target","#modal-show-roles",2,"cursor","pointer",3,"click"],[1,"glyphicon","glyphicon-eye-open"],[2,"font-size","20px","font-weight","bold"],["style","cursor: pointer; font-size: 15px; padding: 0px 4px 0px 6px;","class","btn btn-warning",3,"click",4,"ngIf"],["style","cursor: pointer; font-size: 12px; padding: 2px 8px 2px 8px;","class","btn btn-danger",3,"click",4,"ngIf"],["style","cursor: pointer; font-size: 15px;","class","btn-default",4,"ngIf"],[1,"btn","btn-warning",2,"cursor","pointer","font-size","15px","padding","0px 4px 0px 6px",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-danger",2,"cursor","pointer","font-size","12px","padding","2px 8px 2px 8px",3,"click"],[1,"fas","fa-trash-alt"],[1,"btn-default",2,"cursor","pointer","font-size","15px"],[1,"fa","fa-lock"],[1,"absolute-fix-modal","animated","fadeIn"],[2,"width","100%!important","height","100%!important","background","rgba(0, 0, 0, 0.5)","align-items","center!important","justify-content","center!important","display","flex"],["autocomplete","off","novalidate","",1,"form-horizontal",2,"width","600px",3,"ngSubmit","formGroup"],[1,"login-box-msg",2,"text-align","center"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["class","login-box-msg",4,"ngIf"],[1,"bg-white","rounded","h-0","p-4"],["id","accordionExample",1,"accordion"],[1,"accordion-item","bg-transparent"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"accordion-button"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],[1,"col-6"],[1,"input-group","mb-3","col-6"],[1,"input-group-text"],[1,"fas","fa-user"],["autocomplete","off","id","username","type","text","placeholder","Username","formControlName","username","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",2,"background-color","white"],["autocomplete","off","id","fullname","type","text","placeholder","Full Name","formControlName","fullname","aria-label","Full Name","aria-describedby","basic-addon1",1,"form-control",2,"background-color","white"],[1,"input-group-text",3,"click"],[1,"fas","fa-lock"],["autocomplete","off","id","password","placeholder","Password","formControlName","password","aria-label","Password","aria-describedby","basic-addon1",1,"form-control",2,"background-color","white",3,"type"],[1,"fas","fa-envelope"],["autocomplete","off","id","email","type","email","placeholder","Email","formControlName","email","aria-label","Email","aria-describedby","basic-addon1",1,"form-control",2,"background-color","white"],[1,"form-check",2,"margin-left","10px"],["autocomplete","off","id","isActive","type","checkbox","formControlName","isActive",1,"form-check-input",2,"zoom","1.5"],["for","isActive",1,"form-check-label",2,"margin-top","10px"],["autocomplete","off","id","passwordConfirm","placeholder","Retype password","formControlName","passwordConfirm","aria-label","Password Confirm","aria-describedby","basic-addon1",1,"form-control",2,"background-color","white",3,"type"],["class","btn btn-danger",4,"ngIf"],["id","headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingTwo","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[2,"max-height","200px","overflow-y","scroll","overflow-x","hidden","border","1px darkblue dashed","padding","10px"],["id","headingThree",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[2,"max-height","400px","overflow-y","scroll","overflow-x","hidden","border","1px darkblue dashed","padding","10px"],["class","org-units-checkbox-parent",4,"ngFor","ngForOf"],["id","close-modal","type","button","data-dismiss","modal",1,"btn","btn-default",3,"click"],["type","submit",3,"disabled"],[1,"btn","btn-danger"],[1,"col-md-6",3,"ngClass"],["type","checkbox",1,"form-check-input",2,"zoom","1.1",3,"change","id","checked"],[1,"form-check-label",2,"margin-left","5px","cursor","pointer",3,"for"],[1,"org-units-checkbox-parent"],[1,"input-checkbox-group"],["type","button",1,"list-unlist",3,"click"],["type","checkbox",1,"form-check-input","org-units-check-input",3,"change","checked","id"],[1,"form-check-label","org-units-label",3,"for"],["class","org-units-checkbox-parent checkbox-list",3,"ngClass",4,"ngFor","ngForOf"],[1,"org-units-checkbox-parent","checkbox-list",3,"ngClass"],["type","checkbox",3,"checked","disabled"]],template:function(s,i){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"b",4),t.EFF(5,"Utilisateurs"),t.k0s(),t.j41(6,"button",5),t.bIt("click",function(){return i.CreateUser()}),t.EFF(7," Add User "),t.k0s()(),t.j41(8,"div",6)(9,"table",7)(10,"thead")(11,"tr")(12,"th"),t.EFF(13,"N\xb0"),t.k0s(),t.j41(14,"th"),t.EFF(15,"Username"),t.k0s(),t.j41(16,"th"),t.EFF(17,"Full name"),t.k0s(),t.j41(18,"th"),t.EFF(19,"Email"),t.k0s(),t.j41(20,"th"),t.EFF(21,"R\xf4les"),t.k0s(),t.j41(22,"th"),t.EFF(23,"Default Page"),t.k0s(),t.j41(24,"th"),t.EFF(25,"IsOff"),t.k0s(),t.j41(26,"th"),t.EFF(27,"IsAdmin"),t.k0s(),t.nrm(28,"th",8),t.k0s()(),t.DNE(29,z,2,1,"tbody",9),t.k0s()()()()(),t.DNE(30,rt,74,17,"div",10),t.j41(31,"div",11)(32,"div",12)(33,"div",13)(34,"div",14),t.nrm(35,"img",15),t.j41(36,"button",16)(37,"span",17),t.EFF(38,"\xd7"),t.k0s()()(),t.j41(39,"div",18)(40,"div",19)(41,"div",20)(42,"h1")(43,"span",21),t.EFF(44,"R\xf4les"),t.k0s()(),t.DNE(45,lt,4,5,"p",9),t.k0s()()(),t.j41(46,"div",22)(47,"button",23),t.EFF(48,"Close"),t.k0s()()()()(),t.j41(49,"div",24)(50,"div",12)(51,"div",25)(52,"div",14)(53,"h4",26),t.EFF(54,"Suppression d'utilisateur"),t.k0s(),t.j41(55,"button",27)(56,"span",17),t.EFF(57,"\xd7"),t.k0s()()(),t.j41(58,"div",18),t.EFF(59," Cette action est ir\xe9versible! \xcates vous s\xfbr de proc\xe9der \xe0 la suppression ? "),t.j41(60,"p",28)(61,"strong"),t.EFF(62),t.k0s()()(),t.j41(63,"div",29)(64,"button",30),t.EFF(65,"Annuler"),t.k0s(),t.j41(66,"button",31),t.bIt("click",function(){return i.delete()}),t.EFF(67,"Oui Supprimer !"),t.k0s()()()()()),2&s&&(t.R7$(29),t.Y8G("ngForOf",i.users$),t.R7$(),t.Y8G("ngIf",i.addOrUpdateModalVisible),t.R7$(5),t.FS9("src",i.APP_LOGO,t.B4B),t.R7$(10),t.Y8G("ngForOf",i.roles$),t.R7$(17),t.JRh(i.message))},dependencies:[v.YU,v.Sq,v.bT,r.qT,r.me,r.Zm,r.BC,r.cb,r.j4,r.JD],styles:[".checkbox-group[_ngcontent-%COMP%]{position:relative}.parent-checkbox[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.checkbox-list[_ngcontent-%COMP%]{display:none;background-color:#fff;border:none;padding:5px}.checkbox-list.show[_ngcontent-%COMP%]{display:block}.list-unlist[_ngcontent-%COMP%]{background:transparent!important;border:none!important;color:#02024a!important;cursor:pointer!important;font-size:1.6rem!important;padding:0;margin-top:-8px;margin-left:2px;font-weight:bolder;transition:color .3s ease-in-out!important;width:15px;height:15px}.list-unlist[_ngcontent-%COMP%]:hover{color:#00008b!important}.org-units-label[_ngcontent-%COMP%]{margin-left:5px!important;cursor:pointer!important}.org-units-checkbox-parent[_ngcontent-%COMP%]{margin-left:25px!important;border-left:gray 1px dashed!important;padding:0!important}.input-checkbox-group[_ngcontent-%COMP%]{padding:0!important;margin-bottom:10px!important}.org-units-check-input[_ngcontent-%COMP%]{margin-left:5px!important;cursor:pointer!important}.undeleted-user[_ngcontent-%COMP%]{background-color:#fff}.deleted-user[_ngcontent-%COMP%]{background-color:#f1f1f1}.action-checked[_ngcontent-%COMP%]{color:#000}.action-unchecked[_ngcontent-%COMP%]{color:#d6d5d5}"]})}return a})();var A=f(3111),g=f(3308),U=f(4796),dt=f(6465);const L=a=>({"custom-class":a});function ut(a,o){if(1&a){const e=t.RV6();t.j41(0,"i",16),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,n=t.XpG();return t.Njj(n.EditRole(i))}),t.k0s()}}function ht(a,o){if(1&a){const e=t.RV6();t.j41(0,"i",17),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,n=t.XpG();return t.Njj(n.RoleSelectedToDelete(i))}),t.k0s()}}function pt(a,o){if(1&a&&(t.j41(0,"tbody")(1,"tr")(2,"td",13),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.DNE(7,ut,1,0,"i",14),t.k0s(),t.j41(8,"td"),t.DNE(9,ht,1,0,"i",15),t.k0s()()()),2&a){const e=o.$implicit;t.R7$(3),t.JRh(e.id),t.R7$(2),t.JRh(e.name),t.R7$(2),t.Y8G("ngIf",!(null!=e.autorizations&&e.autorizations.includes("_admin"))),t.R7$(2),t.Y8G("ngIf",!(null!=e.autorizations&&e.autorizations.includes("_admin")))}}function mt(a,o){if(1&a){const e=t.RV6();t.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"h4",21),t.EFF(4,"Suppression de role"),t.k0s(),t.j41(5,"button",22),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeRemoveRoleModalVisible())}),t.j41(6,"span",23),t.EFF(7,"\xd7"),t.k0s()()(),t.j41(8,"div",24)(9,"p",25),t.EFF(10," Cette autorization est ir\xe9versible! \xcates vous s\xfbr de proc\xe9der \xe0 la suppression ? "),t.k0s(),t.j41(11,"p",26)(12,"strong"),t.EFF(13),t.k0s()()(),t.j41(14,"div",27)(15,"button",28),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeRemoveRoleModalVisible())}),t.EFF(16,"Annuler"),t.k0s(),t.j41(17,"button",29),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.DeleteRole())}),t.EFF(18,"Oui Supprimer !"),t.k0s()()()()}if(2&a){const e=t.XpG();t.R7$(13),t.JRh(e.message)}}function gt(a,o){if(1&a&&(t.j41(0,"p",26)(1,"strong"),t.EFF(2),t.k0s()()),2&a){const e=t.XpG(2);t.R7$(2),t.JRh(e.message)}}function ft(a,o){if(1&a){const e=t.RV6();t.qex(0),t.j41(1,"div",62)(2,"p")(3,"input",63),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.AddOrRemoveRoute(i))}),t.k0s(),t.j41(4,"span",64),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.AddOrRemoveRoute(i))}),t.EFF(5),t.k0s()()(),t.bVm()}if(2&a){const e=o.$implicit,s=o.index,i=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.eq3(3,L,s<=i.routes$.length/2)),t.R7$(2),t.Y8G("checked",i.containsRoute(e)),t.R7$(2),t.SpI(" ",e.label,"")}}function _t(a,o){if(1&a&&(t.j41(0,"option",65),t.EFF(1),t.k0s()),2&a){const e=o.$implicit;t.FS9("value",e.path),t.R7$(),t.SpI(" ",e.label," ")}}function vt(a,o){if(1&a){const e=t.RV6();t.qex(0),t.j41(1,"div",66)(2,"p")(3,"input",67),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.AddOrRemoveAutorization(i))}),t.k0s(),t.j41(4,"label",68),t.EFF(5),t.k0s()()(),t.bVm()}if(2&a){const e=o.$implicit,s=o.index,i=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.eq3(3,L,s<=i.autorizations$.length/2)),t.R7$(2),t.Y8G("checked",i.containsAutorization(e)),t.R7$(2),t.SpI(" ",e," ")}}function bt(a,o){if(1&a){const e=t.RV6();t.j41(0,"div",30)(1,"div",31)(2,"form",32),t.bIt("ngSubmit",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.CreateOrUpdateRole())}),t.j41(3,"div",33)(4,"div",34)(5,"strong",35)(6,"span"),t.EFF(7),t.k0s()(),t.j41(8,"button",36),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeAddOrUpdateModalVisible())}),t.j41(9,"span",23),t.EFF(10,"\xd7"),t.k0s()()(),t.j41(11,"div",24),t.DNE(12,gt,3,1,"p",37),t.j41(13,"div",38)(14,"div",39)(15,"div",40)(16,"span",41),t.nrm(17,"span",42),t.k0s(),t.nrm(18,"input",43),t.k0s()(),t.nrm(19,"div",39),t.k0s(),t.j41(20,"div",44)(21,"div",45)(22,"div",46)(23,"h2",47)(24,"button",48),t.EFF(25," Pages d'acc\xe8s \xe0 celui qui aura ce role "),t.k0s()(),t.j41(26,"div",49)(27,"div",50)(28,"div",51)(29,"div",38),t.DNE(30,ft,6,5,"ng-container",10),t.k0s()(),t.nrm(31,"br"),t.j41(32,"div",52)(33,"select",53)(34,"option",54),t.EFF(35,"---- Page par d\xe9faut ----"),t.k0s(),t.DNE(36,_t,2,2,"option",55),t.k0s()()()()(),t.j41(37,"div",46)(38,"h2",56)(39,"button",57),t.EFF(40," Autorizations d'actions pour ce role "),t.k0s()(),t.j41(41,"div",58)(42,"div",50)(43,"div",59)(44,"div",38),t.DNE(45,vt,6,5,"ng-container",10),t.k0s()()()()()()()(),t.j41(46,"div",27)(47,"button",60),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeAddOrUpdateModalVisible())}),t.EFF(48,"Fermer"),t.k0s(),t.j41(49,"button",61),t.EFF(50),t.k0s()()()()()()}if(2&a){const e=t.XpG();t.R7$(2),t.Y8G("formGroup",e.roleForm),t.R7$(4),t.ZvI(" btn-",e.isEditMode?"warning":"success",""),t.R7$(),t.SpI(" ",e.isEditMode?"Modifier un role":"Ajouter un role",""),t.R7$(5),t.Y8G("ngIf",""!=e.message),t.R7$(18),t.Y8G("ngForOf",e.routes$),t.R7$(6),t.Y8G("ngForOf",e.selectedRoute),t.R7$(9),t.Y8G("ngForOf",e.autorizations$),t.R7$(4),t.ZvI("btn btn-",e.isEditMode?"warning":"success",""),t.Y8G("disabled",!e.roleForm.valid),t.R7$(),t.SpI("",e.isEditMode?"Modifier":"Sauvegarder"," ")}}let Ft=(()=>{class a{activeSave(){throw new Error("Method not implemented.")}constructor(e,s,i,n){this.auth=e,this.api=s,this.fix=i,this.router=n,this.roles$=[],this.routes$=[],this.autorizations$=[],this.isLoading=!1,this.LoadingMsg="Loading...",this.isEditMode=!1,this.message="",this.selectedRoute=[],this.selectedAutorization=[],this.addOrUpdateModalVisible=!1,this.removeRoleModalVisible=!1}ngOnInit(){this.GetRoles(),this.GetUserAutorizations(),this.GetUserRoutes(),this.roleForm=this.createFormGroup()}GetRoles(){var e=this;this.api.GetRoles().subscribe(function(){var s=(0,g.A)(function*(i){200==i.status&&(e.roles$=i.data)});return function(i){return s.apply(this,arguments)}}(),s=>{})}GetUserAutorizations(){var e=this;this.api.UserAutorizations().subscribe(function(){var s=(0,g.A)(function*(i){200==i.status&&(e.autorizations$=i.data)});return function(i){return s.apply(this,arguments)}}(),s=>{})}GetUserRoutes(){var e=this;this.api.UserRoutes().subscribe(function(){var s=(0,g.A)(function*(i){200==i.status&&(e.routes$=i.data)});return function(i){return s.apply(this,arguments)}}(),s=>{})}closeAddOrUpdateModalVisible(){this.addOrUpdateModalVisible=!1}openAddOrUpdateModalVisible(){this.addOrUpdateModalVisible=!0}closeRemoveRoleModalVisible(){this.removeRoleModalVisible=!1}openRemoveRoleModalVisible(){this.removeRoleModalVisible=!0}EditRole(e){this.isEditMode=!0,this.selectedRoute=this.routes$.filter(s=>(e.routes??[]).map(i=>i.path).includes(s.path)),this.selectedAutorization=this.autorizations$.filter(s=>(e.autorizations??[]).includes(s)),this.roleForm=this.createFormGroup(e),this.selectedRole=e,this.message="",this.openAddOrUpdateModalVisible()}RoleSelectedToDelete(e){this.selectedRole=e,this.message="",this.openRemoveRoleModalVisible()}DeleteRole(){this.isEditMode=!1,this.selectedRole&&this.api.DeleteRole(this.selectedRole).subscribe(e=>{200===e.status?(this.showModalToast("success","Supprim\xe9 avec success"),console.log("successfully deleted!"),this.GetRoles(),this.selectedRole=null,this.selectedRoute=[],this.selectedAutorization=[],this.isLoading=!1,this.message="",this.closeRemoveRoleModalVisible()):this.message=e.data},e=>{this.message=e,this.isLoading=!1,console.log(this.message)})}CreateRole(){this.isEditMode=!1,this.roleForm=this.createFormGroup(),this.selectedRole=null,this.selectedRoute=[],this.selectedAutorization=[],this.message="",this.openAddOrUpdateModalVisible()}containsRoute(e){return null!=this.selectedRoute.find(i=>i.path===e.path)}containsAutorization(e){return this.selectedAutorization.includes(e)}AddOrRemoveRoute(e){const[s,i]=(()=>{let n=-1;return[this.selectedRoute.find((d,c)=>d.path===e.path&&(n=c,!0)),n]})();-1!==i?this.selectedRoute.splice(i,1):this.selectedRoute.push(e)}SelectAllRoutes(){this.selectedRoute=this.selectedRoute.length==this.routes$.length?[]:this.routes$}SelectAllAutorizations(){this.selectedAutorization=this.selectedAutorization.length==this.autorizations$.length?[]:this.autorizations$}AddOrRemoveAutorization(e){const[s,i]=(()=>{let n=-1;return[this.selectedAutorization.find((d,c)=>d===e&&(n=c,!0)),n]})();-1!==i?this.selectedAutorization.splice(i,1):this.selectedAutorization.push(e)}createFormGroup(e){const s={name:new r.MJ(e?.name??"",[r.k0.required,r.k0.minLength(4)]),default_route:new r.MJ(e?.default_route?.path??"")};return this.isEditMode&&s.name.disable(),new r.gE(s)}showModalToast(e,s){this.closeModal("close-delete-modal")}closeModal(e="close-modal"){}ToStringNewLine(e,s){return null!=e?`${e}`.toString().replace(/,/g,"<br>"):""}CreateOrUpdateRole(){var e;if(this.isEditMode?this.selectedRole&&(this.selectedRole.name=this.roleForm.value.name,this.selectedRole.default_route=this.selectedRoute.find(s=>s.path===this.roleForm.value.default_route),this.selectedRole.routes=this.selectedRoute,this.selectedRole.autorizations=this.selectedAutorization,e=this.api.UpdateRole(this.selectedRole)):(this.roleForm.value.default_route=this.selectedRoute.find(s=>s.path===this.roleForm.value.default_route),this.roleForm.value.routes=this.selectedRoute,this.roleForm.value.autorizations=this.selectedAutorization,e=this.api.CreateRole(this.roleForm.value)),e)return e.subscribe(s=>{200===s.status?(this.message="Registed successfully !",this.closeModal(),this.GetRoles(),this.selectedRole=null,this.selectedRoute=[],this.selectedAutorization=[],this.message="",this.closeAddOrUpdateModalVisible()):this.message=s.data,console.log(this.message),this.isLoading=!1},s=>{this.isLoading=!1})}static#t=this.\u0275fac=function(s){return new(s||a)(t.rXU(U.u),t.rXU(E.G),t.rXU(dt.V),t.rXU(x.Ix))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-admin-roles"]],decls:21,vars:3,consts:[[1,"row","g-4"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-4"],[1,"mb-4"],[2,"color","black"],["type","button","data-toggle","modal","data-target","#modal-default",1,"btn","btn-success",2,"float","right",3,"click"],[1,"table-responsive"],[1,"table","table-white"],["scope","col"],["colspan","2","scope","col"],[4,"ngFor","ngForOf"],["class","absolute-fix-modal-parent",4,"ngIf"],["class","absolute-fix-modal animated fadeIn",4,"ngIf"],["scope","row"],["style","padding: 1px 4px 1px 6px;","class","btn btn-warning fas fa-edit",3,"click",4,"ngIf"],["style","padding: 1px 6px 1px 6px;","class","btn btn-danger fas fa-trash-alt",3,"click",4,"ngIf"],[1,"btn","btn-warning","fas","fa-edit",2,"padding","1px 4px 1px 6px",3,"click"],[1,"btn","btn-danger","fas","fa-trash-alt",2,"padding","1px 6px 1px 6px",3,"click"],[1,"absolute-fix-modal-parent"],[1,"modal-content","animated","fadeIn",2,"width","600px","position","absolute","top","0","margin-top","20px"],[1,"modal-header","bg-danger"],[1,"modal-title"],["id","close-delete-modal","type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"font-size","20px"],[1,"login-box-msg"],[1,"modal-footer","justify-content-between"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-danger","swalDefaultSuccess",3,"click"],[1,"absolute-fix-modal","animated","fadeIn"],[2,"width","100%!important","height","100%!important","background","rgba(0, 0, 0, 0.5)","align-items","center!important","justify-content","center!important","display","flex"],["autocomplete","off","novalidate","",1,"form-horizontal",2,"width","800px",3,"ngSubmit","formGroup"],[1,"modal-content"],[1,"modal-header"],[1,"login-box-msg",2,"text-align","center"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["class","login-box-msg",4,"ngIf"],[1,"row"],[1,"col-6"],[1,"input-group","mb-3","col-6"],["id","basic-addon1",1,"input-group-text"],[1,"fas","fa-user"],["type","text","placeholder","Name","formControlName","name","aria-label","Name","aria-describedby","basic-addon1",1,"form-control",2,"background-color","white"],[1,"bg-white","rounded","h-0","p-4"],["id","accordionExample",1,"accordion"],[1,"accordion-item","bg-transparent"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"accordion-button"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],[2,"max-height","300px","overflow-y","scroll","overflow-x","hidden","border","1px darkblue dashed","padding","10px"],[1,"input-group","mb-3"],["formControlName","default_route",1,"form-control",2,"background-color","white"],["value",""],[3,"value",4,"ngFor","ngForOf"],["id","headingTwo",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed"],["id","collapseTwo","aria-labelledby","headingTwo","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[2,"max-height","200px","overflow-y","scroll","overflow-x","hidden","border","1px darkblue dashed","padding","10px"],["id","close-modal","type","button","data-dismiss","modal",1,"btn","btn-default",3,"click"],["type","submit",3,"disabled"],[1,"col-6",3,"ngClass"],["type","checkbox",1,"form-check-input",3,"click","checked"],[2,"margin-left","5px","cursor","pointer",3,"click"],[3,"value"],[1,"col-md-6",3,"ngClass"],["type","checkbox","id","add-remove-autorization",1,"form-check-input",3,"click","checked"],["for","add-remove-autorization",2,"margin-left","5px","cursor","pointer"]],template:function(s,i){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h6",3)(4,"b",4),t.EFF(5,"Roles List"),t.k0s(),t.j41(6,"button",5),t.bIt("click",function(){return i.CreateRole()}),t.EFF(7," Add Role "),t.k0s()(),t.j41(8,"div",6)(9,"table",7)(10,"thead")(11,"tr")(12,"th",8),t.EFF(13,"id"),t.k0s(),t.j41(14,"th",8),t.EFF(15,"Name"),t.k0s(),t.j41(16,"th",9),t.EFF(17,"Actions"),t.k0s()()(),t.DNE(18,pt,10,4,"tbody",10),t.k0s()()()()(),t.DNE(19,mt,19,1,"div",11)(20,bt,51,14,"div",12)),2&s&&(t.R7$(18),t.Y8G("ngForOf",i.roles$),t.R7$(),t.Y8G("ngIf",i.removeRoleModalVisible),t.R7$(),t.Y8G("ngIf",i.addOrUpdateModalVisible))},dependencies:[v.YU,v.Sq,v.bT,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.j4,r.JD]})}return a})(),kt=(()=>{class a{constructor(e){this.router=e}ngOnInit(){}static#t=this.\u0275fac=function(s){return new(s||a)(t.rXU(x.Ix))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-admin-user"]],decls:0,vars:0,template:function(s,i){}})}return a})();class y{constructor(o,e,s,i){if(isNaN(o)||isNaN(e))throw new Error(`Point is invalid: (${o}, ${e})`);this.x=+o,this.y=+e,this.pressure=s||0,this.time=i||Date.now()}distanceTo(o){return Math.sqrt(Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2))}equals(o){return this.x===o.x&&this.y===o.y&&this.pressure===o.pressure&&this.time===o.time}velocityFrom(o){return this.time!==o.time?this.distanceTo(o)/(this.time-o.time):0}}class G{static fromPoints(o,e){const s=this.calculateControlPoints(o[0],o[1],o[2]).c2,i=this.calculateControlPoints(o[1],o[2],o[3]).c1;return new G(o[1],s,i,o[2],e.start,e.end)}static calculateControlPoints(o,e,s){const i=o.x-e.x,n=o.y-e.y,l=e.x-s.x,d=e.y-s.y,c_x=(o.x+e.x)/2,c_y=(o.y+e.y)/2,u_x=(e.x+s.x)/2,u_y=(e.y+s.y)/2,h=Math.sqrt(i*i+n*n),p=Math.sqrt(l*l+d*d),_=p/(h+p),R=e.x-(u_x+(c_x-u_x)*_),w=e.y-(u_y+(c_y-u_y)*_);return{c1:new y(c_x+R,c_y+w),c2:new y(u_x+R,u_y+w)}}constructor(o,e,s,i,n,l){this.startPoint=o,this.control2=e,this.control1=s,this.endPoint=i,this.startWidth=n,this.endWidth=l}length(){let s,i,e=0;for(let n=0;n<=10;n+=1){const l=n/10,d=this.point(l,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),c=this.point(l,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){const u=d-s,h=c-i;e+=Math.sqrt(u*u+h*h)}s=d,i=c}return e}point(o,e,s,i,n){return e*(1-o)*(1-o)*(1-o)+3*s*(1-o)*(1-o)*o+3*i*(1-o)*o*o+n*o*o*o}}class At{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(o,e,s){this._et.addEventListener(o,e,s)}dispatchEvent(o){return this._et.dispatchEvent(o)}removeEventListener(o,e,s){this._et.removeEventListener(o,e,s)}}class j extends At{constructor(o,e={}){super(),this.canvas=o,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=s=>{1===s.buttons&&this._strokeBegin(s)},this._handleMouseMove=s=>{this._strokeMoveUpdate(s)},this._handleMouseUp=s=>{1===s.buttons&&this._strokeEnd(s)},this._handleTouchStart=s=>{s.cancelable&&s.preventDefault(),1===s.targetTouches.length&&this._strokeBegin(s.changedTouches[0])},this._handleTouchMove=s=>{s.cancelable&&s.preventDefault(),this._strokeMoveUpdate(s.targetTouches[0])},this._handleTouchEnd=s=>{s.target===this.canvas&&(s.cancelable&&s.preventDefault(),this._strokeEnd(s.changedTouches[0]))},this._handlePointerStart=s=>{s.preventDefault(),this._strokeBegin(s)},this._handlePointerMove=s=>{this._strokeMoveUpdate(s)},this._handlePointerEnd=s=>{this._drawingStroke&&(s.preventDefault(),this._strokeEnd(s))},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle="throttle"in e?e.throttle:16,this.minDistance="minDistance"in e?e.minDistance:5,this.dotSize=e.dotSize||0,this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=e.compositeOperation||"source-over",this.canvasContextOptions="canvasContextOptions"in e?e.canvasContextOptions:{},this._strokeMoveUpdate=this.throttle?function Ct(a,o=250){let i,n,l,e=0,s=null;const d=()=>{e=Date.now(),s=null,i=a.apply(n,l),s||(n=null,l=[])};return function(...u){const h=Date.now(),p=o-(h-e);return n=this,l=u,p<=0||p>o?(s&&(clearTimeout(s),s=null),e=h,i=a.apply(n,l),s||(n=null,l=[])):s||(s=window.setTimeout(d,p)),i}}(j.prototype._strokeUpdate,this.throttle):j.prototype._strokeUpdate,this._ctx=o.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){const{_ctx:o,canvas:e}=this;o.fillStyle=this.backgroundColor,o.clearRect(0,0,e.width,e.height),o.fillRect(0,0,e.width,e.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(o,e={}){return new Promise((s,i)=>{const n=new Image,l=e.ratio||window.devicePixelRatio||1,d=e.width||this.canvas.width/l,c=e.height||this.canvas.height/l,u=e.xOffset||0,h=e.yOffset||0;this._reset(this._getPointGroupOptions()),n.onload=()=>{this._ctx.drawImage(n,u,h,d,c),s()},n.onerror=p=>{i(p)},n.crossOrigin="anonymous",n.src=o,this._isEmpty=!1})}toDataURL(o="image/png",e){return"image/svg+xml"===o?("object"!=typeof e&&(e=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(e))}`):("number"!=typeof e&&(e=void 0),this.canvas.toDataURL(o,e))}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const o=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!o?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(o,{clear:e=!0}={}){e&&this.clear(),this._fromData(o,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(o)}toData(){return this._data}_getPointGroupOptions(o){return{penColor:o&&"penColor"in o?o.penColor:this.penColor,dotSize:o&&"dotSize"in o?o.dotSize:this.dotSize,minWidth:o&&"minWidth"in o?o.minWidth:this.minWidth,maxWidth:o&&"maxWidth"in o?o.maxWidth:this.maxWidth,velocityFilterWeight:o&&"velocityFilterWeight"in o?o.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:o&&"compositeOperation"in o?o.compositeOperation:this.compositeOperation}}_strokeBegin(o){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:o,cancelable:!0})))return;this._drawingStroke=!0;const s=this._getPointGroupOptions(),i=Object.assign(Object.assign({},s),{points:[]});this._data.push(i),this._reset(s),this._strokeUpdate(o)}_strokeUpdate(o){if(!this._drawingStroke)return;if(0===this._data.length)return void this._strokeBegin(o);this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:o}));const n=this._createPoint(o.clientX,o.clientY,void 0!==o.pressure?o.pressure:void 0!==o.force?o.force:0),l=this._data[this._data.length-1],d=l.points,c=d.length>0&&d[d.length-1],u=!!c&&n.distanceTo(c)<=this.minDistance,h=this._getPointGroupOptions(l);if(!c||!c||!u){const p=this._addPoint(n,h);c?p&&this._drawCurve(p,h):this._drawDot(n,h),d.push({time:n.time,x:n.x,y:n.y,pressure:n.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:o}))}_strokeEnd(o){this._drawingStroke&&(this._strokeUpdate(o),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:o})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(o){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(o.minWidth+o.maxWidth)/2,this._ctx.fillStyle=o.penColor,this._ctx.globalCompositeOperation=o.compositeOperation}_createPoint(o,e,s){const i=this.canvas.getBoundingClientRect();return new y(o-i.left,e-i.top,s,(new Date).getTime())}_addPoint(o,e){const{_lastPoints:s}=this;if(s.push(o),s.length>2){3===s.length&&s.unshift(s[0]);const i=this._calculateCurveWidths(s[1],s[2],e),n=G.fromPoints(s,i);return s.shift(),n}return null}_calculateCurveWidths(o,e,s){const i=s.velocityFilterWeight*e.velocityFrom(o)+(1-s.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(i,s),l={end:n,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=n,l}_strokeWidth(o,e){return Math.max(e.maxWidth/(o+1),e.minWidth)}_drawCurveSegment(o,e,s){const i=this._ctx;i.moveTo(o,e),i.arc(o,e,s,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(o,e){const s=this._ctx,i=o.endWidth-o.startWidth,n=2*Math.ceil(o.length());s.beginPath(),s.fillStyle=e.penColor;for(let l=0;l<n;l+=1){const d=l/n,c=d*d,u=c*d,h=1-d,p=h*h,b=p*h;let F=b*o.startPoint.x;F+=3*p*d*o.control1.x,F+=3*h*c*o.control2.x,F+=u*o.endPoint.x;let _=b*o.startPoint.y;_+=3*p*d*o.control1.y,_+=3*h*c*o.control2.y,_+=u*o.endPoint.y;const k=Math.min(o.startWidth+u*i,e.maxWidth);this._drawCurveSegment(F,_,k)}s.closePath(),s.fill()}_drawDot(o,e){const s=this._ctx,i=e.dotSize>0?e.dotSize:(e.minWidth+e.maxWidth)/2;s.beginPath(),this._drawCurveSegment(o.x,o.y,i),s.closePath(),s.fillStyle=e.penColor,s.fill()}_fromData(o,e,s){for(const i of o){const{points:n}=i,l=this._getPointGroupOptions(i);if(n.length>1)for(let d=0;d<n.length;d+=1){const c=n[d],u=new y(c.x,c.y,c.pressure,c.time);0===d&&this._reset(l);const h=this._addPoint(u,l);h&&e(h,l)}else this._reset(l),s(n[0],l)}}toSVG({includeBackgroundColor:o=!1}={}){const e=this._data,s=Math.max(window.devicePixelRatio||1,1),l=this.canvas.width/s,d=this.canvas.height/s,c=document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.setAttribute("xmlns","http://www.w3.org/2000/svg"),c.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),c.setAttribute("viewBox",`0 0 ${l} ${d}`),c.setAttribute("width",l.toString()),c.setAttribute("height",d.toString()),o&&this.backgroundColor){const u=document.createElement("rect");u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("fill",this.backgroundColor),c.appendChild(u)}return this._fromData(e,(u,{penColor:h})=>{const p=document.createElement("path");if(!(isNaN(u.control1.x)||isNaN(u.control1.y)||isNaN(u.control2.x)||isNaN(u.control2.y))){const b=`M ${u.startPoint.x.toFixed(3)},${u.startPoint.y.toFixed(3)} C ${u.control1.x.toFixed(3)},${u.control1.y.toFixed(3)} ${u.control2.x.toFixed(3)},${u.control2.y.toFixed(3)} ${u.endPoint.x.toFixed(3)},${u.endPoint.y.toFixed(3)}`;p.setAttribute("d",b),p.setAttribute("stroke-width",(2.25*u.endWidth).toFixed(3)),p.setAttribute("stroke",h),p.setAttribute("fill","none"),p.setAttribute("stroke-linecap","round"),c.appendChild(p)}},(u,{penColor:h,dotSize:p,minWidth:b,maxWidth:F})=>{const _=document.createElement("circle");_.setAttribute("r",(p>0?p:(b+F)/2).toString()),_.setAttribute("cx",u.x.toString()),_.setAttribute("cy",u.y.toString()),_.setAttribute("fill",h),c.appendChild(_)}),c.outerHTML}}function Rt(a,o){if(1&a&&t.nrm(0,"img",14),2&a){const e=t.XpG();t.Y8G("src",e.signatureImage,t.B4B)}}let wt=(()=>{class a{updateMinWidth(e){const s=parseFloat(e.target.value);this.signaturePad.minWidth=s}updateMaxWidth(e){const s=parseFloat(e.target.value);this.signaturePad.maxWidth=s}updateBackgroundColor(e){this.signaturePad.backgroundColor=e.target.value}updatePenColor(e){this.signaturePad.penColor=e.target.value}updateVelocityFilterWeight(e){const s=parseFloat(e.target.value);this.signaturePad.velocityFilterWeight=s}updateThrottle(e){const s=parseFloat(e.target.value);this.signaturePad.throttle=s}updateMinDistance(e){const s=parseFloat(e.target.value);this.signaturePad.minDistance=s}updateDotSize(e){const s=parseFloat(e.target.value);this.signaturePad.dotSize=s}constructor(e){this.router=e,this.signatureImage=null,this.defaultMinWidth=.5,this.defaultMaxWidth=2.5,this.defaultBackgroundColor="rgba(255, 255, 255, 0)",this.defaultPenColor="rgb(0, 0, 0)",this.defaultVelocityFilterWeight=.7,this.defaultThrottle=16,this.defaultMinDistance=5,this.defaultDotSize=1}ngOnInit(){this.InitSignaturePadView()}InitSignaturePadView(){const e=document.getElementById("signature-pad");if(e){this.signaturePad=new j(e,{minWidth:this.defaultMinWidth,maxWidth:this.defaultMaxWidth,backgroundColor:this.defaultBackgroundColor,penColor:this.defaultPenColor,velocityFilterWeight:this.defaultVelocityFilterWeight,throttle:this.defaultThrottle,minDistance:this.defaultMinDistance,dotSize:this.defaultDotSize});var s=document.getElementById("saveAsPNG"),i=document.getElementById("saveAsJPEG"),n=document.getElementById("saveAsJPEG_05"),l=document.getElementById("saveAsSVG"),d=document.getElementById("clear");const c=this;s&&s.addEventListener("click",function(u){var h=c.signaturePad.toDataURL("image/png");c.saveSignature(h)}),i&&i.addEventListener("click",function(u){var h=c.signaturePad.toDataURL("image/jpg");c.saveSignature(h)}),n&&n.addEventListener("click",function(u){var h=c.signaturePad.toDataURL("image/jpg",.5);c.saveSignature(h)}),l&&l.addEventListener("click",function(u){var h=c.signaturePad.toDataURL("image/svg+xml");c.saveSignature(h)}),d&&d.addEventListener("click",function(u){c.signaturePad.clear()})}}SvgStringWithoutBase64Convertion(e){return this.signaturePad.toSVG({includeBackgroundColor:e})}DrawSignatureDataURL(e,s){this.signaturePad.fromDataURL("data:image/png;base64,iVBORw0K...",{ratio:1,width:400,height:200,xOffset:100,yOffset:50})}DrawSignatureFromPointGroup(e,s){return this.signaturePad.fromData(e,{clear:s})}SignaturePointGroupsAsArray(){return this.signaturePad.toData()}isCanvasEmpty(){return this.signaturePad.isEmpty()}UnbindsAllEventHandlers(){this.signaturePad.off()}RebindsAllEventHandlers(){this.signaturePad.on()}clearSignature(){this.signaturePad.clear(),this.signatureImage=null}saveSignature(e){this.signatureImage=e}static#t=this.\u0275fac=function(s){return new(s||a)(t.rXU(x.Ix))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-dashboard-1"]],decls:53,vars:9,consts:[[1,"wrapper"],["src","https://preview.ibb.co/jnW4Qz/Grumpy_Cat_920x584.jpg","width","400","height","200"],["id","signature-pad","width","400","height","200",1,"signature-pad"],["id","actionBtn"],["id","saveAsPNG"],["id","saveAsJPEG"],["id","saveAsJPEG_05"],["id","saveAsSVG"],["id","clear"],["alt","Signature",3,"src",4,"ngIf"],[1,"options-container"],[1,"option"],["type","number",3,"change","value"],["type","color",3,"change","value"],["alt","Signature",3,"src"]],template:function(s,i){1&s&&(t.j41(0,"h1"),t.EFF(1," Draw over image\n"),t.k0s(),t.j41(2,"div",0),t.nrm(3,"img",1)(4,"canvas",2),t.k0s(),t.j41(5,"div",3)(6,"button",4),t.EFF(7,"saveAsPNG"),t.k0s(),t.j41(8,"button",5),t.EFF(9,"saveAsJPEG"),t.k0s(),t.j41(10,"button",6),t.EFF(11,"saveAsJPEG_05"),t.k0s(),t.j41(12,"button",7),t.EFF(13,"saveAsSVG"),t.k0s(),t.j41(14,"button",8),t.EFF(15,"Clear"),t.k0s()(),t.nrm(16,"br")(17,"br"),t.j41(18,"div"),t.DNE(19,Rt,1,1,"img",9),t.k0s(),t.j41(20,"div",10)(21,"div",11)(22,"label"),t.EFF(23,"Min Width:"),t.k0s(),t.j41(24,"input",12),t.bIt("change",function(l){return i.updateMinWidth(l)}),t.k0s()(),t.j41(25,"div",11)(26,"label"),t.EFF(27,"Max Width:"),t.k0s(),t.j41(28,"input",12),t.bIt("change",function(l){return i.updateMaxWidth(l)}),t.k0s()(),t.j41(29,"div",11)(30,"label"),t.EFF(31,"Background Color:"),t.k0s(),t.j41(32,"input",13),t.bIt("change",function(l){return i.updateBackgroundColor(l)}),t.k0s()(),t.j41(33,"div",11)(34,"label"),t.EFF(35,"Pen Color:"),t.k0s(),t.j41(36,"input",13),t.bIt("change",function(l){return i.updatePenColor(l)}),t.k0s()(),t.j41(37,"div",11)(38,"label"),t.EFF(39,"Velocity Filter Weight:"),t.k0s(),t.j41(40,"input",12),t.bIt("change",function(l){return i.updateVelocityFilterWeight(l)}),t.k0s()(),t.j41(41,"div",11)(42,"label"),t.EFF(43,"Throttle:"),t.k0s(),t.j41(44,"input",12),t.bIt("change",function(l){return i.updateThrottle(l)}),t.k0s()(),t.j41(45,"div",11)(46,"label"),t.EFF(47,"Min Distance:"),t.k0s(),t.j41(48,"input",12),t.bIt("change",function(l){return i.updateMinDistance(l)}),t.k0s()(),t.j41(49,"div",11)(50,"label"),t.EFF(51,"Dot Size:"),t.k0s(),t.j41(52,"input",12),t.bIt("change",function(l){return i.updateDotSize(l)}),t.k0s()()()),2&s&&(t.R7$(19),t.Y8G("ngIf",i.signatureImage),t.R7$(5),t.Y8G("value",i.defaultMinWidth),t.R7$(4),t.Y8G("value",i.defaultMaxWidth),t.R7$(4),t.Y8G("value",i.defaultBackgroundColor),t.R7$(4),t.Y8G("value",i.defaultPenColor),t.R7$(4),t.Y8G("value",i.defaultVelocityFilterWeight),t.R7$(4),t.Y8G("value",i.defaultThrottle),t.R7$(4),t.Y8G("value",i.defaultMinDistance),t.R7$(4),t.Y8G("value",i.defaultDotSize))},dependencies:[v.bT],styles:[".wrapper[_ngcontent-%COMP%]{position:relative;width:400px;height:200px;-webkit-user-select:none;user-select:none}.wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:0;top:0}.signature-pad[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:400px;height:200px}#actionBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px}.options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.option[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;align-items:center}.option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.option[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .option[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc;border-radius:3px;width:100px}"]})}return a})(),N=(()=>{class a{constructor(){}ngOnInit(){}OpenPdfFile(){}downloadPdf(){return(0,g.A)(function*(){})()}download(e){const s=document.createElement("a");document.body.appendChild(s),s.style.display="none",s.href=e,s.download="generated.pdf",s.click(),URL.revokeObjectURL(e)}generatePdfCOntentData(){return[{text:"Beautiful PDF with Existing Data",style:"header"},{text:"Name:  + data.name"},{text:"Email:  + data.email"},{text:"Phone:  + data.phone"},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Page 1 Content",style:"header"},{text:"This is page 1",style:"paragraph"},{text:"Page 2 Content",style:"header"},{text:"This is page 2",style:"paragraph"},{text:"Page 3 Content",style:"header"},{text:"This is page 3",style:"paragraph"},{text:"Page 4 Content",style:"header"},{text:"This is page 4",style:"paragraph"},{text:"Beautiful PDF with Existing Data",style:"header"},{text:"Name:  + data.name"},{text:"Email:  + data.email"},{text:"Phone:  + data.phone"},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Page 1 Content",style:"header"},{text:"This is page 1",style:"paragraph"},{text:"Page 2 Content",style:"header"},{text:"This is page 2",style:"paragraph"},{text:"Page 3 Content",style:"header"},{text:"This is page 3",style:"paragraph"},{text:"Page 4 Content",style:"header"},{text:"This is page 4",style:"paragraph"},{text:"Beautiful PDF with Existing Data",style:"header"},{text:"Name: + data.name"},{text:"Email: + data.email"},{text:"Phone: + data.phone"},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Page 1 Content",style:"header"},{text:"This is page 1",style:"paragraph"},{text:"Page 2 Content",style:"header"},{text:"This is page 2",style:"paragraph"},{text:"Page 3 Content",style:"header"},{text:"This is page 3",style:"paragraph"},{text:"Page 4 Content",style:"header"},{text:"This is page 4",style:"paragraph"},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Table:",style:"subheader"},{ul:["Item 1","Item 2","Item 3"]},{text:"Images",style:"header"},{columns:[{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100}]},{columns:[{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100}]},{table:{body:[["Column 1","Column 2","Column 3"],["Row 1, Cell 1","Row 1, Cell 2","Row 1, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"]]}},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Table:",style:"subheader"},{style:"table",table:{headerRows:1,widths:["auto","*","auto","auto","auto"],body:[["N\xb0","Designation","Quantity","Unique Price","Total"],["1","Product A","5","$10","$50"],["2","Product B","3","$15","$45"],["3","Product C","2","$20","$40"]]}},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Table:",style:"subheader"},{style:"table",table:{headerRows:1,widths:["auto","*","auto","auto","auto"],body:[["N\xb0","Designation","Quantity","Unique Price","Total"],["1","Product A","5","$10","$50"],["2","Product B","3","$15","$45"],["3","Product C","2","$20","$40"]]}},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Table:",style:"subheader"},{style:"table",table:{headerRows:1,widths:["auto","*","auto","auto","auto"],body:[[{text:"N\xb0",style:"tableHeader"},{text:"Designation",style:"tableHeader"},{text:"Quantity",style:"tableHeader"},{text:"Unique Price",style:"tableHeader"},{text:"Total",style:"tableHeader"}],["1","Product A","5","$10","$50"],["2","Product B","3","$15","$45"],["3","Product C","2","$20","$40"]]}}]}getImageData(e){return(0,g.A)(function*(){return""})()}static#t=this.\u0275fac=function(s){return new(s||a)};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-pdf-generator"]],decls:4,vars:0,consts:[[3,"click"]],template:function(s,i){1&s&&(t.j41(0,"button",0),t.bIt("click",function(){return i.OpenPdfFile()}),t.EFF(1,"Open PDF"),t.k0s(),t.j41(2,"button",0),t.bIt("click",function(){return i.downloadPdf()}),t.EFF(3,"downloadPdf PDF"),t.k0s())}})}return a})();function xt(a,o){if(1&a){const e=t.RV6();t.j41(0,"tbody")(1,"tr")(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td")(9,"i",40),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG();return t.Njj(n.EditApi(i))}),t.k0s()(),t.j41(10,"td")(11,"i",41),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG();return t.Njj(n.ApiSelected(i))}),t.k0s()()()()}if(2&a){const e=o.$implicit;t.R7$(3),t.JRh(e.id),t.R7$(2),t.JRh(e.token),t.R7$(2),t.JRh(e.isActive?"OK":"NO ACCESS")}}function Et(a,o){if(1&a&&(t.j41(0,"p",37)(1,"strong"),t.EFF(2),t.k0s()()),2&a){const e=t.XpG();t.R7$(2),t.JRh(e.message)}}function yt(a,o){1&a&&(t.j41(0,"h1"),t.EFF(1,"Token"),t.k0s())}let jt=(()=>{class a{constructor(e,s){this.auth=e,this.api=s,this.apis$=[],this.isLoading=!1,this.LoadingMsg="Loading...",this.isEditMode=!1,this.message="",this.tokenLenght=0,this.defaultTokenLenght=30}ngOnInit(){this.GetApis(),this.apiForm=this.createFormGroup()}generateTokenLenght(e){const s=e.target;s&&(this.tokenLenght=(s.value??"").length)}GetApis(){var e=this;this.api.ApiTokenAccessAction({action:"list"}).subscribe(function(){var s=(0,g.A)(function*(i){200==i.status&&(e.apis$=i.data)});return function(i){return s.apply(this,arguments)}}(),s=>{})}EditApi(e){this.isEditMode=!0,this.apiForm=this.createFormGroup(e),this.ApiSelected(e)}ApiSelected(e){this.selectedApi=e,this.message=""}DeleteApi(){this.isEditMode=!1,this.selectedApi&&this.api.ApiTokenAccessAction({action:"list",id:this.selectedApi.id}).subscribe(e=>{200===e.status?(this.showModalToast("success","Supprim\xe9 avec success"),this.GetApis(),this.selectedApi=null,this.isLoading=!1,this.message=""):this.message=e.data,console.log(this.message)},e=>{this.message=e,this.isLoading=!1,console.log(this.message)})}CreateApi(){this.isEditMode=!1,this.apiForm=this.createFormGroup(),this.selectedApi=null,this.message=""}createFormGroup(e){const s={token:new r.MJ(null!=e?e.token:"",[r.k0.required,r.k0.minLength(this.defaultTokenLenght),r.k0.maxLength(this.defaultTokenLenght)]),isActive:new r.MJ(null!=e&&e.isActive)};return new r.gE(s)}showModalToast(e,s){showToast(e,s),this.closeModal("close-delete-modal")}closeModal(e="close-modal"){$("#"+e).trigger("click")}CreateOrUpdateApi(){var e;if(this.isEditMode?this.selectedApi&&(e=this.api.ApiTokenAccessAction({action:"update",id:this.selectedApi.id,token:this.apiForm.value.token,isActive:this.apiForm.value.isActive})):e=this.api.ApiTokenAccessAction({action:"create",token:this.apiForm.value.token,isActive:this.apiForm.value.isActive}),e)return e.subscribe(s=>{200===s.status?(this.message="Registed successfully !",this.closeModal(),this.GetApis(),this.selectedApi=null,this.message=""):this.message=s.data,console.log(this.message),this.isLoading=!1},s=>{this.isLoading=!1})}static#t=this.\u0275fac=function(s){return new(s||a)(t.rXU(U.u),t.rXU(E.G))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["user-api"]],decls:76,vars:17,consts:[[1,"page-title","card","card-primary","card-outline"],[1,"card-body"],[1,"fas","fa-user",2,"float","left"],["type","button","data-toggle","modal","data-target","#modal-default",1,"btn","btn-default",2,"float","right",3,"click"],[1,"page-content-wrap"],[1,"row"],[1,"col-md-12"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"panel-body"],[1,"table","datatable"],["colspan","2"],[4,"ngFor","ngForOf"],["id","modal-default",1,"modal","fade"],[1,"modal-dialog"],["novalidate","",1,"form-horizontal",3,"ngSubmit","formGroup"],[1,"modal-content"],[1,"modal-header"],[1,"login-box-msg",2,"text-align","center"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["class","login-box-msg",4,"ngIf"],[4,"ngIf"],[1,"input-group","mb-3"],["id","api-token","id","token","type","text","placeholder","Token","formControlName","token",1,"form-control",3,"input","maxlength"],[1,"col-6"],[1,"icheck-primary"],["type","checkbox","id","isActive","formControlName","isActive"],["for","isActive"],[1,"modal-footer","justify-content-between"],["id","close-modal","type","button","data-dismiss","modal",1,"btn","btn-default"],["type","submit",3,"disabled"],["id","modal-danger",1,"modal","fade"],[1,"modal-content","bg-danger"],[1,"modal-title"],["id","close-delete-modal","type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"login-box-msg"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["type","button",1,"btn","btn-danger","swalDefaultSuccess",3,"click"],["data-toggle","modal","data-target","#modal-default",1,"btn-warning","fas","fa-edit",3,"click"],["data-toggle","modal","data-target","#modal-danger",1,"btn-danger","fas","fa-trash-alt",3,"click"]],template:function(s,i){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.EFF(3," API List"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return i.CreateApi()}),t.EFF(5," Add API "),t.k0s()()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),t.nrm(10,"div",8),t.j41(11,"div",9)(12,"table",10)(13,"thead")(14,"tr")(15,"th"),t.EFF(16,"id"),t.k0s(),t.j41(17,"th"),t.EFF(18,"Token"),t.k0s(),t.j41(19,"th"),t.EFF(20,"IsActive"),t.k0s(),t.j41(21,"th",11),t.EFF(22,"Actions"),t.k0s()()(),t.DNE(23,xt,12,3,"tbody",12),t.k0s()()()()()(),t.j41(24,"div",13)(25,"div",14)(26,"form",15),t.bIt("ngSubmit",function(){return i.CreateOrUpdateApi()}),t.j41(27,"div",16)(28,"div",17)(29,"strong",18)(30,"span"),t.EFF(31),t.k0s()(),t.j41(32,"button",19)(33,"span",20),t.EFF(34,"\xd7"),t.k0s()()(),t.j41(35,"div",21),t.DNE(36,Et,3,1,"p",22)(37,yt,2,0,"h1",23),t.j41(38,"div",24)(39,"input",25),t.bIt("input",function(l){return i.generateTokenLenght(l)}),t.k0s()(),t.j41(40,"p"),t.EFF(41),t.j41(42,"strong"),t.EFF(43),t.k0s()(),t.nrm(44,"br"),t.j41(45,"div",5)(46,"div",26)(47,"div",24)(48,"div",27),t.nrm(49,"input",28),t.j41(50,"label",29),t.EFF(51,"Activer"),t.k0s()()()()()(),t.j41(52,"div",30)(53,"button",31),t.EFF(54,"Close"),t.k0s(),t.j41(55,"button",32),t.EFF(56),t.k0s()()()()()(),t.j41(57,"div",33)(58,"div",14)(59,"div",34)(60,"div",17)(61,"h4",35),t.EFF(62,"Suppression d'utilisateur"),t.k0s(),t.j41(63,"button",36)(64,"span",20),t.EFF(65,"\xd7"),t.k0s()()(),t.j41(66,"div",21),t.EFF(67," Cette action est ir\xe9versible! \xcates vous s\xfbr de proc\xe9der \xe0 la suppression ? "),t.j41(68,"p",37)(69,"strong"),t.EFF(70),t.k0s()()(),t.j41(71,"div",30)(72,"button",38),t.EFF(73,"Annuler"),t.k0s(),t.j41(74,"button",39),t.bIt("click",function(){return i.DeleteApi()}),t.EFF(75,"Oui Supprimer !"),t.k0s()()()()()),2&s&&(t.R7$(23),t.Y8G("ngForOf",i.apis$),t.R7$(3),t.Y8G("formGroup",i.apiForm),t.R7$(4),t.ZvI(" btn-",i.isEditMode?"warning":"success",""),t.R7$(),t.SpI(" ",i.isEditMode?"Modifier un utilisateur":"Ajouter un utilisateur",""),t.R7$(5),t.Y8G("ngIf",""!=i.message),t.R7$(),t.Y8G("ngIf",i.isEditMode),t.R7$(2),t.Y8G("maxlength",i.defaultTokenLenght),t.R7$(2),t.SpI("",i.tokenLenght," / "),t.R7$(2),t.JRh(i.defaultTokenLenght),t.R7$(12),t.ZvI("btn btn-",i.isEditMode?"warning":"success",""),t.Y8G("disabled",!i.apiForm.valid),t.R7$(),t.SpI("",i.isEditMode?"Modifier":"Sauvegarder"," "),t.R7$(14),t.JRh(i.message))},dependencies:[v.Sq,v.bT,r.qT,r.me,r.Zm,r.BC,r.cb,r.tU,r.j4,r.JD],encapsulation:2})}return a})();function Gt(a,o){if(1&a&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&a){const e=o.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Tt(a,o){if(1&a&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&a){const e=o.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function $t(a,o){if(1&a&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&a){const e=o.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Dt(a,o){if(1&a&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&a){const e=o.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function St(a,o){if(1&a&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&a){const e=o.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Pt(a,o){if(1&a&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&a){const e=o.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Mt(a,o){if(1&a&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&a){const e=o.$implicit;t.FS9("value",e),t.R7$(),t.SpI(" ",e.toUpperCase()," ")}}function Ot(a,o){if(1&a&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&a){const e=o.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Ut(a,o){1&a&&t.nrm(0,"i",32)}function Lt(a,o){if(1&a){const e=t.RV6();t.j41(0,"tbody")(1,"tr")(2,"th")(3,"input",33),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG();return t.Njj(n.AddOrRemoveData(i))}),t.k0s()(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s()()()}if(2&a){let e;const s=o.$implicit,i=t.XpG();t.R7$(3),t.Y8G("checked",i.containsData(s)),t.R7$(2),t.JRh(s.id),t.R7$(2),t.JRh(s.rev),t.R7$(2),t.JRh(null!==(e=s.form)&&void 0!==e?e:s.name),t.R7$(2),t.JRh(s.user)}}let Nt=(()=>{class a{constructor(e){this.api=e,this.responseMsg="",this.foundedDataToDelete=[],this.selectedListToBeDelete=[],this.Countries$=[],this.Regions$=[],this.Prefectures$=[],this.Communes$=[],this.Hospitals$=[],this.DistrictQuartiers$=[],this.VillageSecteurs$=[],this.Families$=[],this.Chws$=[],this.Recos$=[],this.Patients$=[],this.regions$=[],this.prefectures$=[],this.communes$=[],this.hospitals$=[],this.districtQuartiers$=[],this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this.cibles$=[],this.types$=["reco-data","patients","families","chws-data","mentors-data"],this.constMsg="Loading...",this.initMsg=this.constMsg}dataListToDeleteFilterFormGroup(){return new r.gE({start_date:new r.MJ("",[r.k0.required,r.k0.minLength(7)]),end_date:new r.MJ("",[r.k0.required,r.k0.minLength(7)]),countries:new r.MJ("",[r.k0.required]),regions:new r.MJ("",[r.k0.required]),prefectures:new r.MJ("",[r.k0.required]),communes:new r.MJ("",[r.k0.required]),hospitals:new r.MJ("",[r.k0.required]),district_quartiers:new r.MJ("",[r.k0.required]),cible:new r.MJ("",[r.k0.required]),type:new r.MJ("",[r.k0.required])})}ngOnInit(){this._FormGroup=this.dataListToDeleteFilterFormGroup(),this.initAllData()}initAllData(){var e=this;return(0,g.A)(function*(){e.isLoading=!0,e.initMsg="Chargement des Pays ...",e.api.GetCountries().subscribe(function(){var s=(0,g.A)(function*(i){200==i.status&&(e.Countries$=i.data),e.initMsg="Chargement des Regions ...",e.api.GetRegions().subscribe(function(){var n=(0,g.A)(function*(l){200==l.status&&(e.Regions$=l.data),e.initMsg="Chargement des Prefectures ...",e.api.GetPrefectures().subscribe(function(){var d=(0,g.A)(function*(c){200==c.status&&(e.Prefectures$=c.data),e.initMsg="Chargement des Communes ...",e.api.GetCommunes().subscribe(function(){var u=(0,g.A)(function*(h){200==h.status&&(e.Communes$=h.data),e.initMsg="Chargement des Hospitaux ...",e.api.GetHospitals().subscribe(function(){var p=(0,g.A)(function*(b){200==b.status&&(e.Hospitals$=b.data),e.initMsg="Chargement des Districts/Quartiers ...",e.api.GetDistrictQuartiers().subscribe(function(){var F=(0,g.A)(function*(_){200==_.status&&(e.DistrictQuartiers$=_.data),e.initMsg="Chargement des Villages/Secteurs ...",e.api.GetVillageSecteurs().subscribe(function(){var k=(0,g.A)(function*(R){200==R.status&&(e.VillageSecteurs$=R.data),e.initMsg="Chargement des Familles ...",e.api.GetFamilys().subscribe(function(){var w=(0,g.A)(function*(T){200==T.status&&(e.Families$=T.data),e.initMsg="Chargement des ASC ...",e.api.GetChws().subscribe(function(){var D=(0,g.A)(function*(S){200==S.status&&(e.Chws$=S.data),e.initMsg="Chargement des Reco ...",e.api.GetRecos().subscribe(function(){var P=(0,g.A)(function*(M){200==M.status&&(e.Recos$=M.data),e.isLoading=!1});return function(M){return P.apply(this,arguments)}}(),P=>{e.isLoading=!1,console.log(P.error)})});return function(S){return D.apply(this,arguments)}}(),D=>{e.isLoading=!1,console.log(D.error)})});return function(T){return w.apply(this,arguments)}}(),w=>{e.isLoading=!1,console.log(w.error)})});return function(R){return k.apply(this,arguments)}}(),k=>{e.isLoading=!1,console.log(k.error)})});return function(_){return F.apply(this,arguments)}}(),F=>{e.isLoading=!1,console.log(F.error)})});return function(b){return p.apply(this,arguments)}}(),p=>{e.isLoading=!1,console.log(p.error)})});return function(h){return u.apply(this,arguments)}}(),u=>{e.isLoading=!1,console.log(u.error)})});return function(c){return d.apply(this,arguments)}}(),d=>{e.isLoading=!1,console.log(d.error)})});return function(l){return n.apply(this,arguments)}}(),n=>{e.isLoading=!1,console.log(n.error)})});return function(i){return s.apply(this,arguments)}}(),s=>{e.isLoading=!1,console.log(s.error)})})()}SelectAllData(){this.selectedListToBeDelete=this.selectedListToBeDelete.length==this.foundedDataToDelete.length?[]:this.foundedDataToDelete.map(e=>({_deleted:!0,_id:e.id,_rev:e.rev,_table:e.table}))}containsData(e){return null!=this.selectedListToBeDelete.find(i=>i._id===e.id)}AddOrRemoveData(e){const[s,i]=(()=>{let n=-1;return[this.selectedListToBeDelete.find((d,c)=>d._id===e.id&&(n=c,!0)),n]})();-1!==i?this.selectedListToBeDelete.splice(i,1):this.selectedListToBeDelete.push({_deleted:!0,_id:e.id,_rev:e.rev,_table:e.table})}getListOfDataToDeleteFromCouchDb(){var e=this;this.initMsg=this.constMsg,this.isLoading=!0,this.foundedDataToDelete=[],this.selectedListToBeDelete=[],this.responseMsg="";const s=(0,m.$r)(this._FormGroup.value.cible);var i=[];["reco-data","patients","families"].includes(this._FormGroup.value.type)&&(i=this.VillageSecteurs$.filter(l=>s.includes(l.district_quartier_id)).map(l=>l.id));const n={cible:[...s,...i],type:this._FormGroup.value.type,start_date:this._FormGroup.value.start_date,end_date:this._FormGroup.value.end_date};this.api.GetDataToDeleteFromCouchDb(n).subscribe(function(){var l=(0,g.A)(function*(d){console.log(d),200==d.status?e.foundedDataToDelete=d.data.reduce((c,u)=>(u&&!c.find(h=>h.id===u.id)&&c.push(u),c),[]):e.responseMsg=d.data,e.isLoading=!1});return function(d){return l.apply(this,arguments)}}(),l=>{console.log(l.error),this.isLoading=!1,this.responseMsg=l.toString()})}deleteSelectedDataFromCouchDb(){var e=this;this.initMsg=this.constMsg,this.responseMsg="",this.selectedListToBeDelete.length>0?this.api.deleteDataFromCouchDb(this.selectedListToBeDelete,this._FormGroup.value.type).subscribe(function(){var s=(0,g.A)(function*(i){200==i.status?(e.responseMsg="Done successfuly !",e.foundedDataToDelete=[],e.selectedListToBeDelete=[]):e.responseMsg="Problem with query, retry!"});return function(i){return s.apply(this,arguments)}}(),s=>{console.log(s),this.responseMsg="Error found when deleting ..."}):this.responseMsg="Not data provied!"}ParamsToFilter(){const e=this._FormGroup.value;return{start_date:e.start_date,end_date:e.end_date,countries:(0,m.$r)(e.countries),regions:(0,m.$r)(e.regions),prefectures:(0,m.$r)(e.prefectures),communes:(0,m.$r)(e.communes),hospitals:(0,m.$r)(e.hospitals),district_quartiers:(0,m.$r)(e.district_quartiers),village_secteurs:(0,m.$r)(e.village_secteurs),families:(0,m.$r)(e.families),chws:(0,m.$r)(e.chws),recos:(0,m.$r)(e.recos),patients:(0,m.$r)(e.patients),type:e.type}}genarateRegions(){this.regions$=[],this.prefectures$=[],this.communes$=[],this.hospitals$=[],this.districtQuartiers$=[],this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._FormGroup.value.regions="",this._FormGroup.value.prefectures="",this._FormGroup.value.communes="",this._FormGroup.value.hospitals="",this._FormGroup.value.district_quartiers="",this._FormGroup.value.village_secteurs="",this._FormGroup.value.families="",this._FormGroup.value.chws="",this._FormGroup.value.recos="",this._FormGroup.value.patients="";const e=this.Countries$.map(s=>s.id);this.regions$=this.Regions$.filter(s=>e.includes(s.country_id))}genaratePrefectures(){this.prefectures$=[],this.communes$=[],this.hospitals$=[],this.districtQuartiers$=[],this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._FormGroup.value.prefectures="",this._FormGroup.value.communes="",this._FormGroup.value.hospitals="",this._FormGroup.value.district_quartiers="",this._FormGroup.value.village_secteurs="",this._FormGroup.value.families="",this._FormGroup.value.chws="",this._FormGroup.value.recos="",this._FormGroup.value.patients="";const e=(0,m.$r)(this._FormGroup.value.regions);this.prefectures$=this.Prefectures$.filter(s=>e.includes(s.region_id))}genarateCommunes(){this.communes$=[],this.hospitals$=[],this.districtQuartiers$=[],this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._FormGroup.value.communes="",this._FormGroup.value.hospitals="",this._FormGroup.value.district_quartiers="",this._FormGroup.value.village_secteurs="",this._FormGroup.value.families="",this._FormGroup.value.chws="",this._FormGroup.value.recos="",this._FormGroup.value.patients="";const e=(0,m.$r)(this._FormGroup.value.prefectures);this.communes$=this.Communes$.filter(s=>e.includes(s.prefecture_id))}genarateHospitals(){this.hospitals$=[],this.districtQuartiers$=[],this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._FormGroup.value.hospitals="",this._FormGroup.value.district_quartiers="",this._FormGroup.value.village_secteurs="",this._FormGroup.value.families="",this._FormGroup.value.chws="",this._FormGroup.value.recos="",this._FormGroup.value.patients="";const e=(0,m.$r)(this._FormGroup.value.communes);this.hospitals$=this.Hospitals$.filter(s=>e.includes(s.commune_id))}genarateDistrictQuartiers(){this.districtQuartiers$=[],this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._FormGroup.value.district_quartiers="",this._FormGroup.value.village_secteurs="",this._FormGroup.value.families="",this._FormGroup.value.chws="",this._FormGroup.value.recos="",this._FormGroup.value.patients="";const e=(0,m.$r)(this._FormGroup.value.hospitals);this.districtQuartiers$=this.DistrictQuartiers$.filter(s=>e.includes(s.hospital_id))}genarateChws(){this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._FormGroup.value.village_secteurs="",this._FormGroup.value.families="",this._FormGroup.value.chws="",this._FormGroup.value.recos="",this._FormGroup.value.patients="";const e=(0,m.$r)(this._FormGroup.value.district_quartiers);this.chws$=this.Chws$.filter(s=>e.includes(s.district_quartier_id))}genarateVillageSecteurs(){this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._FormGroup.value.village_secteurs="",this._FormGroup.value.families="",this._FormGroup.value.chws="",this._FormGroup.value.recos="",this._FormGroup.value.patients="";const e=(0,m.$r)(this._FormGroup.value.district_quartiers);this.villageSecteurs$=this.VillageSecteurs$.filter(s=>e.includes(s.district_quartier_id))}genarateRecos(){this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._FormGroup.value.families="",this._FormGroup.value.chws="",this._FormGroup.value.recos="",this._FormGroup.value.patients="";const e=(0,m.$r)(this._FormGroup.value.village_secteurs);this.recos$=this.Recos$.filter(s=>e.includes(s.village_secteur_id))}genarateFamilies(){this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._FormGroup.value.families="",this._FormGroup.value.chws="",this._FormGroup.value.recos="",this._FormGroup.value.patients="";const e=(0,m.$r)(this._FormGroup.value.village_secteurs);this.families$=this.Families$.filter(s=>e.includes(s.village_secteur.id))}genaratePatients({}){this.chws$=[],this.recos$=[],this.patients$=[],this._FormGroup.value.families="",this._FormGroup.value.chws="",this._FormGroup.value.recos="",this._FormGroup.value.patients="";const i=(0,m.$r)(this._FormGroup.value.families);this.patients$=this.Patients$.filter(n=>i.includes(n.family.id))}generateCible(){if(this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this.villageSecteurs$=[],this._FormGroup.value.village_secteurs="",this._FormGroup.value.families="",this._FormGroup.value.chws="",this._FormGroup.value.recos="",this._FormGroup.value.patients="",["reco-data","patients","families"].includes(this._FormGroup.value.type)){const e=(0,m.$r)(this._FormGroup.value.district_quartiers);this.cibles$=this.Recos$.filter(s=>e.includes(s.village_secteur_id))}else if("chws-data"===this._FormGroup.value.type){const e=(0,m.$r)(this._FormGroup.value.district_quartiers);this.cibles$=this.Chws$.filter(s=>e.includes(s.district_quartier_id))}}static#t=this.\u0275fac=function(s){return new(s||a)(t.rXU(E.G))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-user"]],decls:104,vars:15,consts:[[2,"color","red"],[1,"content-header"],[1,"container-fluid"],[1,"card","card-info"],[1,"overlay-wrapper"],[1,"card-header"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-sm-3","col-6"],[1,"form-group"],["type","date","formControlName","start_date",1,"form-control",2,"background-color","whitesmoke"],["type","date","formControlName","end_date",1,"form-control",2,"background-color","whitesmoke"],["formControlName","countries",1,"form-control",2,"background-color","whitesmoke",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","regions",1,"form-control",2,"background-color","whitesmoke",3,"change"],["formControlName","prefectures",1,"form-control",2,"background-color","whitesmoke",3,"change"],["formControlName","communes",1,"form-control",2,"background-color","whitesmoke",3,"change"],["formControlName","hospitals",1,"form-control",2,"background-color","whitesmoke",3,"change"],["formControlName","district_quartiers",1,"form-control",2,"background-color","whitesmoke",3,"change"],["formControlName","type",1,"form-control",2,"background-color","whitesmoke",3,"change"],["multiple","","formControlName","cible",1,"form-control",2,"background-color","whitesmoke"],["type","submit",1,"btn","btn-warning","form-control",3,"disabled"],["style","margin-left: 10px;","class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"panel-body",2,"margin-top","30px"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"table","datatable"],["type","checkbox","name","","id","",2,"zoom","1.5",3,"click","checked"],[4,"ngFor","ngForOf"],[3,"value"],[1,"fas","fa-1x","fa-sync-alt","fa-spin",2,"margin-left","10px"],["type","checkbox","name","","id","",2,"zoom","1.1",3,"click","checked"]],template:function(s,i){1&s&&(t.j41(0,"h1",0),t.EFF(1),t.k0s(),t.j41(2,"section",1)(3,"div",2)(4,"h2"),t.EFF(5,"Delete Chws Data From Couch Database (Tonoudayo App)"),t.k0s(),t.j41(6,"div",3)(7,"div",4)(8,"div",5)(9,"form",6),t.bIt("ngSubmit",function(){return i.getListOfDataToDeleteFromCouchDb()}),t.j41(10,"div",7)(11,"div",8)(12,"div",9)(13,"label"),t.EFF(14,"Date D\xe9but"),t.k0s(),t.nrm(15,"input",10),t.k0s()(),t.j41(16,"div",8)(17,"div",9)(18,"label"),t.EFF(19,"Date Fin"),t.k0s(),t.nrm(20,"input",11),t.k0s()(),t.j41(21,"div",8)(22,"div",9)(23,"label"),t.EFF(24,"Country"),t.k0s(),t.j41(25,"select",12),t.bIt("change",function(){return i.genarateRegions()}),t.nrm(26,"option",13),t.DNE(27,Gt,2,2,"option",14),t.k0s()()(),t.j41(28,"div",8)(29,"div",9)(30,"label"),t.EFF(31,"Region"),t.k0s(),t.j41(32,"select",15),t.bIt("change",function(){return i.genaratePrefectures()}),t.nrm(33,"option",13),t.DNE(34,Tt,2,2,"option",14),t.k0s()()(),t.j41(35,"div",8)(36,"div",9)(37,"label"),t.EFF(38,"Prefecture"),t.k0s(),t.j41(39,"select",16),t.bIt("change",function(){return i.genarateCommunes()}),t.nrm(40,"option",13),t.DNE(41,$t,2,2,"option",14),t.k0s()()(),t.j41(42,"div",8)(43,"div",9)(44,"label"),t.EFF(45,"Commune"),t.k0s(),t.j41(46,"select",17),t.bIt("change",function(){return i.genarateHospitals()}),t.nrm(47,"option",13),t.DNE(48,Dt,2,2,"option",14),t.k0s()()(),t.j41(49,"div",8)(50,"div",9)(51,"label"),t.EFF(52,"Hospital"),t.k0s(),t.j41(53,"select",18),t.bIt("change",function(){return i.genarateDistrictQuartiers()}),t.nrm(54,"option",13),t.DNE(55,St,2,2,"option",14),t.k0s()()(),t.j41(56,"div",8)(57,"div",9)(58,"label"),t.EFF(59,"District/Quartier"),t.k0s(),t.j41(60,"select",19),t.bIt("change",function(){return i.generateCible()}),t.nrm(61,"option",13),t.DNE(62,Pt,2,2,"option",14),t.k0s()()(),t.j41(63,"div",8)(64,"div",9)(65,"label"),t.EFF(66,"Type"),t.k0s(),t.j41(67,"select",20),t.bIt("change",function(){return i.generateCible()}),t.nrm(68,"option",13),t.DNE(69,Mt,2,2,"option",14),t.k0s()()(),t.j41(70,"div",8)(71,"div",9)(72,"label"),t.EFF(73,"Reco/ASC/Mentor"),t.k0s(),t.j41(74,"select",21),t.nrm(75,"option",13),t.DNE(76,Ot,2,2,"option",14),t.k0s()()(),t.j41(77,"div",8)(78,"div",9)(79,"label"),t.EFF(80,"."),t.k0s(),t.j41(81,"button",22),t.EFF(82," Charger les donn\xe9es "),t.DNE(83,Ut,1,0,"i",23),t.k0s()()()()()()(),t.j41(84,"div",24),t.nrm(85,"div",25),t.j41(86,"div",26)(87,"button",27),t.bIt("click",function(){return i.deleteSelectedDataFromCouchDb()}),t.EFF(88," Delete Selected Data From CouchDb "),t.k0s(),t.nrm(89,"br"),t.j41(90,"table",28)(91,"thead")(92,"tr")(93,"th")(94,"input",29),t.bIt("click",function(){return i.SelectAllData()}),t.k0s()(),t.j41(95,"th"),t.EFF(96,"ID"),t.k0s(),t.j41(97,"th"),t.EFF(98,"REV"),t.k0s(),t.j41(99,"th"),t.EFF(100,"Form / Name"),t.k0s(),t.j41(101,"th"),t.EFF(102,"User"),t.k0s()()(),t.DNE(103,Lt,12,5,"tbody",30),t.k0s()()()()()()),2&s&&(t.R7$(),t.SpI(" ",i.responseMsg," "),t.R7$(8),t.Y8G("formGroup",i._FormGroup),t.R7$(18),t.Y8G("ngForOf",i.Countries$),t.R7$(7),t.Y8G("ngForOf",i.regions$),t.R7$(7),t.Y8G("ngForOf",i.prefectures$),t.R7$(7),t.Y8G("ngForOf",i.communes$),t.R7$(7),t.Y8G("ngForOf",i.hospitals$),t.R7$(7),t.Y8G("ngForOf",i.districtQuartiers$),t.R7$(7),t.Y8G("ngForOf",i.types$),t.R7$(7),t.Y8G("ngForOf",i.cibles$),t.R7$(5),t.Y8G("disabled",!i._FormGroup.valid),t.R7$(2),t.Y8G("ngIf",i.isLoading),t.R7$(4),t.Y8G("disabled",!(i.selectedListToBeDelete.length>0)),t.R7$(7),t.Y8G("checked",i.foundedDataToDelete.length>0&&i.selectedListToBeDelete.length==i.foundedDataToDelete.length),t.R7$(9),t.Y8G("ngForOf",i.foundedDataToDelete))},dependencies:[v.Sq,v.bT,r.qT,r.xH,r.y7,r.me,r.wz,r.W0,r.BC,r.cb,r.j4,r.JD],encapsulation:2})}return a})();function Vt(a,o){if(1&a&&(t.j41(0,"div",17),t.nrm(1,"i",18),t.j41(2,"div",19),t.EFF(3),t.k0s()()),2&a){const e=t.XpG();t.R7$(3),t.SpI(" ",e.initMsg,"")}}function Bt(a,o){if(1&a&&(t.j41(0,"option",20),t.EFF(1),t.k0s()),2&a){const e=o.$implicit;t.FS9("value",e.name),t.R7$(),t.SpI(" ",e.table.toLocaleUpperCase().replaceAll("_"," ")," ")}}function Yt(a,o){if(1&a&&(t.j41(0,"option",20),t.EFF(1),t.k0s()),2&a){const e=o.$implicit;t.FS9("value",e),t.R7$(),t.SpI(" ",e," ")}}const Wt=[{path:"",redirectTo:"users",pathMatch:"full"},{path:"users",component:ct,canActivate:[A.d],data:{href:"admin/users",title:"Users"}},{path:"documentations",component:(()=>{class a{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(s){return new(s||a)};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["ng-component"]],decls:22,vars:0,consts:[[1,"bg-white","rounded","h-100","p-4"],[1,"mb-4",2,"color","darkblue"],[1,"d-flex","align-items-start"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills","me-3"],["id","v-pills-home-tab","data-bs-toggle","pill","data-bs-target","#v-pills-home","type","button","role","tab","aria-controls","v-pills-home","aria-selected","true",1,"nav-link","active"],["id","v-pills-profile-tab","data-bs-toggle","pill","data-bs-target","#v-pills-profile","type","button","role","tab","aria-controls","v-pills-profile","aria-selected","false",1,"nav-link"],["id","v-pills-messages-tab","data-bs-toggle","pill","data-bs-target","#v-pills-messages","type","button","role","tab","aria-controls","v-pills-messages","aria-selected","false",1,"nav-link"],["id","v-pills-settings-tab","data-bs-toggle","pill","data-bs-target","#v-pills-settings","type","button","role","tab","aria-controls","v-pills-settings","aria-selected","false",1,"nav-link"],["id","v-pills-tabContent",1,"tab-content"],["id","v-pills-home","role","tabpanel","aria-labelledby","v-pills-home-tab",1,"tab-pane","fade","show","active"],["id","v-pills-profile","role","tabpanel","aria-labelledby","v-pills-profile-tab",1,"tab-pane","fade"],["id","v-pills-messages","role","tabpanel","aria-labelledby","v-pills-messages-tab",1,"tab-pane","fade"],["id","v-pills-settings","role","tabpanel","aria-labelledby","v-pills-settings-tab",1,"tab-pane","fade"]],template:function(s,i){1&s&&(t.j41(0,"div",0)(1,"h6",1),t.EFF(2,"Documentation"),t.k0s(),t.j41(3,"div",2)(4,"div",3)(5,"button",4),t.EFF(6,"Home"),t.k0s(),t.j41(7,"button",5),t.EFF(8,"Profile"),t.k0s(),t.j41(9,"button",6),t.EFF(10,"Messages"),t.k0s(),t.j41(11,"button",7),t.EFF(12,"Settings"),t.k0s()(),t.j41(13,"div",8)(14,"div",9),t.EFF(15," Consetetur at sit est sit ut ipsum clita at. Sit elitr sit sea dolor tempor eos sit, erat diam ea rebum clita no ea. Et amet sed nonumy sadipscing dolor et ut sed et. Stet eirmod est nonumy clita invidunt rebum. Nonumy dolor ut diam invidunt eirmod nonumy sed gubergren,. "),t.k0s(),t.j41(16,"div",10),t.EFF(17," Tempor et kasd accusam duo et dolor no accusam dolore, dolor sed voluptua duo no, sit et stet lorem dolor ipsum tempor consetetur vero, consetetur est eos sit eirmod erat diam accusam sadipscing sit. Takimata erat ea eirmod tempor elitr dolore sadipscing kasd justo, elitr tempor sed eos sadipscing magna. "),t.k0s(),t.j41(18,"div",11),t.EFF(19," Sed kasd kasd ea clita sed lorem amet tempor est voluptua, labore stet dolores gubergren clita lorem sed nonumy at. Dolores et ut erat voluptua. Est voluptua stet accusam rebum, elitr amet sit takimata sea eirmod. Sanctus elitr amet sit dolore sea stet et ut. Dolor et sanctus elitr ut. "),t.k0s(),t.j41(20,"div",12),t.EFF(21," Sit et vero kasd sea et at, aliquyam takimata et et est, labore et takimata sed ut stet sanctus, nonumy dolor invidunt sit labore et, amet et dolor sit dolor tempor et dolor ipsum nonumy, accusam clita sadipscing ut et labore labore est, dolore accusam vero at est sit. Invidunt. "),t.k0s()()()())},encapsulation:2})}return a})(),canActivate:[],data:{href:"admin/documentations",title:"Documentation"}},{path:"delete-couchdb-data",component:Nt,canActivate:[A.d],data:{href:"admin/delete-couchdb-data",title:"DeleteCouchdbData"}},{path:"truncate-database",component:(()=>{class a{constructor(e){this.api=e,this.responseMsg="",this.constMsg="Loading...",this.initMsg=this.constMsg,this.EntitiesList$=[],this.initEntity=[],this.Actions$=["TRUNCATE","DROP"]}createEntitiesFilterFormGroup(){return new r.gE({entities:new r.MJ([],[r.k0.required]),action:new r.MJ("TRUNCATE",[r.k0.required])})}ngOnInit(){this.EntitiesForm=this.createEntitiesFilterFormGroup(),this.initAllData()}initAllData(){var e=this;return(0,g.A)(function*(){e.isLoading=!0,e.initMsg="Chargement des Entities ...",e.api.getDatabaseEntities().subscribe(function(){var s=(0,g.A)(function*(i){200==i.status&&(e.EntitiesList$=i.data)});return function(i){return s.apply(this,arguments)}}(),s=>{e.isLoading=!1,console.log(s.error)})})()}EntitiesSelectedList(){var e=[];const s=(0,m.$r)(this.EntitiesForm.value.entities);this.initEntity=s;for(let i=0;i<this.EntitiesList$.length;i++){const n=this.EntitiesList$[i];s.includes(n.name)&&e.push(n)}return e}TruncateBd(){var e=this;const s=this.EntitiesSelectedList();s.length>0&&(this.responseMsg="",this.initMsg=this.constMsg,this.isEntityLoading=!0,this.api.truncateDatabase({procide:!0,entities:s,action:this.EntitiesForm.value.action}).subscribe(function(){var i=(0,g.A)(function*(n){e.responseMsg=n.data.toString(),200==n.status&&(e.initEntity=[]),e.isEntityLoading=!1});return function(n){return i.apply(this,arguments)}}(),i=>{console.log(i.error),this.isEntityLoading=!1,this.responseMsg=i.toString()}))}static#t=this.\u0275fac=function(s){return new(s||a)(t.rXU(E.G))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-user"]],decls:32,vars:7,consts:[[2,"color","red"],[1,"content-header"],[1,"container-fluid"],[1,"card","card-info"],[1,"overlay-wrapper"],["class","overlay",4,"ngIf"],[1,"card-header"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-sm-4","col-6"],[1,"form-group"],["formControlName","entities","multiple","multiple",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","action",1,"form-control"],["type","submit",1,"btn","btn-danger","form-control",3,"disabled"],[1,"fa","fa-floppy-o","fa-right"],[1,"overlay"],[1,"fas","fa-3x","fa-sync-alt","fa-spin"],[1,"text-bold","pt-2"],[3,"value"]],template:function(s,i){1&s&&(t.j41(0,"h1",0),t.EFF(1),t.k0s(),t.j41(2,"section",1)(3,"div",2)(4,"h2"),t.EFF(5,"Truncate Database"),t.k0s(),t.j41(6,"div",3)(7,"div",4),t.DNE(8,Vt,4,1,"div",5),t.j41(9,"div",6)(10,"form",7),t.bIt("ngSubmit",function(){return i.TruncateBd()}),t.j41(11,"div",8)(12,"div",9)(13,"div",10)(14,"label"),t.EFF(15,"Entities"),t.k0s(),t.j41(16,"select",11),t.nrm(17,"option",12),t.DNE(18,Bt,2,2,"option",13),t.k0s()()(),t.j41(19,"div",9)(20,"div",10)(21,"label"),t.EFF(22,"Action"),t.k0s(),t.j41(23,"select",14),t.DNE(24,Yt,2,2,"option",13),t.k0s()()(),t.j41(25,"div",9)(26,"div",10)(27,"label"),t.EFF(28,"."),t.k0s(),t.j41(29,"button",15),t.EFF(30),t.nrm(31,"span",16),t.k0s()()()()()()()()()()),2&s&&(t.R7$(),t.SpI(" ",i.responseMsg," "),t.R7$(7),t.Y8G("ngIf",i.isEntityLoading),t.R7$(2),t.Y8G("formGroup",i.EntitiesForm),t.R7$(8),t.Y8G("ngForOf",i.EntitiesList$),t.R7$(6),t.Y8G("ngForOf",i.Actions$),t.R7$(5),t.Y8G("disabled",!i.EntitiesForm.valid&&i.initEntity.length<=0),t.R7$(),t.SpI(" ",""!=i.EntitiesForm.value.action?i.EntitiesForm.value.action:"TRUNCATE"," POSTGRES DATABASE "))},dependencies:[v.Sq,v.bT,r.qT,r.xH,r.y7,r.wz,r.W0,r.BC,r.cb,r.j4,r.JD],encapsulation:2})}return a})(),canActivate:[A.d],data:{href:"admin/truncate-database",title:"TruncateDatabase"}},{path:"roles",component:Ft,canActivate:[A.d],data:{href:"admin/roles",title:"Roles"}},{path:"databases",component:kt,canActivate:[A.d],data:{href:"admin/databases",title:"Databases"}},{path:"api-access",component:jt,canActivate:[A.d],data:{href:"admin/api-access",title:"Apis"}},{path:"signature",component:wt,canActivate:[A.d],data:{href:"admin/signature",title:"Signature"}},{path:"pdf-generator",component:N,canActivate:[A.d],data:{href:"admin/pdf-generator",title:"Pdf Generator"}},{path:"download/kendeya.apk",component:N,canActivate:[A.d],data:{href:"admin/download/kendeya.apk",title:"Pdf Generator"}}];let Qt=(()=>{class a{static#t=this.\u0275fac=function(s){return new(s||a)};static#e=this.\u0275mod=t.$C({type:a});static#i=this.\u0275inj=t.G2t({imports:[x.iI.forChild(Wt),x.iI]})}return a})();var qt=f(6409),Ht=f(5961);let zt=(()=>{class a{static#t=this.\u0275fac=function(s){return new(s||a)};static#e=this.\u0275mod=t.$C({type:a});static#i=this.\u0275inj=t.G2t({imports:[v.MD,r.X1,Qt,r.YN,Ht.G,qt.q1]})}return a})()}}]);