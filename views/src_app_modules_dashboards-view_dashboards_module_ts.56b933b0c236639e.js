"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([["src_app_modules_dashboards-view_dashboards_module_ts"],{7374:(Ri,x,r)=>{r.r(x),r.d(x,{DashboardsModule:()=>ui});var p=r(4765),d=r(8832),M=r(6651),P=r(3111),b=r(3691),n=r(6769),H=r(4155),h=r(6167),f=r(3122),F=r(5455),u=r(2365);function B(e,a){1&e&&n.nrm(0,"span",14)}function L(e,a){1&e&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&e&&(n.R7$(),n.JRh("Rapport d\xe9ja valid\xe9"))}function w(e,a){if(1&e&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&e){const t=n.XpG(3);n.R7$(),n.SpI(" ",t.IS_ALL_REPPORTS_VALIDATED?"Annuler toute validation":"Valider tous les rapport"," ")}}function U(e,a){1&e&&n.nrm(0,"span",14)}function X(e,a){if(1&e){const t=n.RV6();n.j41(0,"button",15),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.IS_ALL_REPPORTS_VALIDATED?_.CancelAllValidation(i):_.ValidateAllReports(i))}),n.DNE(1,L,2,1,"span",0)(2,w,2,1,"span",0)(3,U,1,0,"span",3),n.k0s()}if(2&e){const t=n.XpG(2);n.ZvI("submitBtn btn ",t.IS_ALL_REPPORTS_VALIDATED?"btn-info":"btn-warning",""),n.Y8G("disabled",t.ON_ALL_VALIDATION||t.ON_ALL_CANCEL_VALIDATION||t.ON_ALL_DHIS2_SENDING||t.IS_ALL_ON_DHIS2),n.R7$(),n.Y8G("ngIf",t.ON_ALL_DHIS2_SENDING||t.IS_ALL_ON_DHIS2),n.R7$(),n.Y8G("ngIf",!(t.ON_ALL_DHIS2_SENDING||t.IS_ALL_ON_DHIS2)),n.R7$(),n.Y8G("ngIf",t.ON_ALL_VALIDATION||t.ON_ALL_CANCEL_VALIDATION)}}function J(e,a){1&e&&n.nrm(0,"span",14)}function Q(e,a){if(1&e){const t=n.RV6();n.j41(0,"button",16),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.openAllSendReportsToDhis2Modal(i))}),n.EFF(1),n.DNE(2,J,1,0,"span",3),n.k0s()}if(2&e){const t=n.XpG(2);n.Y8G("disabled",t.ON_ALL_DHIS2_SENDING||t.IS_ALL_ON_DHIS2),n.R7$(),n.SpI(" ",t.IS_ALL_ON_DHIS2?"D\xe9ja envoy\xe9 au DHIS2":"Tout Envoyer Au DHIS2"," "),n.R7$(),n.Y8G("ngIf",t.ON_ALL_DHIS2_SENDING)}}function z(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function q(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",18),n.EFF(2),n.j41(3,"input",19),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("country",i))}),n.k0s()(),n.j41(4,"select",20),n.bIt("change",function(){n.eBV(t);const i=n.XpG(2);return n.Njj(i.regionsGenerate())}),n.DNE(5,z,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" Pays :(",t.selectedLength("country"),") "),n.R7$(),n.Y8G("checked",t.isChecked("country")),n.R7$(),n.FS9("multiple",t.countries.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.countries)}}function W(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function K(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",23),n.EFF(2),n.j41(3,"input",24),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("region",i))}),n.k0s()(),n.j41(4,"select",25),n.bIt("change",function(){n.eBV(t);const i=n.XpG(2);return n.Njj(i.prefecturesGenerate())}),n.DNE(5,W,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" R\xe9gions :(",t.selectedLength("region"),") "),n.R7$(),n.Y8G("checked",t.isChecked("region")),n.R7$(),n.FS9("multiple",t.regions.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.regions)}}function Z(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function nn(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",26),n.EFF(2),n.j41(3,"input",27),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("prefecture",i))}),n.k0s()(),n.j41(4,"select",28),n.bIt("change",function(){n.eBV(t);const i=n.XpG(2);return n.Njj(i.communesGenerate())}),n.DNE(5,Z,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" Pr\xe9fectures :(",t.selectedLength("prefecture"),") "),n.R7$(),n.Y8G("checked",t.isChecked("prefecture")),n.R7$(),n.FS9("multiple",t.prefectures.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.prefectures)}}function tn(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function en(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",29),n.EFF(2),n.j41(3,"input",30),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("commune",i))}),n.k0s()(),n.j41(4,"select",31),n.bIt("change",function(){n.eBV(t);const i=n.XpG(2);return n.Njj(i.hospitalsGenerate())}),n.DNE(5,tn,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" Communes :(",t.selectedLength("commune"),") "),n.R7$(),n.Y8G("checked",t.isChecked("commune")),n.R7$(),n.FS9("multiple",t.communes.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.communes)}}function on(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function an(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",32),n.EFF(2),n.j41(3,"input",33),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("hospital",i))}),n.k0s()(),n.j41(4,"select",34),n.bIt("change",function(){n.eBV(t);const i=n.XpG(2);return n.Njj(i.districtsGenerate())}),n.DNE(5,on,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" Centre de sant\xe9 :(",t.selectedLength("hospital"),") "),n.R7$(),n.Y8G("checked",t.isChecked("hospital")),n.R7$(),n.FS9("multiple",t.hospitals.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.hospitals)}}function _n(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function cn(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",35),n.EFF(2),n.j41(3,"input",36),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("district_quartier",i))}),n.k0s()(),n.j41(4,"select",37),n.bIt("change",function(){n.eBV(t);const i=n.XpG(2);return n.Njj(i.recosGenerate())}),n.DNE(5,_n,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" Districts/Quartiers :(",t.selectedLength("district_quartier"),") "),n.R7$(),n.Y8G("checked",t.isChecked("district_quartier")),n.R7$(),n.FS9("multiple",t.districtQuartiers.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.districtQuartiers)}}function sn(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function rn(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",38),n.EFF(2),n.j41(3,"input",39),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("recos",i))}),n.k0s()(),n.j41(4,"select",40),n.DNE(5,sn,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" Recos :(",t.selectedLength("recos"),") "),n.R7$(),n.Y8G("checked",t.isChecked("recos")),n.R7$(),n.FS9("multiple",t.recos.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.recos)}}function ln(e,a){1&e&&(n.j41(0,"label",43),n.EFF(1," Ann\xe9es : "),n.k0s())}function pn(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t),n.R7$(),n.SpI(" ",t," ")}}function dn(e,a){if(1&e&&(n.qex(0),n.DNE(1,pn,2,2,"option",21),n.bVm()),2&e){const t=n.XpG(3);n.R7$(),n.Y8G("ngForOf",t.Years$)}}function gn(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17),n.DNE(1,ln,2,0,"label",41),n.j41(2,"select",42),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.initMonths(i))}),n.DNE(3,dn,2,1,"ng-container",0),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(),n.Y8G("ngIf",t.Years$.length>0),n.R7$(2),n.Y8G("ngIf",t.Years$.length>0)}}function mn(e,a){if(1&e){const t=n.RV6();n.qex(0),n.EFF(1),n.j41(2,"input",47),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(4);return n.Njj(_.selectAll("months",i))}),n.k0s(),n.bVm()}if(2&e){const t=n.XpG(4);n.R7$(),n.SpI(" (",t.selectedLength("months"),") "),n.R7$(),n.Y8G("checked",t.isChecked("months"))}}function hn(e,a){if(1&e&&(n.j41(0,"label",46),n.EFF(1," Mois : "),n.DNE(2,mn,3,2,"ng-container",0),n.k0s()),2&e){const t=n.XpG(3);n.R7$(2),n.Y8G("ngIf",t.showMultipleSelectionMonth)}}function fn(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.labelFR," ")}}function un(e,a){if(1&e&&(n.qex(0),n.DNE(1,fn,2,2,"option",21),n.bVm()),2&e){const t=n.XpG(3);n.R7$(),n.Y8G("ngForOf",t.Months$)}}function Rn(e,a){if(1&e&&(n.j41(0,"div",17),n.DNE(1,hn,3,1,"label",44),n.j41(2,"select",45),n.DNE(3,un,2,1,"ng-container",0),n.k0s()()),2&e){const t=n.XpG(2);n.R7$(),n.Y8G("ngIf",t.Months$.length>0),n.R7$(),n.FS9("multiple",t.Months$.length>0&&t.showMultipleSelectionMonth?"multiple":""),n.R7$(),n.Y8G("ngIf",t.Months$.length>0)}}function En(e,a){1&e&&n.nrm(0,"span",14)}function bn(e,a){if(1&e){const t=n.RV6();n.qex(0),n.j41(1,"div",1)(2,"button",2),n.EFF(3," \u{1f50d} Filtrer "),n.DNE(4,B,1,0,"span",3),n.k0s(),n.DNE(5,X,4,7,"button",4)(6,Q,3,3,"button",5),n.k0s(),n.nrm(7,"div",6),n.j41(8,"div",7)(9,"div",8)(10,"span",9),n.EFF(11,"\xd7"),n.k0s(),n.j41(12,"h2"),n.EFF(13,"\u{1f50d} Filtrer les donn\xe9es"),n.k0s()(),n.j41(14,"div",10)(15,"form",11),n.bIt("ngSubmit",function(i){n.eBV(t);const _=n.XpG();return n.Njj(_.START_ORGUNIT_FILTER(i))}),n.DNE(16,q,6,4,"div",12)(17,K,6,4,"div",12)(18,nn,6,4,"div",12)(19,en,6,4,"div",12)(20,an,6,4,"div",12)(21,cn,6,4,"div",12)(22,rn,6,4,"div",12)(23,gn,4,2,"div",12)(24,Rn,4,3,"div",12),n.j41(25,"button",13),n.EFF(26," Appliquer le filtre "),n.DNE(27,En,1,0,"span",3),n.k0s()()()(),n.bVm()}if(2&e){const t=n.XpG();n.R7$(2),n.Y8G("disabled",t.ON_ALL_FETCHING||t.ON_ALL_VALIDATION||t.ON_ALL_CANCEL_VALIDATION||t.ON_ALL_DHIS2_SENDING),n.R7$(2),n.Y8G("ngIf",t.ON_ALL_FETCHING),n.R7$(),n.Y8G("ngIf",t.CAN_ALL_VALIDATE_REPORTS),n.R7$(),n.Y8G("ngIf",t.CAN_ALL_VALIDATE_REPORTS&&t.CAN_SEND_TO_DHIS2),n.R7$(9),n.Y8G("formGroup",t.form),n.R7$(),n.Y8G("ngIf",t.Countries$.length>1&&0===t.countries.length||t.countries.length>1),n.R7$(),n.Y8G("ngIf",t.Regions$.length>1&&0===t.regions.length||t.regions.length>1),n.R7$(),n.Y8G("ngIf",t.Prefectures$.length>1&&0===t.prefectures.length||t.prefectures.length>1),n.R7$(),n.Y8G("ngIf",t.Communes$.length>1&&0===t.communes.length||t.communes.length>1),n.R7$(),n.Y8G("ngIf",t.Hospitals$.length>1&&0===t.hospitals.length||t.hospitals.length>1),n.R7$(),n.Y8G("ngIf",t.DistrictQuartiers$.length>1&&0===t.districtQuartiers.length||t.districtQuartiers.length>1),n.R7$(),n.Y8G("ngIf",t.Recos$.length>1&&0===t.recos.length||t.recos.length>1),n.R7$(),n.Y8G("ngIf",t.showYearsSelection),n.R7$(),n.Y8G("ngIf",t.showMonthsSelection),n.R7$(),n.Y8G("disabled",t.ON_ALL_FETCHING||!t.form.valid),n.R7$(2),n.Y8G("ngIf",t.ON_ALL_FETCHING)}}let Tn=(()=>{class e extends H.m{constructor(t,o,i,_){super(t,o,i,_),this.showMultipleSelectionMonth=!1}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(h.i),n.rXU(f.z),n.rXU(F.B),n.rXU(u.z))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["dashboards-orgunits-filter"]],standalone:!1,features:[n.Vt3],decls:1,vars:1,consts:[[4,"ngIf"],[1,"orgunit-filter"],[1,"open-modal-button",2,"width","auto",3,"disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],["style","width: auto!important;",3,"disabled","class","click",4,"ngIf"],["style","width: auto;","class","btn btn-warning",3,"disabled","click",4,"ngIf"],["id","overlay",1,"overlay"],["id","modal-container",1,"modal"],[1,"modal-container-header"],[1,"close"],[1,"modal-container-content"],["id","filterForm","novalidate","",3,"ngSubmit","formGroup"],["class","form-group",4,"ngIf"],["id","modal-validate",1,"btn","btn-primary","modal-validate",3,"disabled"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"],[2,"width","auto!important",3,"click","disabled"],[1,"btn","btn-warning",2,"width","auto",3,"click","disabled"],[1,"form-group"],["for","country"],["id","all-country","type","checkbox",3,"change","checked"],["id","country","formControlName","country",1,"form-control",3,"change","multiple"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","region"],["id","all-region","type","checkbox",3,"change","checked"],["id","region","formControlName","region",1,"form-control",3,"change","multiple"],["for","prefecture"],["id","all-prefecture","type","checkbox",3,"change","checked"],["id","prefecture","formControlName","prefecture",1,"form-control",3,"change","multiple"],["for","commune"],["id","all-commune","type","checkbox",3,"change","checked"],["id","commune","formControlName","commune",1,"form-control",3,"change","multiple"],["for","hospital"],["id","all-hospital","type","checkbox",3,"change","checked"],["id","hospital","formControlName","hospital",1,"form-control",3,"change","multiple"],["for","district_quartier"],["id","all-district_quartier","type","checkbox",3,"change","checked"],["id","district_quartier","formControlName","district_quartier",1,"form-control",3,"change","multiple"],["for","recos"],["id","all-recos","type","checkbox",3,"change","checked"],["id","recos","formControlName","recos",1,"form-control",3,"multiple"],["for","year",4,"ngIf"],["id","year","formControlName","year",1,"form-control",3,"change"],["for","year"],["for","months",4,"ngIf"],["id","months","formControlName","months",1,"form-control",3,"multiple"],["for","months"],["id","all-months","type","checkbox",3,"change","checked"]],template:function(o,i){1&o&&n.DNE(0,bn,28,16,"ng-container",0),2&o&&n.Y8G("ngIf",i.REPORTS_HEADER)},dependencies:[p.G,p.I,d.qT,d.xH,d.y7,d.wz,d.W0,d.BC,d.cb,d.j4,d.JD],styles:[".orgunit-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px}.open-modal-button[_ngcontent-%COMP%]{background-color:#fff;color:#042;padding:10px 15px;cursor:pointer;border:1px solid #004422;border-radius:5px;width:120px;font-weight:700}.open-modal-button[_ngcontent-%COMP%]:hover{background-color:#05a;color:#fff}.orgunit-style[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important;padding:0 2px 0 5px!important;border-radius:3px!important;width:130px!important}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#036}button[_ngcontent-%COMP%]{margin:0 10px}"]})}}return e})();var D=r(8240),I=r(5093),G=r(3308),Dn=r(6104),$=r(6340),An=r(3425);let j=(()=>{class e{transform(t){return v(t)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275pipe=n.EJ8({name:"guineaPhone",type:e,pure:!0,standalone:!1})}static{this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function v(e){if(!e)return"";const a=e.toString().replace(/\D/g,"");let t="";if(9===a.length)t=`+224 ${a.slice(0,3)} ${a.slice(3,5)} ${a.slice(5,7)} ${a.slice(7)}`;else{if(12!==a.length||!a.startsWith("224"))return e.toString();{const o=a.slice(3);t=`+224 ${o.slice(0,3)} ${o.slice(3,5)} ${o.slice(5,7)} ${o.slice(7)}`}}return t.trim()}const Cn=new n.nKC("FETCH_DASHBOARDS");var T=r(5065);let A=(()=>{class e extends An.K{constructor(t,o,i,_,s){super(t,o,i,_),this.fetchDashboards=s,this.DASHBOARD_NAME="DASHBOARD",this.isOnline=!1,this.destroy$=new Dn.B,this.DASHBOARDS_DATA={ACTIVE_RECOS:void 0,RECOS_PERFORMANCES:void 0,RECOS_VACCINES_NOT_DONE:void 0,RECOS_VACCINES_PARTIAL_DONE:void 0,RECOS_VACCINES_ALL_DONE:void 0,RECOS_TASKS_STATE:void 0},this.DASHBOARDS_HEADER={ON_FETCHING:{}},this.showGeneralCallAndSmsButton=!1,this.showOneByOneCallAndSmsButton=!1,this.initializeComponent(),this.isOnline=this.conn.isOnline}initializeComponent(){var t=this;return(0,G.A)(function*(){t.USER=yield t.userCtx.currentUser()})()}ngOnInit(){this.conn.onlineStatus$.pipe((0,$.Q)(this.destroy$)).subscribe(t=>{this.isOnline=t}),this.fGroup.formGroup$.pipe((0,$.Q)(this.destroy$)).subscribe(t=>{t&&(this.form=t,this.SHOW_DATA(!0))}),this.fGroup.DASHBOARDS_HEADER$.pipe((0,$.Q)(this.destroy$)).subscribe(t=>{t&&Object.entries(this.DASHBOARDS_HEADER).forEach(([o,i])=>{this.DASHBOARDS_HEADER[o]=t[o]??(Array.isArray(i)?[]:{})})}),this.fGroup.DASHBOARDS_DATA$.pipe((0,$.Q)(this.destroy$)).subscribe(t=>{t&&Object.keys(this.DASHBOARDS_DATA).forEach(o=>{this.DASHBOARDS_DATA[o]=t[o]})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(t){t.CHANGE_STATE&&(this.stateChange=t.CHANGE_STATE.currentValue)}SET_DASHBOARDS_HEADER(){this.fGroup.SET_DASHBOARDS_HEADER(this.DASHBOARDS_HEADER),this.stateChange=new Date}SET_DASHBOARDS_DATA(){this.fGroup.SET_DASHBOARDS_DATA(this.DASHBOARDS_DATA),this.stateChange=new Date}get IS_FILTER_LOADING(){return 1==this.DASHBOARDS_HEADER.ON_FETCHING[this.DASHBOARD_NAME]}SHOW_DATA(t){if(t){if(!this.form||!this.form.value||this.form.invalid)return void this.snackbar.showError("Veuillez remplir tous les champs requis.");if(!this.form.value.recos||0==(0,b.$r)(this.form.value.recos).length)return void this.snackbar.show({msg:"Veuillez s\xe9lectionner au moins un RECO",color:"warning",position:"TOP"});if(!this.form.value.months||0==(0,b.$r)(this.form.value.months).length)return void this.snackbar.show({msg:"Veuillez s\xe9lectionner au moins un mois",color:"warning",position:"TOP"});if(!(this.form.value.year&&parseInt(this.form.value.year)>0))return void this.snackbar.show({msg:"Veuillez s\xe9lectionner au moins une ann\xe9e",color:"warning",position:"TOP"});this.DASHBOARDS_HEADER.ON_FETCHING[this.DASHBOARD_NAME]=!0,this.SET_DASHBOARDS_HEADER()}this.fetchDashboards(this.form.value,this.isOnline).subscribe({next:o=>{if(this.DASHBOARDS_DATA[this.DASHBOARD_NAME]=o,this.SET_DASHBOARDS_DATA(),t){const i=`Aucune donn\xe9es trouv\xe9es pour ${this.DASHBOARD_NAME}!`,_=`${this.DASHBOARD_NAME} r\xe9cup\xe9r\xe9 avec succ\xe8s.`;this.snackbar.show({msg:o?.data?_:i,color:o?.data?"success":"info"}),this.DASHBOARDS_HEADER.ON_FETCHING[this.DASHBOARD_NAME]=!1,this.SET_DASHBOARDS_HEADER()}},error:o=>{t&&(this.snackbar.show({msg:`Erreur lors du chargement du ${this.DASHBOARD_NAME}.`,color:"danger",position:"TOP",duration:5e3}),this.DASHBOARDS_DATA[this.DASHBOARD_NAME]=void 0,this.SET_DASHBOARDS_DATA(),this.DASHBOARDS_HEADER.ON_FETCHING[this.DASHBOARD_NAME]=!1,this.SET_DASHBOARDS_HEADER())},complete:()=>{}})}getVaccineInfos(t){const o=s=>`Retard de vaccin::\nVous devez anemer votre enfant pour: ${s.join(", ")}`.trim(),i=[],_={};for(const s of t)for(const c of s)[void 0,null,"null","undefined",""," "].includes(c.parent_phone)||(c.parent_phone in _||(_[c.parent_phone]=[]),"off"==this.vaccinationUtils(c.vaccine_BCG,c.child_age_in_days,0)&&_[c.parent_phone].push("BCG"),"off"==this.vaccinationUtils(c.vaccine_VPO_0,c.child_age_in_days,0)&&_[c.parent_phone].push("VPO0"),"off"==this.vaccinationUtils(c.vaccine_PENTA_1,c.child_age_in_days,42)&&_[c.parent_phone].push("PENTA1"),"off"==this.vaccinationUtils(c.vaccine_VPO_1,c.child_age_in_days,42)&&_[c.parent_phone].push("VPO1"),"off"==this.vaccinationUtils(c.vaccine_PENTA_2,c.child_age_in_days,70)&&_[c.parent_phone].push("PENTA2"),"off"==this.vaccinationUtils(c.vaccine_VPO_2,c.child_age_in_days,70)&&_[c.parent_phone].push("VPO2"),"off"==this.vaccinationUtils(c.vaccine_PENTA_3,c.child_age_in_days,98)&&_[c.parent_phone].push("PENTA3"),"off"==this.vaccinationUtils(c.vaccine_VPO_3,c.child_age_in_days,98)&&_[c.parent_phone].push("VPO3"),"off"==this.vaccinationUtils(c.vaccine_VPI_1,c.child_age_in_days,98)&&_[c.parent_phone].push("VPI1"),"off"==this.vaccinationUtils(c.vaccine_VAR_1,c.child_age_in_months,9)&&_[c.parent_phone].push("VAR1"),"off"==this.vaccinationUtils(c.vaccine_VAA,c.child_age_in_months,9)&&_[c.parent_phone].push("VAA"),"off"==this.vaccinationUtils(c.vaccine_VPI_2,c.child_age_in_months,9)&&_[c.parent_phone].push("VPI2"),"off"==this.vaccinationUtils(c.vaccine_MEN_A,c.child_age_in_months,15)&&_[c.parent_phone].push("MENA"),"off"==this.vaccinationUtils(c.vaccine_VAR_2,c.child_age_in_months,15)&&_[c.parent_phone].push("VAR2"));for(const s of Object.keys(_))_[s].length>0&&i.push({phone:v(s),message:o(_[s])});return i}vaccineUtils(t,o,i){const _=this.vaccinationUtils(t,o,i);return{class:"on"==_?"vaccine-on":"off"==_?"vaccine-off":"vaccine-NA",action:"on"==_?"&#10003;":"off"==_?"&times;":"NA"}}vaccinationUtils(t,o,i){return o>=i?!0===t?"on":"off":"na"}quantityStyle(t){return t<0?"quantity-error":t>0?"quantity-up":"quantity-down"}sendSms(t,o){return(0,G.A)(function*(){})()}sendCustomSms(t,o){return(0,G.A)(function*(){})()}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(f.z),n.rXU(T.T),n.rXU(u.z),n.rXU(h.i),n.rXU(Cn))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-report"]],inputs:{CHANGE_STATE:"CHANGE_STATE"},features:[n.Vt3,n.OA$],decls:0,vars:0,template:function(o,i){},encapsulation:2})}}return e})();var C=r(9697);function Fn(e,a){1&e&&(n.j41(0,"div",1)(1,"div",2)(2,"div",3),n.nrm(3,"div",4)(4,"div",5)(5,"div",6),n.k0s(),n.j41(6,"p",7),n.EFF(7,"Chargement en cours..."),n.k0s()()())}let y=(()=>{class e{constructor(){this.isLoading=!1}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-graduation-loader"]],inputs:{isLoading:"isLoading"},standalone:!1,decls:1,vars:1,consts:[["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"],[1,"loading-container"],[1,"graduation-hat"],[1,"hat-top"],[1,"hat-band"],[1,"hat-tassel"],[1,"loading-text"]],template:function(o,i){1&o&&n.DNE(0,Fn,8,0,"div",0),2&o&&n.Y8G("ngIf",i.isLoading)},dependencies:[p.I],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.loading-container[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 10px #0000004d;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.graduation-hat[_ngcontent-%COMP%]{position:relative;width:100px;height:50px;margin:0 auto;animation:_ngcontent-%COMP%_spin 2s linear infinite}.hat-top[_ngcontent-%COMP%]{width:100px;height:10px;background:#000;position:absolute;top:0;transform:rotate(20deg)}.hat-band[_ngcontent-%COMP%]{width:60px;height:10px;background:#8b0000;position:absolute;top:10px;left:20px;border-radius:5px}.hat-tassel[_ngcontent-%COMP%]{width:10px;height:20px;background:gold;position:absolute;top:15px;left:80px;border-radius:5px;animation:_ngcontent-%COMP%_swing 1s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_swing{0%{transform:rotate(0)}to{transform:rotate(20deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.loading-text[_ngcontent-%COMP%]{font-size:16px;color:#333;margin-top:10px;font-weight:700;animation:_ngcontent-%COMP%_pulse 1.5s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}"]})}}return e})();const In=()=>[1,2,3,4,5,6];function Gn(e,a){1&e&&(n.qex(0),n.j41(1,"th",13),n.EFF(2,"Consu"),n.k0s(),n.j41(3,"th",13),n.EFF(4,"Suivi"),n.k0s(),n.j41(5,"th",13),n.EFF(6,"Total"),n.k0s(),n.bVm())}function Sn(e,a){if(1&e&&(n.j41(0,"tr",16)(1,"td",17),n.EFF(2,"LES TOTAUX"),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s(),n.j41(7,"td"),n.EFF(8),n.k0s(),n.j41(9,"td"),n.EFF(10),n.k0s(),n.j41(11,"td"),n.EFF(12),n.k0s(),n.j41(13,"td"),n.EFF(14),n.k0s(),n.j41(15,"td"),n.EFF(16),n.k0s(),n.j41(17,"td"),n.EFF(18),n.k0s(),n.j41(19,"td"),n.EFF(20),n.k0s(),n.j41(21,"td"),n.EFF(22),n.k0s(),n.j41(23,"td"),n.EFF(24),n.k0s(),n.j41(25,"td"),n.EFF(26),n.k0s(),n.j41(27,"td"),n.EFF(28),n.k0s(),n.j41(29,"td"),n.EFF(30),n.k0s(),n.j41(31,"td"),n.EFF(32),n.k0s(),n.j41(33,"td"),n.EFF(34),n.k0s(),n.j41(35,"td"),n.EFF(36),n.k0s(),n.j41(37,"td"),n.EFF(38),n.k0s(),n.j41(39,"td"),n.EFF(40),n.k0s(),n.j41(41,"td"),n.EFF(42),n.k0s(),n.j41(43,"td"),n.EFF(44),n.k0s(),n.j41(45,"td"),n.EFF(46),n.k0s(),n.j41(47,"td"),n.EFF(48),n.k0s(),n.j41(49,"td"),n.EFF(50),n.k0s(),n.j41(51,"td"),n.EFF(52),n.k0s(),n.j41(53,"td"),n.EFF(54),n.k0s()()),2&e){const t=a.ngIf;n.R7$(),n.Y8G("colSpan",4),n.R7$(3),n.JRh(t.family_count),n.R7$(2),n.JRh(t.patient_count),n.R7$(2),n.JRh(t.adult_data_count.consultation),n.R7$(2),n.JRh(t.adult_data_count.followup),n.R7$(2),n.JRh(t.adult_data_count.total),n.R7$(2),n.JRh(t.family_planning_data_count.consultation),n.R7$(2),n.JRh(t.family_planning_data_count.followup),n.R7$(2),n.JRh(t.family_planning_data_count.total),n.R7$(2),n.JRh(t.newborn_data_count.consultation),n.R7$(2),n.JRh(t.newborn_data_count.followup),n.R7$(2),n.JRh(t.newborn_data_count.total),n.R7$(2),n.JRh(t.pcimne_data_count.consultation),n.R7$(2),n.JRh(t.pcimne_data_count.followup),n.R7$(2),n.JRh(t.pcimne_data_count.total),n.R7$(2),n.JRh(t.pregnant_data_count.consultation),n.R7$(2),n.JRh(t.pregnant_data_count.followup),n.R7$(2),n.JRh(t.pregnant_data_count.total),n.R7$(2),n.JRh(t.all_consultation_followup_count.consultation),n.R7$(2),n.JRh(t.all_consultation_followup_count.followup),n.R7$(2),n.JRh(t.all_consultation_followup_count.total),n.R7$(2),n.JRh(t.referal_data_count),n.R7$(2),n.JRh(t.delivery_data_count),n.R7$(2),n.JRh(t.events_data_count),n.R7$(2),n.JRh(t.promotional_data_count),n.R7$(2),n.JRh(t.death_data_count),n.R7$(2),n.JRh(t.all_actions_count)}}function Nn(e,a){if(1&e){const t=n.RV6();n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.j41(5,"i",18),n.bIt("click",function(){const i=n.eBV(t).$implicit,_=n.XpG(2);return n.Njj(_.startGenerateRecoChart(i.reco.id,i.reco.name))}),n.k0s()(),n.j41(6,"td"),n.EFF(7),n.k0s(),n.j41(8,"td"),n.EFF(9),n.k0s(),n.j41(10,"td"),n.EFF(11),n.k0s(),n.j41(12,"td"),n.EFF(13),n.k0s(),n.j41(14,"td"),n.EFF(15),n.k0s(),n.j41(16,"td"),n.EFF(17),n.k0s(),n.j41(18,"td"),n.EFF(19),n.k0s(),n.j41(20,"td"),n.EFF(21),n.k0s(),n.j41(22,"td"),n.EFF(23),n.k0s(),n.j41(24,"td"),n.EFF(25),n.k0s(),n.j41(26,"td"),n.EFF(27),n.k0s(),n.j41(28,"td"),n.EFF(29),n.k0s(),n.j41(30,"td"),n.EFF(31),n.k0s(),n.j41(32,"td"),n.EFF(33),n.k0s(),n.j41(34,"td"),n.EFF(35),n.k0s(),n.j41(36,"td"),n.EFF(37),n.k0s(),n.j41(38,"td"),n.EFF(39),n.k0s(),n.j41(40,"td"),n.EFF(41),n.k0s(),n.j41(42,"td"),n.EFF(43),n.k0s(),n.j41(44,"td"),n.EFF(45),n.k0s(),n.j41(46,"td"),n.EFF(47),n.k0s(),n.j41(48,"td"),n.EFF(49),n.k0s(),n.j41(50,"td"),n.EFF(51),n.k0s(),n.j41(52,"td"),n.EFF(53),n.k0s(),n.j41(54,"td"),n.EFF(55),n.k0s(),n.j41(56,"td"),n.EFF(57),n.k0s(),n.j41(58,"td"),n.EFF(59),n.k0s(),n.j41(60,"td"),n.EFF(61),n.k0s()()}if(2&e){const t=a.$implicit,o=a.index;n.R7$(2),n.JRh(o+1),n.R7$(2),n.SpI("",t.reco.name," "),n.R7$(3),n.JRh(t.reco.phone),n.R7$(2),n.JRh(t.village_secteur.name),n.R7$(2),n.JRh(t.family_count),n.R7$(2),n.JRh(t.patient_count),n.R7$(2),n.JRh(t.adult_data_count.consultation),n.R7$(2),n.JRh(t.adult_data_count.followup),n.R7$(2),n.JRh(t.adult_data_count.total),n.R7$(2),n.JRh(t.family_planning_data_count.consultation),n.R7$(2),n.JRh(t.family_planning_data_count.followup),n.R7$(2),n.JRh(t.family_planning_data_count.total),n.R7$(2),n.JRh(t.newborn_data_count.consultation),n.R7$(2),n.JRh(t.newborn_data_count.followup),n.R7$(2),n.JRh(t.newborn_data_count.total),n.R7$(2),n.JRh(t.pcimne_data_count.consultation),n.R7$(2),n.JRh(t.pcimne_data_count.followup),n.R7$(2),n.JRh(t.pcimne_data_count.total),n.R7$(2),n.JRh(t.pregnant_data_count.consultation),n.R7$(2),n.JRh(t.pregnant_data_count.followup),n.R7$(2),n.JRh(t.pregnant_data_count.total),n.R7$(2),n.JRh(t.all_consultation_followup_count.consultation),n.R7$(2),n.JRh(t.all_consultation_followup_count.followup),n.R7$(2),n.JRh(t.all_consultation_followup_count.total),n.R7$(2),n.JRh(t.referal_data_count),n.R7$(2),n.JRh(t.delivery_data_count),n.R7$(2),n.JRh(t.events_data_count),n.R7$(2),n.JRh(t.promotional_data_count),n.R7$(2),n.JRh(t.death_data_count),n.R7$(2),n.JRh(t.all_actions_count)}}function kn(e,a){if(1&e&&(n.qex(0),n.j41(1,"h2"),n.EFF(2,"\u{1f4ca} PERFORMANCES DES RECOS"),n.k0s(),n.nrm(3,"br")(4,"repports-header-selector",6),n.j41(5,"div",7)(6,"table",8)(7,"thead")(8,"tr",9)(9,"th",10),n.EFF(10,"RECO"),n.k0s(),n.j41(11,"th",11),n.EFF(12,"MENAGES"),n.k0s(),n.j41(13,"th",11),n.EFF(14,"PATIENTS"),n.k0s(),n.j41(15,"th",10),n.EFF(16,"ADULTE"),n.k0s(),n.j41(17,"th",10),n.EFF(18,"PF"),n.k0s(),n.j41(19,"th",10),n.EFF(20,"NOUVEU NE"),n.k0s(),n.j41(21,"th",10),n.EFF(22,"ENFANT"),n.k0s(),n.j41(23,"th",10),n.EFF(24,"ENCEINTE"),n.k0s(),n.j41(25,"th",10),n.EFF(26,"TOUTE CONSULTATION"),n.k0s(),n.j41(27,"th",11),n.EFF(28,"REFERENCE"),n.k0s(),n.j41(29,"th",11),n.EFF(30,"ACCOUCHEMENT"),n.k0s(),n.j41(31,"th",11),n.EFF(32,"EVENEMENT"),n.k0s(),n.j41(33,"th",11),n.EFF(34,"PROMOTION"),n.k0s(),n.j41(35,"th",11),n.EFF(36,"DECES"),n.k0s(),n.j41(37,"th",11),n.EFF(38,"TOUT ACTIONS"),n.k0s()(),n.j41(39,"tr",12)(40,"th",13),n.EFF(41,"N\xb0"),n.k0s(),n.j41(42,"th",13),n.EFF(43,"Nom"),n.k0s(),n.j41(44,"th",13),n.EFF(45,"T\xe9l\xe9phone"),n.k0s(),n.j41(46,"th",13),n.EFF(47,"Village"),n.k0s(),n.DNE(48,Gn,7,0,"ng-container",14),n.k0s()(),n.j41(49,"tbody"),n.DNE(50,Sn,55,27,"tr",15)(51,Nn,62,30,"tr",14),n.k0s()()(),n.bVm()),2&e){const t=n.XpG();n.R7$(4),n.Y8G("id","recos_performances-table-header")("REPPORT_NAME",t.DASHBOARD_NAME)("CHANGE_STATE",t.CHANGE_STATE)("HIDE_ZERO_ID","fp-rep")("TABLE_ID","recos_performances-table")("SHOW_EXPORT_TABLE_BTN",!0),n.R7$(5),n.Y8G("colSpan",4),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(11),n.Y8G("ngForOf",n.lJ4(24,In)),n.R7$(2),n.Y8G("ngIf",t.DATA_FETCHED.total),n.R7$(),n.Y8G("ngForOf",t.DATA_FETCHED.performances)}}function $n(e,a){1&e&&(n.qex(0),n.j41(1,"h1",19),n.EFF(2," Pas de donn\xe9es, appliquer le filtre ! "),n.k0s(),n.bVm())}let vn=(()=>{class e extends A{constructor(t,o,i,_,s){super(o,i,_,s,(c,l)=>(0,D.H)(this.ldbfetch.GetRecoPerformanceDashboard(c,l))),this.ldbfetch=t,this.DASHBOARD_NAME="RECOS_PERFORMANCES",this.modal=null,this.openBtn=null,this.closeBtn=null,this.LINE_TITLE="",I.t1.register(...I.$L)}showModal(){}closeModal(){this.modal&&(this.modal.style.display="none")}get DATA_FETCHED(){return this.DASHBOARDS_DATA[this.DASHBOARD_NAME]?.data??[]}startGenerateRecoChart(t,o){if(this.modal||(this.modal=document.getElementById("customModal"),window.onclick=i=>{this.modal&&i.target===this.modal&&(this.modal.style.display="none")}),this.modal){this.modal.style.display="block";const i=this.DATA_FETCHED.yearDatas?.[t];this.LINE_TITLE=i.title,setTimeout(()=>{this.closeBtn=document.querySelector(".close-btn"),this.generateChart({cibleId:"line-chart",title:o,type:"line",absisseLabels:i.absisseLabels,datasets:i.datasets})})}}generateChart({cibleId:t,title:o,type:i,absisseLabels:_,datasets:s}){const c=document.getElementById(t),l=document.getElementById(`${t}-select`);if(!c)return;c.chart&&c.chart.destroy();const R=c.getContext("2d");if(!(R&&s.length>0))return;I.t1.defaults.color="#6C7293",I.t1.defaults.borderColor="#000000";const k=s.map(m=>({label:m.label,backgroundColor:Array.isArray(m.backgroundColor)?m.backgroundColor.map(g=>`${g}`):[`${m.backgroundColor}`],data:m.data.map(g=>Number(g)),borderWidth:"bar"!==i?3:0,pointBorderColor:"#000",pointBorderWidth:3,pointRadius:4,pointHoverBackgroundColor:"#fff",pointHoverBorderWidth:2,fill:m.fill||!1,borderColor:m.borderColor||void 0,pointBackgroundColor:m.pointBackgroundColor||void 0,pointHoverBorderColor:m.pointHoverBorderColor||void 0}));l&&(l.innerHTML="",_.forEach((m,g)=>{const E=document.createElement("option");E.value=g.toString(),E.textContent=m.toString(),E.selected=!0,l.appendChild(E)}),l.addEventListener("change",()=>this.updateChartVisibility({cibleId:t,title:o,type:i,absisseLabels:_,datasets:s})));const O=new I.t1(R,{type:i,data:{labels:_.map(m=>`${m}`),datasets:k},options:{responsive:!0,maintainAspectRatio:!0,plugins:{title:{display:!0,text:o,font:{size:16,weight:"bold",family:"Arial"},color:"#333"},legend:{display:!0,position:"top",labels:{font:{size:12,family:"Arial",weight:"normal"},color:"#666"}},tooltip:{enabled:!0,mode:"nearest",backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{family:"Arial",size:14,weight:"normal"},bodyFont:{family:"Arial",size:12,weight:"normal"},displayColors:!1}},scales:{x:{display:!0,ticks:{font:{size:12,family:"Arial",weight:"normal"},color:"#666"},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"}},y:{display:!0,ticks:{font:{size:12,family:"Arial",weight:"normal"},color:"#666"},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"}}}}});c.chart=O}updateChartVisibility({cibleId:t,type:o,absisseLabels:i,datasets:_}){const s=document.getElementById(t),c=document.getElementById(`${t}-select`),l=s?.chart;if(!l)return;const R=Array.from(c.selectedOptions).map(g=>Number(g.value)),k=R.map(g=>i[g]),m=_.map(g=>({label:g.label,backgroundColor:Array.isArray(g.backgroundColor)?g.backgroundColor.map(E=>`${E}`):[`${g.backgroundColor}`],data:g.data.map(E=>Number(E)),borderWidth:"bar"!==o?3:0,pointBorderColor:"#000",pointBorderWidth:3,pointRadius:4,pointHoverBackgroundColor:"#fff",pointHoverBorderWidth:2,fill:g.fill||!1,borderColor:g.borderColor||void 0,pointBackgroundColor:g.pointBackgroundColor||void 0,pointHoverBorderColor:g.pointHoverBorderColor||void 0})).map(g=>({...g,data:R.map(E=>g.data[E])}));l.data.labels=k,l.data.datasets=m,l.update()}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(C.F),n.rXU(f.z),n.rXU(T.T),n.rXU(u.z),n.rXU(h.i))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["reco-performance-dashboard"]],standalone:!1,features:[n.Vt3],decls:10,vars:4,consts:[[3,"isLoading"],[4,"ngIf"],["id","customModal",1,"custom-modal"],[1,"custom-modal-content"],[1,"custom-close-btn",3,"click"],["id","line-chart"],[3,"id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],[1,"table-responsive"],["id","recos_performances-table",1,"table","table-bordered","table-hover"],[1,"total-head",2,"text-align","center"],[3,"colSpan"],[3,"rowSpan"],[1,"table-head","fp-header-1",2,"text-align","center"],["scope","col",1,"small-head"],[4,"ngFor","ngForOf"],["style","font-weight: bold;",4,"ngIf"],[2,"font-weight","bold"],[2,"text-align","right",3,"colSpan"],[1,"fas","fa-bullseye",3,"click"],[2,"margin-top","150px","width","100%","text-align","center","color","brown"]],template:function(o,i){1&o&&(n.nrm(0,"app-graduation-loader",0),n.DNE(1,kn,52,25,"ng-container",1),n.j41(2,"div",2)(3,"div",3)(4,"span",4),n.bIt("click",function(){return i.closeModal()}),n.EFF(5,"\xd7"),n.k0s(),n.j41(6,"h2"),n.EFF(7),n.k0s(),n.nrm(8,"canvas",5),n.k0s()(),n.DNE(9,$n,3,0,"ng-container",1)),2&o&&(n.Y8G("isLoading",i.IS_FILTER_LOADING),n.R7$(),n.Y8G("ngIf",i.DATA_FETCHED&&i.DATA_FETCHED.performances&&i.DATA_FETCHED.performances.length>0),n.R7$(6),n.JRh(i.LINE_TITLE),n.R7$(2),n.Y8G("ngIf",!i.DATA_FETCHED||!i.DATA_FETCHED.performances||0==i.DATA_FETCHED.performances.length))},dependencies:[p.G,p.I,y],styles:[".bg-chart[_ngcontent-%COMP%]{background-color:azure;border:1px solid rgb(209,243,255)!important;width:auto;align-items:center;text-align:center;justify-content:center;justify-items:center;height:120px}.bg-chart[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.bg-chart[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:25px;color:#00008b!important;margin-bottom:10px}.bg-chart[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px;color:#797979!important}div[_ngcontent-%COMP%]{padding:10px;background-color:#f7f7f7;border-radius:8px;box-shadow:0 4px 6px #0000001a}@media (max-width: 991px){*[_ngcontent-%COMP%]{font-size:13px!important}}.custom-modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:999;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#00000080}.custom-modal-content[_ngcontent-%COMP%]{background-color:#fff;margin:10% auto;padding:2rem;border-radius:12px;width:auto;box-shadow:0 10px 30px #0003;position:relative;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.custom-close-btn[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;font-size:1.5rem;font-weight:700;color:#999;cursor:pointer}.custom-close-btn[_ngcontent-%COMP%]:hover{color:#333}.custom-action-btn[_ngcontent-%COMP%]{background-color:#1e88e5;color:#fff;padding:.6rem 1.2rem;border:none;border-radius:8px;cursor:pointer}.custom-action-btn[_ngcontent-%COMP%]:hover{background-color:#1565c0}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}"]})}}return e})();var On=r(7929);function jn(e,a){if(1&e&&(n.j41(0,"option",5),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t),n.R7$(),n.JRh(t)}}function Vn(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",1)(1,"select",2),n.bIt("change",function(i){n.eBV(t);const _=n.XpG();return n.Njj(_.changePageSize(i))}),n.DNE(2,jn,2,2,"option",3),n.k0s(),n.j41(3,"button",4),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.prevPage())}),n.EFF(4,"Pr\xe9c\xe9dent"),n.k0s(),n.j41(5,"span"),n.EFF(6),n.k0s(),n.j41(7,"button",4),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.nextPage())}),n.EFF(8,"Suivant"),n.k0s()()}if(2&e){const t=n.XpG();n.R7$(2),n.Y8G("ngForOf",t.pageSizeOptions),n.R7$(),n.Y8G("disabled",1===t.currentPage),n.R7$(3),n.Lme("Page ",t.currentPage," of ",t.totalPages,""),n.R7$(),n.Y8G("disabled",t.currentPage===t.totalPages)}}let S=(()=>{class e extends On.K{constructor(){super()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["dashboards-pagination-table"]],standalone:!1,features:[n.Vt3],decls:1,vars:1,consts:[["class","pagination",4,"ngIf"],[1,"pagination"],[3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"click","disabled"],[3,"value"]],template:function(o,i){1&o&&n.DNE(0,Vn,9,5,"div",0),2&o&&n.Y8G("ngIf",i.datalength>i.initialPageSize)},dependencies:[p.G,p.I,d.xH,d.y7],styles:[".pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:12px;margin-top:20px;font-family:Arial,sans-serif;flex-wrap:wrap;overflow:hidden}.pagination[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;font-size:16px;border-radius:8px;border:1px solid #6200ea;background:#f3f3f3;color:#333;cursor:pointer;transition:all .3s ease;box-shadow:inset 2px 2px 5px #0000001a}.pagination[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{background:#ddd}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6200ea,#9c27b0);color:#fff;border:none;padding:10px 20px;border-radius:20px;font-size:16px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0003}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#9c27b0,#6200ea);transform:scale(1.05)}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;box-shadow:none;transform:none}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#444;padding:8px 15px;border-radius:10px;background:#f3f3f3;box-shadow:inset 2px 2px 5px #0000001a}"],changeDetection:0})}}return e})();var xn=r(3677),Mn=r(8394);function Pn(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",1)(1,"button",2),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.exportToCSV())}),n.EFF(2,"\u{1f4c2} CSV"),n.k0s(),n.j41(3,"button",2),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.exportToJSON())}),n.EFF(4,"\u{1f4c2} JSON"),n.k0s(),n.j41(5,"button",2),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.exportToExcel())}),n.EFF(6,"\u{1f4c2} Excel"),n.k0s(),n.j41(7,"button",2),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.exportToPDF("p"))}),n.EFF(8,"\u{1f4c2} PDF (Portrait)"),n.k0s(),n.j41(9,"button",2),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.exportToPDF("l"))}),n.EFF(10,"\u{1f4c2} PDF (Paysage)"),n.k0s()()}}let N=(()=>{class e extends xn.p{constructor(t,o,i,_,s,c){super(t,o,i,_,s,c)}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(F.B),n.rXU(Mn.D),n.rXU(h.i),n.rXU(u.z),n.rXU(f.z),n.rXU(T.T))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["dashboards-header-selector"]],standalone:!1,features:[n.Vt3],decls:1,vars:1,consts:[["class","export-buttons",4,"ngIf"],[1,"export-buttons"],[3,"click"]],template:function(o,i){1&o&&n.DNE(0,Pn,11,0,"div",0),2&o&&n.Y8G("ngIf",1==i.SHOW_EXPORT_TABLE_BTN&&1==(null==i.USER||null==i.USER.role?null:i.USER.role.canDownloadData))},dependencies:[p.I],styles:[".export-buttons[_ngcontent-%COMP%]{margin-bottom:10px}.export-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#036;color:#fff;border:none;padding:8px 12px;margin-right:5px;cursor:pointer;border-radius:5px}.export-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#05a}@media (max-width: 991px){*[_ngcontent-%COMP%]{font-size:13px!important}}"]})}}return e})();function Hn(e,a){if(1&e&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&e){const t=n.XpG(4).$implicit,o=n.XpG(2);n.BMQ("rowspan",o.getTotalDataCountForReco(t)),n.R7$(),n.SpI(" ",t.name," ")}}function yn(e,a){if(1&e&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&e){const t=n.XpG(4).$implicit,o=n.XpG(2);n.BMQ("rowspan",o.getTotalDataCountForReco(t)),n.R7$(),n.SpI(" ",t.external_id," ")}}function Yn(e,a){if(1&e&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&e){const t=n.XpG(4).$implicit,o=n.XpG(2);n.BMQ("rowspan",o.getTotalDataCountForReco(t)),n.R7$(),n.SpI(" ",t.phone," ")}}function Bn(e,a){if(1&e&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&e){const t=n.XpG(4).$implicit,o=n.XpG(2);n.BMQ("rowspan",o.getTotalDataCountForReco(t)),n.R7$(),n.SpI(" ",(null==t.village_secteur?null:t.village_secteur.name)||"-"," ")}}function Ln(e,a){if(1&e&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&e){const t=n.XpG(3).$implicit,o=n.XpG(3);n.BMQ("rowspan",o.getTotalDataCountForFamily(t)),n.R7$(),n.SpI(" ",t.given_name," ")}}function wn(e,a){if(1&e&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&e){const t=n.XpG(3).$implicit,o=n.XpG(3);n.BMQ("rowspan",o.getTotalDataCountForFamily(t)),n.R7$(),n.SpI(" ",t.external_id," ")}}function Un(e,a){if(1&e&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&e){const t=n.XpG(2).$implicit;n.BMQ("rowspan",t.data.length),n.R7$(),n.SpI(" ",t.name," ")}}function Xn(e,a){if(1&e&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&e){const t=n.XpG(2).$implicit;n.BMQ("rowspan",t.data.length),n.R7$(),n.SpI(" ",t.external_id||"-"," ")}}function Jn(e,a){if(1&e&&(n.qex(0),n.j41(1,"tr"),n.DNE(2,Hn,2,2,"td",1)(3,yn,2,2,"td",1)(4,Yn,2,2,"td",1)(5,Bn,2,2,"td",1)(6,Ln,2,2,"td",1)(7,wn,2,2,"td",1)(8,Un,2,2,"td",1)(9,Xn,2,2,"td",1),n.j41(10,"td"),n.EFF(11),n.k0s(),n.j41(12,"td"),n.EFF(13),n.k0s(),n.j41(14,"td"),n.EFF(15),n.k0s()(),n.bVm()),2&e){const t=a.$implicit,o=a.index,i=n.XpG().$implicit,_=n.XpG().$implicit,s=n.XpG().$implicit,c=n.XpG(2);n.R7$(2),n.Y8G("ngIf",_===s.families[0]&&i===_.patients[0]&&0===o),n.R7$(),n.Y8G("ngIf",_===s.families[0]&&i===_.patients[0]&&0===o),n.R7$(),n.Y8G("ngIf",_===s.families[0]&&i===_.patients[0]&&0===o),n.R7$(),n.Y8G("ngIf",_===s.families[0]&&i===_.patients[0]&&0===o),n.R7$(),n.Y8G("ngIf",i===_.patients[0]&&0===o),n.R7$(),n.Y8G("ngIf",i===_.patients[0]&&0===o),n.R7$(),n.Y8G("ngIf",0===o),n.R7$(),n.Y8G("ngIf",0===o),n.R7$(2),n.JRh(c.formatForm(t.form).toUpperCase()),n.R7$(2),n.JRh(c.formatDateToFr(t.due_date)),n.R7$(2),n.JRh(c.taskDuration(t))}}function Qn(e,a){if(1&e&&(n.qex(0),n.DNE(1,Jn,16,11,"ng-container",10),n.bVm()),2&e){const t=a.$implicit;n.R7$(),n.Y8G("ngForOf",t.data)}}function zn(e,a){if(1&e&&(n.qex(0),n.DNE(1,Qn,2,1,"ng-container",10),n.bVm()),2&e){const t=a.$implicit;n.R7$(),n.Y8G("ngForOf",t.patients)}}function qn(e,a){if(1&e&&(n.qex(0),n.DNE(1,zn,2,1,"ng-container",10),n.bVm()),2&e){const t=a.$implicit;n.R7$(),n.Y8G("ngForOf",t.families)}}function Wn(e,a){if(1&e){const t=n.RV6();n.qex(0),n.j41(1,"h2"),n.EFF(2,"\u{1f4c8} LISTE DES T\xc2CHES NON REALISEES"),n.k0s(),n.nrm(3,"br")(4,"dashboards-header-selector",2),n.j41(5,"div",3)(6,"table",4)(7,"thead")(8,"tr",5)(9,"th",6),n.EFF(10,"INFOS RECOS"),n.k0s(),n.j41(11,"th",7),n.EFF(12,"INFOS FAMILLES"),n.k0s(),n.j41(13,"th",7),n.EFF(14,"INFOS PATIENTS"),n.k0s(),n.j41(15,"th",8),n.EFF(16,"SUIVIS NON REALISES"),n.k0s()(),n.j41(17,"tr",5)(18,"th",9),n.EFF(19,"Nom"),n.k0s(),n.j41(20,"th",9),n.EFF(21,"Code"),n.k0s(),n.j41(22,"th",9),n.EFF(23,"T\xe9l\xe9phone"),n.k0s(),n.j41(24,"th",9),n.EFF(25,"Village"),n.k0s(),n.j41(26,"th",9),n.EFF(27,"Nom"),n.k0s(),n.j41(28,"th",9),n.EFF(29,"Code"),n.k0s(),n.j41(30,"th",9),n.EFF(31,"Nom"),n.k0s(),n.j41(32,"th",9),n.EFF(33,"Code"),n.k0s(),n.j41(34,"th",9),n.EFF(35,"Formulaire"),n.k0s(),n.j41(36,"th",9),n.EFF(37,"Date T\xe2che"),n.k0s(),n.j41(38,"th",9),n.EFF(39,"Dur\xe9e t\xe2che"),n.k0s()()(),n.j41(40,"tbody"),n.DNE(41,qn,2,1,"ng-container",10),n.k0s()()(),n.j41(42,"dashboards-pagination-table",11),n.bIt("onPageChanged",function(i){n.eBV(t);const _=n.XpG();return n.Njj(_.onUpdatedPaginate(i))}),n.k0s(),n.bVm()}if(2&e){const t=n.XpG();n.R7$(4),n.Y8G("id","tasks-state-table-header")("REPPORT_NAME",t.DASHBOARD_NAME)("CHANGE_STATE",t.CHANGE_STATE)("TABLE_ID","tasks-state-table")("SHOW_EXPORT_TABLE_BTN",!0),n.R7$(37),n.Y8G("ngForOf",t.PAGINATION_DATA),n.R7$(),n.Y8G("id","pagination-tasks-state")("PAGINATION_DATA",t.DATA_FETCHED)}}function Kn(e,a){1&e&&(n.qex(0),n.j41(1,"h1",12),n.EFF(2," Pas de donn\xe9es, appliquer le filtre ! "),n.k0s(),n.bVm())}let Zn=(()=>{class e extends A{constructor(t,o,i,_,s){super(o,i,_,s,(c,l)=>(0,D.H)(this.ldbfetch.GetRecoTasksStateDashboard(c,l))),this.ldbfetch=t,this.DASHBOARD_NAME="RECOS_TASKS_STATE",this.PAGINATION_DATA=[]}getTotalDataCountForReco(t){return t.families.reduce((o,i)=>o+i.patients.reduce((_,s)=>_+s.data.length,0),0)}getTotalDataCountForFamily(t){return t.patients.reduce((o,i)=>o+i.data.length,0)}taskDuration(t,o=!0){const i=new Date(t.start_date),_=new Date(t.end_date);if(isNaN(i.getTime())||isNaN(_.getTime()))return"-";const s=_.getTime()-i.getTime(),c=Math.floor(s/864e5);if(o){const l=Math.abs(c);return`${l} jour${l>1?"s":""}`}return c}formatForm(t){if(!t||"string"!=typeof t)return"";const o=t.split("_");return o.includes("followup")?`Suivi ${o.filter(s=>"followup"!==s).join(" ")}`:o.join(" ")}formatDateToFr(t){const o=new Date(t);return isNaN(o.getTime())?"-":`${String(o.getDate()).padStart(2,"0")}/${String(o.getMonth()+1).padStart(2,"0")}/${o.getFullYear()}`}onUpdatedPaginate(t){console.log(t[0]),this.PAGINATION_DATA=t}get DATA_FETCHED(){return this.DASHBOARDS_DATA[this.DASHBOARD_NAME]?.data??[]}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(C.F),n.rXU(f.z),n.rXU(T.T),n.rXU(u.z),n.rXU(h.i))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["reco-tasks-state-dashboard"]],standalone:!1,features:[n.Vt3],decls:3,vars:3,consts:[[3,"isLoading"],[4,"ngIf"],[3,"id","REPPORT_NAME","CHANGE_STATE","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],[1,"table-responsive"],["id","tasks-state-table",1,"table","table-bordered","table-hover"],[1,"table-head","fp-header-1"],["colspan","4"],["colspan","2"],["colspan","3"],[1,"small-head"],[4,"ngFor","ngForOf"],[3,"onPageChanged","id","PAGINATION_DATA"],[2,"margin-top","150px","width","100%","text-align","center","color","brown"]],template:function(o,i){1&o&&(n.nrm(0,"app-graduation-loader",0),n.DNE(1,Wn,43,8,"ng-container",1)(2,Kn,3,0,"ng-container",1)),2&o&&(n.Y8G("isLoading",i.IS_FILTER_LOADING),n.R7$(),n.Y8G("ngIf",i.DATA_FETCHED&&i.DATA_FETCHED.length>0),n.R7$(),n.Y8G("ngIf",!i.DATA_FETCHED||0==i.DATA_FETCHED.length))},dependencies:[p.G,p.I,y,S,N],styles:["th[_ngcontent-%COMP%]{text-transform:capitalize!important}tr.total-head[_ngcontent-%COMP%]{background-color:#07004a}tr.total-head[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:700;font-size:22px}.checkbox-row[_ngcontent-%COMP%]{display:inline-block;margin-right:25px}.checkbox-row[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:6px;width:18px;height:18px;cursor:pointer}.bg-chart[_ngcontent-%COMP%]{background-color:azure;border:1px solid rgb(209,243,255)!important;width:auto;align-items:center;text-align:center;justify-content:center;justify-items:center;height:120px}.bg-chart[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.bg-chart[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:25px;color:#00008b!important;margin-bottom:10px}.bg-chart[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px;color:#797979!important}div[_ngcontent-%COMP%]{padding:10px;background-color:#f7f7f7;border-radius:8px;box-shadow:0 4px 6px #0000001a}@media (max-width: 991px){*[_ngcontent-%COMP%]{font-size:13px!important}}"]})}}return e})();function nt(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",13)(1,"label")(2,"input",14),n.bIt("change",function(i){const _=n.eBV(t).index,s=n.XpG(2);return n.Njj(s.onCheckboxChange(i,_))}),n.k0s(),n.EFF(3),n.k0s()()}if(2&e){const t=a.$implicit;n.R7$(2),n.Y8G("checked",t.show),n.R7$(),n.SpI(" ",t.name," ")}}function tt(e,a){if(1&e&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&e){const t=n.XpG().$implicit,o=n.XpG(2).$implicit,i=n.XpG(2);n.R7$(),n.JRh(i.DATA_FETCHED.total[o][t.key])}}function et(e,a){if(1&e&&(n.qex(0),n.DNE(1,tt,2,1,"td",1),n.bVm()),2&e){const t=a.$implicit;n.R7$(),n.Y8G("ngIf",t.show)}}function ot(e,a){if(1&e&&(n.qex(0),n.DNE(1,et,2,1,"ng-container",8),n.bVm()),2&e){const t=n.XpG(3);n.R7$(),n.Y8G("ngForOf",t.CIBLE)}}function at(e,a){if(1&e&&(n.qex(0),n.DNE(1,ot,2,1,"ng-container",1),n.bVm()),2&e){const t=a.$implicit,o=n.XpG(2);n.R7$(),n.Y8G("ngIf",o.isIncludeMonth(t))}}function it(e,a){if(1&e&&(n.j41(0,"th",10),n.EFF(1),n.k0s()),2&e){const t=n.XpG().$implicit,o=n.XpG(2);n.Y8G("colSpan",o.cibleCheckedLength),n.R7$(),n.Lme(" ",t.label," ",o.year," ")}}function _t(e,a){if(1&e&&(n.qex(0),n.DNE(1,it,2,3,"th",15),n.bVm()),2&e){const t=a.$implicit,o=n.XpG(2);n.R7$(),n.Y8G("ngIf",o.isIncludeMonth(t.key))}}function ct(e,a){if(1&e&&(n.j41(0,"th",11),n.EFF(1),n.k0s()),2&e){const t=n.XpG().$implicit;n.R7$(),n.JRh(t.name)}}function st(e,a){if(1&e&&(n.qex(0),n.DNE(1,ct,2,1,"th",16),n.bVm()),2&e){const t=a.$implicit;n.R7$(),n.Y8G("ngIf",t.show)}}function rt(e,a){if(1&e&&(n.qex(0),n.DNE(1,st,2,1,"ng-container",8),n.bVm()),2&e){const t=n.XpG(3);n.R7$(),n.Y8G("ngForOf",t.CIBLE)}}function lt(e,a){if(1&e&&(n.qex(0),n.DNE(1,rt,2,1,"ng-container",1),n.bVm()),2&e){const t=a.$implicit,o=n.XpG(2);n.R7$(),n.Y8G("ngIf",o.isIncludeMonth(t.key))}}function pt(e,a){if(1&e&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&e){const t=n.XpG(2),i=t.index;n.BMQ("rowspan",t.$implicit.recos.length),n.R7$(),n.JRh(i+1)}}function dt(e,a){if(1&e&&(n.j41(0,"td"),n.EFF(1),n.nrm(2,"br"),n.j41(3,"strong"),n.EFF(4),n.k0s()()),2&e){const t=n.XpG(2).$implicit;n.BMQ("rowspan",t.recos.length),n.R7$(),n.SpI(" ",t.name," "),n.R7$(3),n.SpI("[ ",t.district_quartier.name," ]")}}function gt(e,a){if(1&e&&(n.j41(0,"td",19),n.EFF(1),n.k0s()),2&e){const t=n.XpG().$implicit,o=n.XpG(2).$implicit,i=n.XpG().$implicit;n.R7$(),n.JRh(i[o][t.key]?"\u2714\ufe0f":"\u274c")}}function mt(e,a){if(1&e&&(n.qex(0),n.DNE(1,gt,2,1,"td",18),n.bVm()),2&e){const t=a.$implicit;n.R7$(),n.Y8G("ngIf",t.show)}}function ht(e,a){if(1&e&&(n.qex(0),n.DNE(1,mt,2,1,"ng-container",8),n.bVm()),2&e){const t=n.XpG(5);n.R7$(),n.Y8G("ngForOf",t.CIBLE)}}function ft(e,a){if(1&e&&(n.qex(0),n.DNE(1,ht,2,1,"ng-container",1),n.bVm()),2&e){const t=a.$implicit,o=n.XpG(4);n.R7$(),n.Y8G("ngIf",o.isIncludeMonth(t))}}function ut(e,a){if(1&e&&(n.qex(0),n.j41(1,"tr"),n.DNE(2,pt,2,2,"td",1)(3,dt,5,3,"td",1),n.j41(4,"th",17),n.EFF(5),n.k0s(),n.j41(6,"td"),n.EFF(7),n.k0s(),n.j41(8,"td"),n.EFF(9),n.k0s(),n.j41(10,"td"),n.EFF(11),n.k0s(),n.j41(12,"td"),n.EFF(13),n.k0s(),n.DNE(14,ft,2,1,"ng-container",8),n.k0s(),n.bVm()),2&e){const t=a.$implicit,o=a.index,i=n.XpG().index,_=n.XpG(2);n.R7$(2),n.Y8G("ngIf",0===o),n.R7$(),n.Y8G("ngIf",0===o),n.R7$(2),n.JRh(_.getRecoIndex(i,o)),n.R7$(2),n.JRh(o+1),n.R7$(2),n.JRh(t.name),n.R7$(2),n.JRh(t.phone),n.R7$(2),n.JRh(t.village_secteur.name),n.R7$(),n.Y8G("ngForOf",_.monthKeys)}}function Rt(e,a){if(1&e&&(n.qex(0),n.DNE(1,ut,15,8,"ng-container",8),n.bVm()),2&e){const t=a.$implicit;n.R7$(),n.Y8G("ngForOf",t.recos)}}function Et(e,a){if(1&e){const t=n.RV6();n.qex(0),n.j41(1,"h2"),n.EFF(2,"\u{1f4c8} STATUS RECOS ACTIVES"),n.k0s(),n.nrm(3,"br")(4,"dashboards-header-selector",2),n.j41(5,"div",3)(6,"table",4)(7,"thead")(8,"tr",5)(9,"td",6),n.DNE(10,nt,4,2,"div",7),n.k0s(),n.j41(11,"td",6),n.EFF(12," TOTAL "),n.k0s(),n.DNE(13,at,2,1,"ng-container",8),n.k0s(),n.j41(14,"tr",9)(15,"th",10),n.EFF(16,"INFOS ASC"),n.k0s(),n.j41(17,"th",10),n.EFF(18,"INFOS RECO"),n.k0s(),n.DNE(19,_t,2,1,"ng-container",8),n.k0s(),n.j41(20,"tr",9)(21,"th",11),n.EFF(22,"N\xb0"),n.k0s(),n.j41(23,"th",11),n.EFF(24,"Nom & District"),n.k0s(),n.j41(25,"th",11),n.EFF(26,"N\xb0G"),n.k0s(),n.j41(27,"th",11),n.EFF(28,"N\xb0"),n.k0s(),n.j41(29,"th",11),n.EFF(30,"Nom"),n.k0s(),n.j41(31,"th",11),n.EFF(32,"T\xe9l\xe9phone"),n.k0s(),n.j41(33,"th",11),n.EFF(34,"Village"),n.k0s(),n.DNE(35,lt,2,1,"ng-container",8),n.k0s()(),n.j41(36,"tbody"),n.DNE(37,Rt,2,1,"ng-container",8),n.k0s()()(),n.j41(38,"dashboards-pagination-table",12),n.bIt("onPageChanged",function(i){n.eBV(t);const _=n.XpG();return n.Njj(_.onUpdatedPaginate(i))}),n.k0s(),n.bVm()}if(2&e){const t=n.XpG();n.R7$(4),n.Y8G("id","active-reco-table-header")("REPPORT_NAME",t.DASHBOARD_NAME)("CHANGE_STATE",t.CHANGE_STATE)("TABLE_ID","active-recos-table")("SHOW_EXPORT_TABLE_BTN",!0),n.R7$(5),n.Y8G("colSpan",6),n.R7$(),n.Y8G("ngForOf",t.CIBLE),n.R7$(),n.Y8G("colSpan",1),n.R7$(2),n.Y8G("ngForOf",t.monthKeys),n.R7$(2),n.Y8G("colSpan",2),n.R7$(2),n.Y8G("colSpan",5),n.R7$(2),n.Y8G("ngForOf",t.monthNames),n.R7$(16),n.Y8G("ngForOf",t.monthNames),n.R7$(2),n.Y8G("ngForOf",t.PAGINATION_DATA),n.R7$(),n.Y8G("id","pagination-active-recos")("PAGINATION_DATA",t.DATA_FETCHED.record)}}function bt(e,a){1&e&&(n.qex(0),n.j41(1,"h1",20),n.EFF(2," Pas de donn\xe9es, appliquer le filtre ! "),n.k0s(),n.bVm())}let Tt=(()=>{class e extends A{onCheckboxChange(t,o){const i=t.target;i&&(this.CIBLE[o].show=i.checked)}get cibleCheckedLength(){return this.CIBLE.filter(t=>t.show).length}constructor(t,o,i,_,s){super(o,i,_,s,(c,l)=>{this.year=Number(c.year);const R=(0,b.Ej)(),k=this.year<(0,b.vW)(),O=(0,b.kT)().filter(m=>!!k||R&&m.uid<=R.uid);return this.wantedMonth=O.map(m=>m.short),(0,D.H)(this.ldbfetch.GetActiveRecoDashboard(c,l))}),this.ldbfetch=t,this.DASHBOARD_NAME="ACTIVE_RECOS",this.year=0,this.wantedMonth=[],this.CIBLE=[{key:"fonctionnal",name:"Fonctionnel",show:!0},{key:"supervised",name:"Supervis\xe9",show:!1},{key:"cover",name:"Couvert",show:!1}],this.PAGINATION_DATA=[],this.monthNames=[{key:"jan",label:"JANVIER"},{key:"fev",label:"F\xc9VRIER"},{key:"mar",label:"MARS"},{key:"avr",label:"AVRIL"},{key:"mai",label:"MAI"},{key:"jui",label:"JUIN"},{key:"jul",label:"JUILLET"},{key:"aou",label:"AO\xdbT"},{key:"sep",label:"SEPTEMBRE"},{key:"oct",label:"OCTOBRE"},{key:"nov",label:"NOVEMBRE"},{key:"dec",label:"D\xc9CEMBRE"}],this.monthKeys=this.monthNames.map(c=>c.key)}isIncludeMonth(t){return this.wantedMonth.includes(t)}getRecoIndex(t,o){let i=0;for(let _=0;_<t;_++)i+=this.PAGINATION_DATA[_].recos.length;return i+o+1}onUpdatedPaginate(t){this.PAGINATION_DATA=t}get DATA_FETCHED(){return this.DASHBOARDS_DATA[this.DASHBOARD_NAME]?.data??[]}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(C.F),n.rXU(f.z),n.rXU(T.T),n.rXU(u.z),n.rXU(h.i))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["reco-active-dashboard"]],standalone:!1,features:[n.Vt3],decls:3,vars:3,consts:[[3,"isLoading"],[4,"ngIf"],[3,"id","REPPORT_NAME","CHANGE_STATE","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],[1,"table-responsive"],["id","active-recos-table",1,"table","table-bordered","table-hover"],[1,"total-head"],[3,"colSpan"],["class","checkbox-row",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"table-head","fp-header-1"],["scope","col",3,"colSpan"],["scope","col",1,"small-head"],[3,"onPageChanged","id","PAGINATION_DATA"],[1,"checkbox-row"],["type","checkbox",3,"change","checked"],["scope","col",3,"colSpan",4,"ngIf"],["class","small-head","scope","col",4,"ngIf"],[2,"background","none","color","black"],["style","font-size: 14px;",4,"ngIf"],[2,"font-size","14px"],[2,"margin-top","150px","width","100%","text-align","center","color","brown"]],template:function(o,i){1&o&&(n.nrm(0,"app-sample-loader",0),n.DNE(1,Et,39,16,"ng-container",1)(2,bt,3,0,"ng-container",1)),2&o&&(n.Y8G("isLoading",i.IS_FILTER_LOADING),n.R7$(),n.Y8G("ngIf",i.DATA_FETCHED&&i.DATA_FETCHED.record&&i.DATA_FETCHED.record.length>0&&i.wantedMonth.length>0),n.R7$(),n.Y8G("ngIf",!i.DATA_FETCHED||!i.DATA_FETCHED.record||0==i.DATA_FETCHED.record.length))},dependencies:[p.G,p.I,S,N],styles:["th[_ngcontent-%COMP%]{text-transform:capitalize!important}tr.total-head[_ngcontent-%COMP%]{background-color:#07004a}tr.total-head[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#fff;text-align:center;font-weight:700;font-size:22px}.checkbox-row[_ngcontent-%COMP%]{display:inline-block;margin-right:25px}.checkbox-row[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:6px;width:18px;height:18px;cursor:pointer}"]})}}return e})(),Dt=(()=>{class e{constructor(){this.CHANGE_STATE=null,(0,b.Ey)()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["dashboards-monthly-view"]],standalone:!1,decls:15,vars:4,consts:[[3,"CHANGE_STATE"],[1,"nav-tabs"],["data-target","PERFORMANCES",1,"tab-link","active"],["data-target","TASKS_STATE",1,"tab-link"],["data-target","ACTIVE_RECO",1,"tab-link"],[1,"tab-content"],["id","PERFORMANCES",1,"view","active"],["id","TASKS_STATE",1,"view"],["id","ACTIVE_RECO",1,"view"]],template:function(o,i){1&o&&(n.nrm(0,"dashboards-orgunits-filter",0),n.j41(1,"div",1)(2,"button",2),n.EFF(3,"PERFORMANCES DES RECOS"),n.k0s(),n.j41(4,"button",3),n.EFF(5,"RECOS T\xc2CHES NON REALISEES"),n.k0s(),n.j41(6,"button",4),n.EFF(7,"STATUS RECOS ACTIVES"),n.k0s()(),n.j41(8,"div",5)(9,"div",6),n.nrm(10,"reco-performance-dashboard",0),n.k0s(),n.j41(11,"div",7),n.nrm(12,"reco-tasks-state-dashboard",0),n.k0s(),n.j41(13,"div",8),n.nrm(14,"reco-active-dashboard",0),n.k0s()()),2&o&&(n.Y8G("CHANGE_STATE",i.CHANGE_STATE),n.R7$(10),n.Y8G("CHANGE_STATE",i.CHANGE_STATE),n.R7$(2),n.Y8G("CHANGE_STATE",i.CHANGE_STATE),n.R7$(2),n.Y8G("CHANGE_STATE",i.CHANGE_STATE))},dependencies:[Tn,vn,Zn,Tt],styles:["@media (max-width: 991px){*[_ngcontent-%COMP%]{font-size:13px!important}}"]})}}return e})();function At(e,a){1&e&&n.nrm(0,"span",14)}function Ct(e,a){1&e&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&e&&(n.R7$(),n.JRh("Rapport d\xe9ja valid\xe9"))}function Ft(e,a){if(1&e&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&e){const t=n.XpG(3);n.R7$(),n.SpI(" ",t.IS_ALL_REPPORTS_VALIDATED?"Annuler toute validation":"Valider tous les rapport"," ")}}function It(e,a){1&e&&n.nrm(0,"span",14)}function Gt(e,a){if(1&e){const t=n.RV6();n.j41(0,"button",15),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.IS_ALL_REPPORTS_VALIDATED?_.CancelAllValidation(i):_.ValidateAllReports(i))}),n.DNE(1,Ct,2,1,"span",0)(2,Ft,2,1,"span",0)(3,It,1,0,"span",3),n.k0s()}if(2&e){const t=n.XpG(2);n.ZvI("submitBtn btn ",t.IS_ALL_REPPORTS_VALIDATED?"btn-info":"btn-warning",""),n.Y8G("disabled",t.ON_ALL_VALIDATION||t.ON_ALL_CANCEL_VALIDATION||t.ON_ALL_DHIS2_SENDING||t.IS_ALL_ON_DHIS2),n.R7$(),n.Y8G("ngIf",t.ON_ALL_DHIS2_SENDING||t.IS_ALL_ON_DHIS2),n.R7$(),n.Y8G("ngIf",!(t.ON_ALL_DHIS2_SENDING||t.IS_ALL_ON_DHIS2)),n.R7$(),n.Y8G("ngIf",t.ON_ALL_VALIDATION||t.ON_ALL_CANCEL_VALIDATION)}}function St(e,a){1&e&&n.nrm(0,"span",14)}function Nt(e,a){if(1&e){const t=n.RV6();n.j41(0,"button",16),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.openAllSendReportsToDhis2Modal(i))}),n.EFF(1),n.DNE(2,St,1,0,"span",3),n.k0s()}if(2&e){const t=n.XpG(2);n.Y8G("disabled",t.ON_ALL_DHIS2_SENDING||t.IS_ALL_ON_DHIS2),n.R7$(),n.SpI(" ",t.IS_ALL_ON_DHIS2?"D\xe9ja envoy\xe9 au DHIS2":"Tout Envoyer Au DHIS2"," "),n.R7$(),n.Y8G("ngIf",t.ON_ALL_DHIS2_SENDING)}}function kt(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function $t(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",18),n.EFF(2),n.j41(3,"input",19),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("country",i))}),n.k0s()(),n.j41(4,"select",20),n.bIt("change",function(){n.eBV(t);const i=n.XpG(2);return n.Njj(i.regionsGenerate())}),n.DNE(5,kt,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" Pays :(",t.selectedLength("country"),") "),n.R7$(),n.Y8G("checked",t.isChecked("country")),n.R7$(),n.FS9("multiple",t.countries.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.countries)}}function vt(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function Ot(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",23),n.EFF(2),n.j41(3,"input",24),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("region",i))}),n.k0s()(),n.j41(4,"select",25),n.bIt("change",function(){n.eBV(t);const i=n.XpG(2);return n.Njj(i.prefecturesGenerate())}),n.DNE(5,vt,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" R\xe9gions :(",t.selectedLength("region"),") "),n.R7$(),n.Y8G("checked",t.isChecked("region")),n.R7$(),n.FS9("multiple",t.regions.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.regions)}}function jt(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function Vt(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",26),n.EFF(2),n.j41(3,"input",27),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("prefecture",i))}),n.k0s()(),n.j41(4,"select",28),n.bIt("change",function(){n.eBV(t);const i=n.XpG(2);return n.Njj(i.communesGenerate())}),n.DNE(5,jt,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" Pr\xe9fectures :(",t.selectedLength("prefecture"),") "),n.R7$(),n.Y8G("checked",t.isChecked("prefecture")),n.R7$(),n.FS9("multiple",t.prefectures.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.prefectures)}}function xt(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function Mt(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",29),n.EFF(2),n.j41(3,"input",30),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("commune",i))}),n.k0s()(),n.j41(4,"select",31),n.bIt("change",function(){n.eBV(t);const i=n.XpG(2);return n.Njj(i.hospitalsGenerate())}),n.DNE(5,xt,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" Communes :(",t.selectedLength("commune"),") "),n.R7$(),n.Y8G("checked",t.isChecked("commune")),n.R7$(),n.FS9("multiple",t.communes.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.communes)}}function Pt(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function Ht(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",32),n.EFF(2),n.j41(3,"input",33),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("hospital",i))}),n.k0s()(),n.j41(4,"select",34),n.bIt("change",function(){n.eBV(t);const i=n.XpG(2);return n.Njj(i.districtsGenerate())}),n.DNE(5,Pt,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" Centre de sant\xe9 :(",t.selectedLength("hospital"),") "),n.R7$(),n.Y8G("checked",t.isChecked("hospital")),n.R7$(),n.FS9("multiple",t.hospitals.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.hospitals)}}function yt(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function Yt(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",35),n.EFF(2),n.j41(3,"input",36),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("district_quartier",i))}),n.k0s()(),n.j41(4,"select",37),n.bIt("change",function(){n.eBV(t);const i=n.XpG(2);return n.Njj(i.recosGenerate())}),n.DNE(5,yt,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" Districts/Quartiers :(",t.selectedLength("district_quartier"),") "),n.R7$(),n.Y8G("checked",t.isChecked("district_quartier")),n.R7$(),n.FS9("multiple",t.districtQuartiers.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.districtQuartiers)}}function Bt(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.name," ")}}function Lt(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17)(1,"label",38),n.EFF(2),n.j41(3,"input",39),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.selectAll("recos",i))}),n.k0s()(),n.j41(4,"select",40),n.DNE(5,Bt,2,2,"option",21),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(2),n.SpI(" Recos :(",t.selectedLength("recos"),") "),n.R7$(),n.Y8G("checked",t.isChecked("recos")),n.R7$(),n.FS9("multiple",t.recos.length>0?"multiple":""),n.R7$(),n.Y8G("ngForOf",t.recos)}}function wt(e,a){1&e&&(n.j41(0,"label",43),n.EFF(1," Ann\xe9es : "),n.k0s())}function Ut(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t),n.R7$(),n.SpI(" ",t," ")}}function Xt(e,a){if(1&e&&(n.qex(0),n.DNE(1,Ut,2,2,"option",21),n.bVm()),2&e){const t=n.XpG(3);n.R7$(),n.Y8G("ngForOf",t.Years$)}}function Jt(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",17),n.DNE(1,wt,2,0,"label",41),n.j41(2,"select",42),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.initMonths(i))}),n.DNE(3,Xt,2,1,"ng-container",0),n.k0s()()}if(2&e){const t=n.XpG(2);n.R7$(),n.Y8G("ngIf",t.Years$.length>0),n.R7$(2),n.Y8G("ngIf",t.Years$.length>0)}}function Qt(e,a){if(1&e){const t=n.RV6();n.qex(0),n.EFF(1),n.j41(2,"input",47),n.bIt("change",function(i){n.eBV(t);const _=n.XpG(4);return n.Njj(_.selectAll("months",i))}),n.k0s(),n.bVm()}if(2&e){const t=n.XpG(4);n.R7$(),n.SpI(" (",t.selectedLength("months"),") "),n.R7$(),n.Y8G("checked",t.isChecked("months"))}}function zt(e,a){if(1&e&&(n.j41(0,"label",46),n.EFF(1," Mois : "),n.DNE(2,Qt,3,2,"ng-container",0),n.k0s()),2&e){const t=n.XpG(3);n.R7$(2),n.Y8G("ngIf",t.showMultipleSelectionMonth)}}function qt(e,a){if(1&e&&(n.j41(0,"option",22),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.Y8G("value",t.id),n.R7$(),n.SpI(" ",t.labelFR," ")}}function Wt(e,a){if(1&e&&(n.qex(0),n.DNE(1,qt,2,2,"option",21),n.bVm()),2&e){const t=n.XpG(3);n.R7$(),n.Y8G("ngForOf",t.Months$)}}function Kt(e,a){if(1&e&&(n.j41(0,"div",17),n.DNE(1,zt,3,1,"label",44),n.j41(2,"select",45),n.DNE(3,Wt,2,1,"ng-container",0),n.k0s()()),2&e){const t=n.XpG(2);n.R7$(),n.Y8G("ngIf",t.Months$.length>0),n.R7$(),n.FS9("multiple",t.Months$.length>0&&t.showMultipleSelectionMonth?"multiple":""),n.R7$(),n.Y8G("ngIf",t.Months$.length>0)}}function Zt(e,a){1&e&&n.nrm(0,"span",14)}function ne(e,a){if(1&e){const t=n.RV6();n.qex(0),n.j41(1,"div",1)(2,"button",2),n.EFF(3," \u{1f50d} Filtrer "),n.DNE(4,At,1,0,"span",3),n.k0s(),n.DNE(5,Gt,4,7,"button",4)(6,Nt,3,3,"button",5),n.k0s(),n.nrm(7,"div",6),n.j41(8,"div",7)(9,"div",8)(10,"span",9),n.EFF(11,"\xd7"),n.k0s(),n.j41(12,"h2"),n.EFF(13,"\u{1f50d} Filtrer les donn\xe9es"),n.k0s()(),n.j41(14,"div",10)(15,"form",11),n.bIt("ngSubmit",function(i){n.eBV(t);const _=n.XpG();return n.Njj(_.START_ORGUNIT_FILTER(i))}),n.DNE(16,$t,6,4,"div",12)(17,Ot,6,4,"div",12)(18,Vt,6,4,"div",12)(19,Mt,6,4,"div",12)(20,Ht,6,4,"div",12)(21,Yt,6,4,"div",12)(22,Lt,6,4,"div",12)(23,Jt,4,2,"div",12)(24,Kt,4,3,"div",12),n.j41(25,"button",13),n.EFF(26," Appliquer le filtre "),n.DNE(27,Zt,1,0,"span",3),n.k0s()()()(),n.bVm()}if(2&e){const t=n.XpG();n.R7$(2),n.Y8G("disabled",t.ON_ALL_FETCHING||t.ON_ALL_VALIDATION||t.ON_ALL_CANCEL_VALIDATION||t.ON_ALL_DHIS2_SENDING),n.R7$(2),n.Y8G("ngIf",t.ON_ALL_FETCHING),n.R7$(),n.Y8G("ngIf",t.CAN_ALL_VALIDATE_REPORTS),n.R7$(),n.Y8G("ngIf",t.CAN_ALL_VALIDATE_REPORTS&&t.CAN_SEND_TO_DHIS2),n.R7$(9),n.Y8G("formGroup",t.form),n.R7$(),n.Y8G("ngIf",t.Countries$.length>1&&0===t.countries.length||t.countries.length>1),n.R7$(),n.Y8G("ngIf",t.Regions$.length>1&&0===t.regions.length||t.regions.length>1),n.R7$(),n.Y8G("ngIf",t.Prefectures$.length>1&&0===t.prefectures.length||t.prefectures.length>1),n.R7$(),n.Y8G("ngIf",t.Communes$.length>1&&0===t.communes.length||t.communes.length>1),n.R7$(),n.Y8G("ngIf",t.Hospitals$.length>1&&0===t.hospitals.length||t.hospitals.length>1),n.R7$(),n.Y8G("ngIf",t.DistrictQuartiers$.length>1&&0===t.districtQuartiers.length||t.districtQuartiers.length>1),n.R7$(),n.Y8G("ngIf",t.Recos$.length>1&&0===t.recos.length||t.recos.length>1),n.R7$(),n.Y8G("ngIf",t.showYearsSelection),n.R7$(),n.Y8G("ngIf",t.showMonthsSelection),n.R7$(),n.Y8G("disabled",t.ON_ALL_FETCHING||!t.form.valid),n.R7$(2),n.Y8G("ngIf",t.ON_ALL_FETCHING)}}let te=(()=>{class e extends H.m{constructor(t,o,i,_){super(t,o,i,_),this.showMultipleSelectionMonth=!1,this.showMonthsSelection=!1,this.showYearsSelection=!1}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(h.i),n.rXU(f.z),n.rXU(F.B),n.rXU(u.z))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["dashboards-orgunits-realtime-filter"]],standalone:!1,features:[n.Vt3],decls:1,vars:1,consts:[[4,"ngIf"],[1,"orgunit-filter"],[1,"open-modal-button",2,"width","auto",3,"disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],["style","width: auto!important;",3,"disabled","class","click",4,"ngIf"],["style","width: auto;","class","btn btn-warning",3,"disabled","click",4,"ngIf"],["id","overlay",1,"overlay"],["id","modal-container",1,"modal"],[1,"modal-container-header"],[1,"close"],[1,"modal-container-content"],["id","filterForm","novalidate","",3,"ngSubmit","formGroup"],["class","form-group",4,"ngIf"],["id","modal-validate",1,"btn","btn-primary","modal-validate",3,"disabled"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"],[2,"width","auto!important",3,"click","disabled"],[1,"btn","btn-warning",2,"width","auto",3,"click","disabled"],[1,"form-group"],["for","country"],["id","all-country","type","checkbox",3,"change","checked"],["id","country","formControlName","country",1,"form-control",3,"change","multiple"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","region"],["id","all-region","type","checkbox",3,"change","checked"],["id","region","formControlName","region",1,"form-control",3,"change","multiple"],["for","prefecture"],["id","all-prefecture","type","checkbox",3,"change","checked"],["id","prefecture","formControlName","prefecture",1,"form-control",3,"change","multiple"],["for","commune"],["id","all-commune","type","checkbox",3,"change","checked"],["id","commune","formControlName","commune",1,"form-control",3,"change","multiple"],["for","hospital"],["id","all-hospital","type","checkbox",3,"change","checked"],["id","hospital","formControlName","hospital",1,"form-control",3,"change","multiple"],["for","district_quartier"],["id","all-district_quartier","type","checkbox",3,"change","checked"],["id","district_quartier","formControlName","district_quartier",1,"form-control",3,"change","multiple"],["for","recos"],["id","all-recos","type","checkbox",3,"change","checked"],["id","recos","formControlName","recos",1,"form-control",3,"multiple"],["for","year",4,"ngIf"],["id","year","formControlName","year",1,"form-control",3,"change"],["for","year"],["for","months",4,"ngIf"],["id","months","formControlName","months",1,"form-control",3,"multiple"],["for","months"],["id","all-months","type","checkbox",3,"change","checked"]],template:function(o,i){1&o&&n.DNE(0,ne,28,16,"ng-container",0),2&o&&n.Y8G("ngIf",i.REPORTS_HEADER)},dependencies:[p.G,p.I,d.qT,d.xH,d.y7,d.wz,d.W0,d.BC,d.cb,d.j4,d.JD],styles:[".orgunit-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px}.open-modal-button[_ngcontent-%COMP%]{background-color:#fff;color:#042;padding:10px 15px;cursor:pointer;border:1px solid #004422;border-radius:5px;width:120px;font-weight:700}.open-modal-button[_ngcontent-%COMP%]:hover{background-color:#05a;color:#fff}.orgunit-style[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important;padding:0 2px 0 5px!important;border-radius:3px!important;width:130px!important}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#036}button[_ngcontent-%COMP%]{margin:0 10px}"]})}}return e})();var ee=r(6098);let V=(()=>{class e{constructor(t){this.sanitizer=t}transform(t,o){switch(o){case"html":default:return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t)}}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(ee.up,16))}}static{this.\u0275pipe=n.EJ8({name:"safeHtml",type:e,pure:!0,standalone:!1})}static{this.\u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function oe(e,a){if(1&e){const t=n.RV6();n.j41(0,"button",16),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.sendSms(i))}),n.EFF(1,"Envois Sms Multiple"),n.k0s()}}function ae(e,a){if(1&e){const t=n.RV6();n.j41(0,"button",16),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.sendCustomSms(i))}),n.EFF(1,"Envoi Sms Costomis\xe9 Multiple"),n.k0s()}}function ie(e,a){1&e&&(n.j41(0,"th",9),n.EFF(1,"Actions"),n.k0s()),2&e&&n.Y8G("colSpan",3)}function _e(e,a){1&e&&(n.j41(0,"th",11),n.EFF(1,"APPEL"),n.k0s())}function ce(e,a){1&e&&(n.j41(0,"th",17),n.EFF(1,"SMS"),n.k0s()),2&e&&n.Y8G("colSpan",2)}function se(e,a){if(1&e&&(n.j41(0,"a",22),n.nI1(1,"guineaPhone"),n.nrm(2,"i",23),n.k0s()),2&e){const t=n.XpG(3).$implicit;n.Y8G("href","tel:"+n.bMT(1,1,t.parent_phone),n.B4B)}}function re(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,se,3,3,"a",21),n.k0s()),2&e){const t=n.XpG(2).$implicit,o=n.XpG().$implicit;n.HbH(o.length>1?"many-child":""),n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function le(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",25),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(3).$implicit,s=n.XpG(3);return n.Njj(s.sendSms(i,{phone:_.parent_phone}))}),n.k0s()}}function pe(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,le,1,0,"i",24),n.k0s()),2&e){const t=n.XpG(2).$implicit,o=n.XpG().$implicit;n.HbH(o.length>1?"many-child":""),n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function de(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",27),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(3).$implicit,s=n.XpG(3);return n.Njj(s.sendCustomSms(i,{vaccine:_}))}),n.k0s()}}function ge(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,de,1,0,"i",26),n.k0s()),2&e){const t=n.XpG(2).$implicit,o=n.XpG().$implicit;n.HbH(o.length>1?"many-child":""),n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function me(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function he(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function fe(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function ue(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Re(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ee(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function be(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Te(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function De(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ae(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ce(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Fe(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ie(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ge(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Se(e,a){if(1&e&&(n.qex(0),n.j41(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s(),n.j41(7,"td"),n.EFF(8),n.k0s(),n.j41(9,"td"),n.EFF(10),n.k0s(),n.j41(11,"td"),n.EFF(12),n.k0s(),n.j41(13,"td"),n.EFF(14),n.k0s(),n.DNE(15,re,2,4,"td",19)(16,pe,2,4,"td",19)(17,ge,2,4,"td",19),n.j41(18,"td"),n.DNE(19,me,2,4,"span",20),n.k0s(),n.j41(20,"td"),n.DNE(21,he,2,4,"span",20),n.k0s(),n.j41(22,"td"),n.DNE(23,fe,2,4,"span",20),n.k0s(),n.j41(24,"td"),n.DNE(25,ue,2,4,"span",20),n.k0s(),n.j41(26,"td"),n.DNE(27,Re,2,4,"span",20),n.k0s(),n.j41(28,"td"),n.DNE(29,Ee,2,4,"span",20),n.k0s(),n.j41(30,"td"),n.DNE(31,be,2,4,"span",20),n.k0s(),n.j41(32,"td"),n.DNE(33,Te,2,4,"span",20),n.k0s(),n.j41(34,"td"),n.DNE(35,De,2,4,"span",20),n.k0s(),n.j41(36,"td"),n.DNE(37,Ae,2,4,"span",20),n.k0s(),n.j41(38,"td"),n.DNE(39,Ce,2,4,"span",20),n.k0s(),n.j41(40,"td"),n.DNE(41,Fe,2,4,"span",20),n.k0s(),n.j41(42,"td"),n.DNE(43,Ie,2,4,"span",20),n.k0s(),n.j41(44,"td"),n.DNE(45,Ge,2,4,"span",20),n.k0s(),n.bVm()),2&e){const t=n.XpG().$implicit,o=n.XpG().$implicit,i=n.XpG(2);n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.child_name),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.child_sex),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.child_age_str),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.child_code),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.reco_phone),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.parent_phone),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.neighbor_phone),n.R7$(),n.Y8G("ngIf",i.showOneByOneCallAndSmsButton&&1==(null==i.USER||null==i.USER.role?null:i.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",i.showOneByOneCallAndSmsButton&&1==(null==i.USER||null==i.USER.role?null:i.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",i.showOneByOneCallAndSmsButton&&1==(null==i.USER||null==i.USER.role?null:i.USER.role.canSendSms)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_BCG_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_BCG,t.child_age_in_days,0)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPO_0_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPO_0,t.child_age_in_days,0)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_PENTA_1_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_PENTA_1,t.child_age_in_days,42)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPO_1_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPO_1,t.child_age_in_days,42)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_PENTA_2_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_PENTA_2,t.child_age_in_days,70)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPO_2_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPO_2,t.child_age_in_days,70)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_PENTA_3_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_PENTA_3,t.child_age_in_days,98)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPO_3_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPO_3,t.child_age_in_days,98)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPI_1_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPI_1,t.child_age_in_days,98)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VAR_1_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VAR_1,t.child_age_in_months,9)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VAA_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VAA,t.child_age_in_months,9)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPI_2_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPI_2,t.child_age_in_months,9)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_MEN_A_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_MEN_A,t.child_age_in_months,15)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VAR_2_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VAR_2,t.child_age_in_months,15))}}function Ne(e,a){if(1&e&&(n.qex(0),n.DNE(1,Se,46,101,"ng-container",1),n.bVm()),2&e){const t=a.index;n.R7$(),n.Y8G("ngIf",0===t)}}function ke(e,a){if(1&e&&(n.j41(0,"a",22),n.nI1(1,"guineaPhone"),n.nrm(2,"i",23),n.k0s()),2&e){const t=n.XpG(3).$implicit;n.Y8G("href","tel:"+n.bMT(1,1,t.parent_phone),n.B4B)}}function $e(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,ke,3,3,"a",21),n.k0s()),2&e){const t=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function ve(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",25),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(3).$implicit,s=n.XpG(3);return n.Njj(s.sendSms(i,{phone:_.parent_phone}))}),n.k0s()}}function Oe(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,ve,1,0,"i",24),n.k0s()),2&e){const t=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function je(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",27),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(3).$implicit,s=n.XpG(3);return n.Njj(s.sendCustomSms(i,{vaccine:_}))}),n.k0s()}}function Ve(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,je,1,0,"i",26),n.k0s()),2&e){const t=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function xe(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Me(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Pe(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function He(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function ye(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ye(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Be(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Le(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function we(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ue(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Xe(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Je(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Qe(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function ze(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function qe(e,a){if(1&e&&(n.j41(0,"tr",30)(1,"td",31),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s(),n.j41(7,"td"),n.EFF(8),n.k0s(),n.j41(9,"td"),n.EFF(10),n.k0s(),n.j41(11,"td"),n.EFF(12),n.k0s(),n.j41(13,"td"),n.EFF(14),n.k0s(),n.DNE(15,$e,2,1,"td",1)(16,Oe,2,1,"td",1)(17,Ve,2,1,"td",1),n.j41(18,"td"),n.DNE(19,xe,2,4,"span",20),n.k0s(),n.j41(20,"td"),n.DNE(21,Me,2,4,"span",20),n.k0s(),n.j41(22,"td"),n.DNE(23,Pe,2,4,"span",20),n.k0s(),n.j41(24,"td"),n.DNE(25,He,2,4,"span",20),n.k0s(),n.j41(26,"td"),n.DNE(27,ye,2,4,"span",20),n.k0s(),n.j41(28,"td"),n.DNE(29,Ye,2,4,"span",20),n.k0s(),n.j41(30,"td"),n.DNE(31,Be,2,4,"span",20),n.k0s(),n.j41(32,"td"),n.DNE(33,Le,2,4,"span",20),n.k0s(),n.j41(34,"td"),n.DNE(35,we,2,4,"span",20),n.k0s(),n.j41(36,"td"),n.DNE(37,Ue,2,4,"span",20),n.k0s(),n.j41(38,"td"),n.DNE(39,Xe,2,4,"span",20),n.k0s(),n.j41(40,"td"),n.DNE(41,Je,2,4,"span",20),n.k0s(),n.j41(42,"td"),n.DNE(43,Qe,2,4,"span",20),n.k0s(),n.j41(44,"td"),n.DNE(45,ze,2,4,"span",20),n.k0s()()),2&e){const t=n.XpG().$implicit,o=n.XpG(3);n.R7$(2),n.JRh(t.child_name),n.R7$(2),n.JRh(t.child_sex),n.R7$(2),n.JRh(t.child_age_str),n.R7$(2),n.JRh(t.child_code),n.R7$(2),n.JRh(t.reco_phone),n.R7$(2),n.JRh(t.parent_phone),n.R7$(2),n.JRh(t.neighbor_phone),n.R7$(),n.Y8G("ngIf",o.showOneByOneCallAndSmsButton&&1==(null==o.USER||null==o.USER.role?null:o.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",o.showOneByOneCallAndSmsButton&&1==(null==o.USER||null==o.USER.role?null:o.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",o.showOneByOneCallAndSmsButton&&1==(null==o.USER||null==o.USER.role?null:o.USER.role.canSendSms)),n.R7$(),n.BMQ("data-tooltip",t.no_BCG_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_BCG,t.child_age_in_days,0)),n.R7$(),n.BMQ("data-tooltip",t.no_VPO_0_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPO_0,t.child_age_in_days,0)),n.R7$(),n.BMQ("data-tooltip",t.no_PENTA_1_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_PENTA_1,t.child_age_in_days,42)),n.R7$(),n.BMQ("data-tooltip",t.no_VPO_1_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPO_1,t.child_age_in_days,42)),n.R7$(),n.BMQ("data-tooltip",t.no_PENTA_2_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_PENTA_2,t.child_age_in_days,70)),n.R7$(),n.BMQ("data-tooltip",t.no_VPO_2_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPO_2,t.child_age_in_days,70)),n.R7$(),n.BMQ("data-tooltip",t.no_PENTA_3_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_PENTA_3,t.child_age_in_days,98)),n.R7$(),n.BMQ("data-tooltip",t.no_VPO_3_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPO_3,t.child_age_in_days,98)),n.R7$(),n.BMQ("data-tooltip",t.no_VPI_1_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPI_1,t.child_age_in_days,98)),n.R7$(),n.BMQ("data-tooltip",t.no_VAR_1_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VAR_1,t.child_age_in_months,9)),n.R7$(),n.BMQ("data-tooltip",t.no_VAA_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VAA,t.child_age_in_months,9)),n.R7$(),n.BMQ("data-tooltip",t.no_VPI_2_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPI_2,t.child_age_in_months,9)),n.R7$(),n.BMQ("data-tooltip",t.no_MEN_A_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_MEN_A,t.child_age_in_months,15)),n.R7$(),n.BMQ("data-tooltip",t.no_VAR_2_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VAR_2,t.child_age_in_months,15))}}function We(e,a){if(1&e&&(n.qex(0),n.DNE(1,qe,46,38,"tr",29),n.bVm()),2&e){const t=a.index;n.R7$(),n.Y8G("ngIf",0!==t)}}function Ke(e,a){if(1&e&&(n.qex(0),n.j41(1,"tr")(2,"td",18),n.EFF(3),n.k0s(),n.j41(4,"td"),n.EFF(5),n.k0s(),n.DNE(6,Ne,2,1,"ng-container",14),n.k0s(),n.DNE(7,We,2,1,"ng-container",14),n.bVm()),2&e){const t=a.$implicit;n.R7$(2),n.HbH(t.length>1?"many-child":""),n.BMQ("rowspan",t.length),n.R7$(),n.JRh(t[0].family_code),n.R7$(),n.HbH(t.length>1?"many-child":""),n.BMQ("rowspan",t.length),n.R7$(),n.JRh(t[0].family_name),n.R7$(),n.Y8G("ngForOf",t),n.R7$(),n.Y8G("ngForOf",t)}}function Ze(e,a){if(1&e){const t=n.RV6();n.qex(0),n.j41(1,"h2"),n.EFF(2,"\u{1f4c8} LIST DES MOINS DE 5 ANS AVEC VACCINS NON A JOUR"),n.k0s(),n.nrm(3,"br")(4,"dashboards-header-selector",2),n.DNE(5,oe,2,0,"button",3)(6,ae,2,0,"button",3),n.j41(7,"div",4)(8,"table",5)(9,"thead")(10,"tr",6)(11,"th",7),n.EFF(12,"N\xb0"),n.k0s(),n.j41(13,"th",8),n.EFF(14,"M\xe9nage"),n.k0s(),n.j41(15,"th",8),n.EFF(16,"Nom"),n.k0s(),n.j41(17,"th",8),n.EFF(18,"Sexe"),n.k0s(),n.j41(19,"th",8),n.EFF(20,"Age"),n.k0s(),n.j41(21,"th",8),n.EFF(22,"Code"),n.k0s(),n.j41(23,"th",9),n.EFF(24,"T\xe9l\xe9phone"),n.k0s(),n.DNE(25,ie,2,1,"th",10),n.j41(26,"th",9),n.EFF(27,"Naissance"),n.k0s(),n.j41(28,"th",9),n.EFF(29,"6 semaines"),n.k0s(),n.j41(30,"th",9),n.EFF(31,"10 semaines"),n.k0s(),n.j41(32,"th",9),n.EFF(33,"14 semaines"),n.k0s(),n.j41(34,"th",9),n.EFF(35,"9 mois"),n.k0s(),n.j41(36,"th",9),n.EFF(37,"15 mois"),n.k0s()(),n.j41(38,"tr",6)(39,"th",11),n.EFF(40,"RECO"),n.k0s(),n.j41(41,"th",11),n.EFF(42,"Parent"),n.k0s(),n.j41(43,"th",11),n.EFF(44,"Voisin"),n.k0s(),n.DNE(45,_e,2,0,"th",12)(46,ce,2,1,"th",13),n.j41(47,"th",11),n.EFF(48,"BCG"),n.k0s(),n.j41(49,"th",11),n.EFF(50,"VPO_0"),n.k0s(),n.j41(51,"th",11),n.EFF(52,"PENTA_1"),n.k0s(),n.j41(53,"th",11),n.EFF(54,"VPO_1"),n.k0s(),n.j41(55,"th",11),n.EFF(56,"PENTA_2"),n.k0s(),n.j41(57,"th",11),n.EFF(58,"VPO_2"),n.k0s(),n.j41(59,"th",11),n.EFF(60,"PENTA_3"),n.k0s(),n.j41(61,"th",11),n.EFF(62,"VPO_3"),n.k0s(),n.j41(63,"th",11),n.EFF(64,"VPI_1"),n.k0s(),n.j41(65,"th",11),n.EFF(66,"VAR_1"),n.k0s(),n.j41(67,"th",11),n.EFF(68,"VAA"),n.k0s(),n.j41(69,"th",11),n.EFF(70,"VPI_2"),n.k0s(),n.j41(71,"th",11),n.EFF(72,"MEN_A"),n.k0s(),n.j41(73,"th",11),n.EFF(74,"VAR_2"),n.k0s()()(),n.j41(75,"tbody"),n.DNE(76,Ke,8,10,"ng-container",14),n.k0s()()(),n.j41(77,"dashboards-pagination-table",15),n.bIt("onPageChanged",function(i){n.eBV(t);const _=n.XpG();return n.Njj(_.onUpdatedPaginate(i))}),n.k0s(),n.bVm()}if(2&e){const t=n.XpG();n.R7$(4),n.Y8G("id","vaccination-table-header")("REPPORT_NAME",t.DASHBOARD_NAME)("CHANGE_STATE",t.CHANGE_STATE)("TABLE_ID","vaccination-table")("SHOW_EXPORT_TABLE_BTN",!0),n.R7$(),n.Y8G("ngIf",t.showGeneralCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",t.showGeneralCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(5),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("ngIf",t.showOneByOneCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(),n.Y8G("colSpan",2),n.R7$(2),n.Y8G("colSpan",2),n.R7$(2),n.Y8G("colSpan",2),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("colSpan",2),n.R7$(9),n.Y8G("ngIf",t.showOneByOneCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",t.showOneByOneCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(30),n.Y8G("ngForOf",t.PAGINATION_DATA),n.R7$(),n.Y8G("id","pagination-vaccination")("PAGINATION_DATA",t.DATA_FETCHED)}}function no(e,a){1&e&&(n.qex(0),n.j41(1,"h1",32),n.EFF(2," Pas de donn\xe9es, appliquer le filtre ! "),n.k0s(),n.bVm())}let to=(()=>{class e extends A{constructor(t,o,i,_,s){super(o,i,_,s,(c,l)=>(console.log(c),(0,D.H)(this.ldbfetch.GetRecoVaccinationPartialDoneDashboard(c,l)))),this.ldbfetch=t,this.DASHBOARD_NAME="RECOS_VACCINES_PARTIAL_DONE",this.PAGINATION_DATA=[]}onUpdatedPaginate(t){this.PAGINATION_DATA=t}get DATA_FETCHED(){return this.DASHBOARDS_DATA[this.DASHBOARD_NAME]?.data??[]}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(C.F),n.rXU(f.z),n.rXU(T.T),n.rXU(u.z),n.rXU(h.i))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["reco-vaccinations-partial-done-dashboard"]],standalone:!1,features:[n.Vt3],decls:3,vars:3,consts:[[3,"isLoading"],[4,"ngIf"],[3,"id","REPPORT_NAME","CHANGE_STATE","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["class","sms-sender",3,"click",4,"ngIf"],[1,"table-responsive"],["id","vaccination-table",1,"table","table-bordered","table-hover"],[1,"table-head","fp-header-1"],["scope","col",3,"rowSpan"],["scope","col",1,"vaccine-big-head",3,"rowSpan"],["scope","col",1,"vaccine-big-head",3,"colSpan"],["class","vaccine-big-head","scope","col",3,"colSpan",4,"ngIf"],["scope","col",1,"vaccine-head"],["class","vaccine-head","scope","col",4,"ngIf"],["class","vaccine-head","scope","col",3,"colSpan",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"onPageChanged","id","PAGINATION_DATA"],[1,"sms-sender",3,"click"],["scope","col",1,"vaccine-head",3,"colSpan"],["scope","row"],[3,"class",4,"ngIf"],[3,"ngClass","innerHTML",4,"ngIf"],["class","call-sms",3,"href",4,"ngIf"],[1,"call-sms",3,"href"],[1,"fas","fa-phone"],["class","fas fa-comment-dots call-sms",3,"click",4,"ngIf"],[1,"fas","fa-comment-dots","call-sms",3,"click"],["class","fas fa-sms call-sms",3,"click",4,"ngIf"],[1,"fas","fa-sms","call-sms",3,"click"],[3,"ngClass","innerHTML"],["class","many-child",4,"ngIf"],[1,"many-child"],[2,"font-weight","normal!important"],[2,"margin-top","150px","width","100%","text-align","center","color","brown"]],template:function(o,i){1&o&&(n.nrm(0,"app-sample-loader",0),n.DNE(1,Ze,78,26,"ng-container",1)(2,no,3,0,"ng-container",1)),2&o&&(n.Y8G("isLoading",i.IS_FILTER_LOADING),n.R7$(),n.Y8G("ngIf",i.DATA_FETCHED&&i.DATA_FETCHED.length>0),n.R7$(),n.Y8G("ngIf",!i.DATA_FETCHED||i.DATA_FETCHED&&0==i.DATA_FETCHED.length))},dependencies:[p.E,p.G,p.I,S,N,V,j],styles:['.vaccine-big-head[_ngcontent-%COMP%]{padding:2px!important;text-align:center!important}.vaccine-head[_ngcontent-%COMP%]{font-size:14px!important;width:50px!important;padding:2px!important}.vaccine-on[_ngcontent-%COMP%]{text-align:center!important;font-size:18px!important;font-weight:700!important;color:green!important;padding:2px 0 0!important}.vaccine-off[_ngcontent-%COMP%]{text-align:center!important;font-size:20px!important;font-weight:700!important;color:brown!important;padding:0!important}.vaccine-NA[_ngcontent-%COMP%]{text-align:center!important;font-size:14px!important;font-weight:700!important;color:#d7d7d7!important;padding:5px 0 0!important}.many-child[_ngcontent-%COMP%]{background:#f0fbff!important}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left;position:relative}td[data-tooltip][_ngcontent-%COMP%]:not([data-tooltip=""]):hover:after{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translate(-50%);background-color:#000c;color:#fff;padding:6px 10px;border-radius:4px;font-size:14px;white-space:nowrap;z-index:10;opacity:0;visibility:hidden;transition:opacity .3s ease-in-out}td[data-tooltip][_ngcontent-%COMP%]:not([data-tooltip=""]):hover:after{opacity:1;visibility:visible}.call-sms[_ngcontent-%COMP%]{display:inline-block;color:#00f;text-decoration:none;text-align:center}.sms-sender[_ngcontent-%COMP%]{display:inline-block;padding:5px 12px;background-color:#4caf50;color:#fff;border-radius:8px;text-decoration:none;font-weight:700;margin:5px}.sms-sender[_ngcontent-%COMP%]:hover{background-color:#45a049}@media (max-width: 991px){*[_ngcontent-%COMP%]{font-size:13px!important}}']})}}return e})();function eo(e,a){if(1&e){const t=n.RV6();n.j41(0,"button",16),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.sendSms(i))}),n.EFF(1,"Envois Sms Multiple"),n.k0s()}}function oo(e,a){if(1&e){const t=n.RV6();n.j41(0,"button",16),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.sendCustomSms(i))}),n.EFF(1,"Envoi Sms Costomis\xe9 Multiple"),n.k0s()}}function ao(e,a){1&e&&(n.j41(0,"th",9),n.EFF(1,"Actions"),n.k0s()),2&e&&n.Y8G("colSpan",3)}function io(e,a){1&e&&(n.j41(0,"th",11),n.EFF(1,"APPEL"),n.k0s())}function _o(e,a){1&e&&(n.j41(0,"th",17),n.EFF(1,"SMS"),n.k0s()),2&e&&n.Y8G("colSpan",2)}function co(e,a){if(1&e&&(n.j41(0,"a",22),n.nI1(1,"guineaPhone"),n.nrm(2,"i",23),n.k0s()),2&e){const t=n.XpG(3).$implicit;n.Y8G("href","tel:"+n.bMT(1,1,t.parent_phone),n.B4B)}}function so(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,co,3,3,"a",21),n.k0s()),2&e){const t=n.XpG(2).$implicit,o=n.XpG().$implicit;n.HbH(o.length>1?"many-child":""),n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function ro(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",25),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(3).$implicit,s=n.XpG(3);return n.Njj(s.sendSms(i,{phone:_.parent_phone}))}),n.k0s()}}function lo(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,ro,1,0,"i",24),n.k0s()),2&e){const t=n.XpG(2).$implicit,o=n.XpG().$implicit;n.HbH(o.length>1?"many-child":""),n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function po(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",27),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(3).$implicit,s=n.XpG(3);return n.Njj(s.sendCustomSms(i,{vaccine:_}))}),n.k0s()}}function go(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,po,1,0,"i",26),n.k0s()),2&e){const t=n.XpG(2).$implicit,o=n.XpG().$implicit;n.HbH(o.length>1?"many-child":""),n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function mo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function ho(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function fo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function uo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ro(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Eo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function bo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function To(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Do(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ao(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Co(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Fo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Io(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Go(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function So(e,a){if(1&e&&(n.qex(0),n.j41(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s(),n.j41(7,"td"),n.EFF(8),n.k0s(),n.j41(9,"td"),n.EFF(10),n.k0s(),n.j41(11,"td"),n.EFF(12),n.k0s(),n.j41(13,"td"),n.EFF(14),n.k0s(),n.DNE(15,so,2,4,"td",19)(16,lo,2,4,"td",19)(17,go,2,4,"td",19),n.j41(18,"td"),n.DNE(19,mo,2,4,"span",20),n.k0s(),n.j41(20,"td"),n.DNE(21,ho,2,4,"span",20),n.k0s(),n.j41(22,"td"),n.DNE(23,fo,2,4,"span",20),n.k0s(),n.j41(24,"td"),n.DNE(25,uo,2,4,"span",20),n.k0s(),n.j41(26,"td"),n.DNE(27,Ro,2,4,"span",20),n.k0s(),n.j41(28,"td"),n.DNE(29,Eo,2,4,"span",20),n.k0s(),n.j41(30,"td"),n.DNE(31,bo,2,4,"span",20),n.k0s(),n.j41(32,"td"),n.DNE(33,To,2,4,"span",20),n.k0s(),n.j41(34,"td"),n.DNE(35,Do,2,4,"span",20),n.k0s(),n.j41(36,"td"),n.DNE(37,Ao,2,4,"span",20),n.k0s(),n.j41(38,"td"),n.DNE(39,Co,2,4,"span",20),n.k0s(),n.j41(40,"td"),n.DNE(41,Fo,2,4,"span",20),n.k0s(),n.j41(42,"td"),n.DNE(43,Io,2,4,"span",20),n.k0s(),n.j41(44,"td"),n.DNE(45,Go,2,4,"span",20),n.k0s(),n.bVm()),2&e){const t=n.XpG().$implicit,o=n.XpG().$implicit,i=n.XpG(2);n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.child_name),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.child_sex),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.child_age_str),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.child_code),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.reco_phone),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.parent_phone),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.neighbor_phone),n.R7$(),n.Y8G("ngIf",i.showOneByOneCallAndSmsButton&&1==(null==i.USER||null==i.USER.role?null:i.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",i.showOneByOneCallAndSmsButton&&1==(null==i.USER||null==i.USER.role?null:i.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",i.showOneByOneCallAndSmsButton&&1==(null==i.USER||null==i.USER.role?null:i.USER.role.canSendSms)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_BCG_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_BCG,t.child_age_in_days,0)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPO_0_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPO_0,t.child_age_in_days,0)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_PENTA_1_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_PENTA_1,t.child_age_in_days,42)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPO_1_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPO_1,t.child_age_in_days,42)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_PENTA_2_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_PENTA_2,t.child_age_in_days,70)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPO_2_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPO_2,t.child_age_in_days,70)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_PENTA_3_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_PENTA_3,t.child_age_in_days,98)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPO_3_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPO_3,t.child_age_in_days,98)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPI_1_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPI_1,t.child_age_in_days,98)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VAR_1_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VAR_1,t.child_age_in_months,9)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VAA_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VAA,t.child_age_in_months,9)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPI_2_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPI_2,t.child_age_in_months,9)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_MEN_A_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_MEN_A,t.child_age_in_months,15)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VAR_2_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VAR_2,t.child_age_in_months,15))}}function No(e,a){if(1&e&&(n.qex(0),n.DNE(1,So,46,101,"ng-container",1),n.bVm()),2&e){const t=a.index;n.R7$(),n.Y8G("ngIf",0===t)}}function ko(e,a){if(1&e&&(n.j41(0,"a",22),n.nI1(1,"guineaPhone"),n.nrm(2,"i",23),n.k0s()),2&e){const t=n.XpG(3).$implicit;n.Y8G("href","tel:"+n.bMT(1,1,t.parent_phone),n.B4B)}}function $o(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,ko,3,3,"a",21),n.k0s()),2&e){const t=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function vo(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",25),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(3).$implicit,s=n.XpG(3);return n.Njj(s.sendSms(i,{phone:_.parent_phone}))}),n.k0s()}}function Oo(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,vo,1,0,"i",24),n.k0s()),2&e){const t=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function jo(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",27),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(3).$implicit,s=n.XpG(3);return n.Njj(s.sendCustomSms(i,{vaccine:_}))}),n.k0s()}}function Vo(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,jo,1,0,"i",26),n.k0s()),2&e){const t=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function xo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Mo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Po(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ho(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function yo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Yo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Bo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Lo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function wo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Uo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Xo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Jo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Qo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function zo(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function qo(e,a){if(1&e&&(n.j41(0,"tr",30)(1,"td",31),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s(),n.j41(7,"td"),n.EFF(8),n.k0s(),n.j41(9,"td"),n.EFF(10),n.k0s(),n.j41(11,"td"),n.EFF(12),n.k0s(),n.j41(13,"td"),n.EFF(14),n.k0s(),n.DNE(15,$o,2,1,"td",1)(16,Oo,2,1,"td",1)(17,Vo,2,1,"td",1),n.j41(18,"td"),n.DNE(19,xo,2,4,"span",20),n.k0s(),n.j41(20,"td"),n.DNE(21,Mo,2,4,"span",20),n.k0s(),n.j41(22,"td"),n.DNE(23,Po,2,4,"span",20),n.k0s(),n.j41(24,"td"),n.DNE(25,Ho,2,4,"span",20),n.k0s(),n.j41(26,"td"),n.DNE(27,yo,2,4,"span",20),n.k0s(),n.j41(28,"td"),n.DNE(29,Yo,2,4,"span",20),n.k0s(),n.j41(30,"td"),n.DNE(31,Bo,2,4,"span",20),n.k0s(),n.j41(32,"td"),n.DNE(33,Lo,2,4,"span",20),n.k0s(),n.j41(34,"td"),n.DNE(35,wo,2,4,"span",20),n.k0s(),n.j41(36,"td"),n.DNE(37,Uo,2,4,"span",20),n.k0s(),n.j41(38,"td"),n.DNE(39,Xo,2,4,"span",20),n.k0s(),n.j41(40,"td"),n.DNE(41,Jo,2,4,"span",20),n.k0s(),n.j41(42,"td"),n.DNE(43,Qo,2,4,"span",20),n.k0s(),n.j41(44,"td"),n.DNE(45,zo,2,4,"span",20),n.k0s()()),2&e){const t=n.XpG().$implicit,o=n.XpG(3);n.R7$(2),n.JRh(t.child_name),n.R7$(2),n.JRh(t.child_sex),n.R7$(2),n.JRh(t.child_age_str),n.R7$(2),n.JRh(t.child_code),n.R7$(2),n.JRh(t.reco_phone),n.R7$(2),n.JRh(t.parent_phone),n.R7$(2),n.JRh(t.neighbor_phone),n.R7$(),n.Y8G("ngIf",o.showOneByOneCallAndSmsButton&&1==(null==o.USER||null==o.USER.role?null:o.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",o.showOneByOneCallAndSmsButton&&1==(null==o.USER||null==o.USER.role?null:o.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",o.showOneByOneCallAndSmsButton&&1==(null==o.USER||null==o.USER.role?null:o.USER.role.canSendSms)),n.R7$(),n.BMQ("data-tooltip",t.no_BCG_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_BCG,t.child_age_in_days,0)),n.R7$(),n.BMQ("data-tooltip",t.no_VPO_0_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPO_0,t.child_age_in_days,0)),n.R7$(),n.BMQ("data-tooltip",t.no_PENTA_1_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_PENTA_1,t.child_age_in_days,42)),n.R7$(),n.BMQ("data-tooltip",t.no_VPO_1_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPO_1,t.child_age_in_days,42)),n.R7$(),n.BMQ("data-tooltip",t.no_PENTA_2_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_PENTA_2,t.child_age_in_days,70)),n.R7$(),n.BMQ("data-tooltip",t.no_VPO_2_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPO_2,t.child_age_in_days,70)),n.R7$(),n.BMQ("data-tooltip",t.no_PENTA_3_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_PENTA_3,t.child_age_in_days,98)),n.R7$(),n.BMQ("data-tooltip",t.no_VPO_3_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPO_3,t.child_age_in_days,98)),n.R7$(),n.BMQ("data-tooltip",t.no_VPI_1_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPI_1,t.child_age_in_days,98)),n.R7$(),n.BMQ("data-tooltip",t.no_VAR_1_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VAR_1,t.child_age_in_months,9)),n.R7$(),n.BMQ("data-tooltip",t.no_VAA_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VAA,t.child_age_in_months,9)),n.R7$(),n.BMQ("data-tooltip",t.no_VPI_2_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPI_2,t.child_age_in_months,9)),n.R7$(),n.BMQ("data-tooltip",t.no_MEN_A_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_MEN_A,t.child_age_in_months,15)),n.R7$(),n.BMQ("data-tooltip",t.no_VAR_2_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VAR_2,t.child_age_in_months,15))}}function Wo(e,a){if(1&e&&(n.qex(0),n.DNE(1,qo,46,38,"tr",29),n.bVm()),2&e){const t=a.index;n.R7$(),n.Y8G("ngIf",0!==t)}}function Ko(e,a){if(1&e&&(n.qex(0),n.j41(1,"tr")(2,"td",18),n.EFF(3),n.k0s(),n.j41(4,"td"),n.EFF(5),n.k0s(),n.DNE(6,No,2,1,"ng-container",14),n.k0s(),n.DNE(7,Wo,2,1,"ng-container",14),n.bVm()),2&e){const t=a.$implicit;n.R7$(2),n.HbH(t.length>1?"many-child":""),n.BMQ("rowspan",t.length),n.R7$(),n.JRh(t[0].family_code),n.R7$(),n.HbH(t.length>1?"many-child":""),n.BMQ("rowspan",t.length),n.R7$(),n.JRh(t[0].family_name),n.R7$(),n.Y8G("ngForOf",t),n.R7$(),n.Y8G("ngForOf",t)}}function Zo(e,a){if(1&e){const t=n.RV6();n.qex(0),n.j41(1,"h2"),n.EFF(2,"\u{1f4c8} LIST DES MOINS DE 5 ANS AVEC VACCINS NON A JOUR"),n.k0s(),n.nrm(3,"br")(4,"dashboards-header-selector",2),n.DNE(5,eo,2,0,"button",3)(6,oo,2,0,"button",3),n.j41(7,"div",4)(8,"table",5)(9,"thead")(10,"tr",6)(11,"th",7),n.EFF(12,"N\xb0"),n.k0s(),n.j41(13,"th",8),n.EFF(14,"M\xe9nage"),n.k0s(),n.j41(15,"th",8),n.EFF(16,"Nom"),n.k0s(),n.j41(17,"th",8),n.EFF(18,"Sexe"),n.k0s(),n.j41(19,"th",8),n.EFF(20,"Age"),n.k0s(),n.j41(21,"th",8),n.EFF(22,"Code"),n.k0s(),n.j41(23,"th",9),n.EFF(24,"T\xe9l\xe9phone"),n.k0s(),n.DNE(25,ao,2,1,"th",10),n.j41(26,"th",9),n.EFF(27,"Naissance"),n.k0s(),n.j41(28,"th",9),n.EFF(29,"6 semaines"),n.k0s(),n.j41(30,"th",9),n.EFF(31,"10 semaines"),n.k0s(),n.j41(32,"th",9),n.EFF(33,"14 semaines"),n.k0s(),n.j41(34,"th",9),n.EFF(35,"9 mois"),n.k0s(),n.j41(36,"th",9),n.EFF(37,"15 mois"),n.k0s()(),n.j41(38,"tr",6)(39,"th",11),n.EFF(40,"RECO"),n.k0s(),n.j41(41,"th",11),n.EFF(42,"Parent"),n.k0s(),n.j41(43,"th",11),n.EFF(44,"Voisin"),n.k0s(),n.DNE(45,io,2,0,"th",12)(46,_o,2,1,"th",13),n.j41(47,"th",11),n.EFF(48,"BCG"),n.k0s(),n.j41(49,"th",11),n.EFF(50,"VPO_0"),n.k0s(),n.j41(51,"th",11),n.EFF(52,"PENTA_1"),n.k0s(),n.j41(53,"th",11),n.EFF(54,"VPO_1"),n.k0s(),n.j41(55,"th",11),n.EFF(56,"PENTA_2"),n.k0s(),n.j41(57,"th",11),n.EFF(58,"VPO_2"),n.k0s(),n.j41(59,"th",11),n.EFF(60,"PENTA_3"),n.k0s(),n.j41(61,"th",11),n.EFF(62,"VPO_3"),n.k0s(),n.j41(63,"th",11),n.EFF(64,"VPI_1"),n.k0s(),n.j41(65,"th",11),n.EFF(66,"VAR_1"),n.k0s(),n.j41(67,"th",11),n.EFF(68,"VAA"),n.k0s(),n.j41(69,"th",11),n.EFF(70,"VPI_2"),n.k0s(),n.j41(71,"th",11),n.EFF(72,"MEN_A"),n.k0s(),n.j41(73,"th",11),n.EFF(74,"VAR_2"),n.k0s()()(),n.j41(75,"tbody"),n.DNE(76,Ko,8,10,"ng-container",14),n.k0s()()(),n.j41(77,"dashboards-pagination-table",15),n.bIt("onPageChanged",function(i){n.eBV(t);const _=n.XpG();return n.Njj(_.onUpdatedPaginate(i))}),n.k0s(),n.bVm()}if(2&e){const t=n.XpG();n.R7$(4),n.Y8G("id","vaccination-table-header")("REPPORT_NAME",t.DASHBOARD_NAME)("CHANGE_STATE",t.CHANGE_STATE)("TABLE_ID","vaccination-table")("SHOW_EXPORT_TABLE_BTN",!0),n.R7$(),n.Y8G("ngIf",t.showGeneralCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",t.showGeneralCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(5),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("ngIf",t.showOneByOneCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(),n.Y8G("colSpan",2),n.R7$(2),n.Y8G("colSpan",2),n.R7$(2),n.Y8G("colSpan",2),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("colSpan",2),n.R7$(9),n.Y8G("ngIf",t.showOneByOneCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",t.showOneByOneCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(30),n.Y8G("ngForOf",t.PAGINATION_DATA),n.R7$(),n.Y8G("id","pagination-vaccination")("PAGINATION_DATA",t.DATA_FETCHED)}}function na(e,a){1&e&&(n.qex(0),n.j41(1,"h1",32),n.EFF(2," Pas de donn\xe9es, appliquer le filtre ! "),n.k0s(),n.bVm())}let ta=(()=>{class e extends A{constructor(t,o,i,_,s){super(o,i,_,s,(c,l)=>(0,D.H)(this.ldbfetch.GetRecoVaccinationAllDoneDashboard(c,l))),this.ldbfetch=t,this.DASHBOARD_NAME="RECOS_VACCINES_ALL_DONE",this.PAGINATION_DATA=[]}onUpdatedPaginate(t){this.PAGINATION_DATA=t}get DATA_FETCHED(){return this.DASHBOARDS_DATA[this.DASHBOARD_NAME]?.data??[]}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(C.F),n.rXU(f.z),n.rXU(T.T),n.rXU(u.z),n.rXU(h.i))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["reco-vaccinations-all-done-dashboard"]],standalone:!1,features:[n.Vt3],decls:3,vars:3,consts:[[3,"isLoading"],[4,"ngIf"],[3,"id","REPPORT_NAME","CHANGE_STATE","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["class","sms-sender",3,"click",4,"ngIf"],[1,"table-responsive"],["id","vaccination-table",1,"table","table-bordered","table-hover"],[1,"table-head","fp-header-1"],["scope","col",3,"rowSpan"],["scope","col",1,"vaccine-big-head",3,"rowSpan"],["scope","col",1,"vaccine-big-head",3,"colSpan"],["class","vaccine-big-head","scope","col",3,"colSpan",4,"ngIf"],["scope","col",1,"vaccine-head"],["class","vaccine-head","scope","col",4,"ngIf"],["class","vaccine-head","scope","col",3,"colSpan",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"onPageChanged","id","PAGINATION_DATA"],[1,"sms-sender",3,"click"],["scope","col",1,"vaccine-head",3,"colSpan"],["scope","row"],[3,"class",4,"ngIf"],[3,"ngClass","innerHTML",4,"ngIf"],["class","call-sms",3,"href",4,"ngIf"],[1,"call-sms",3,"href"],[1,"fas","fa-phone"],["class","fas fa-comment-dots call-sms",3,"click",4,"ngIf"],[1,"fas","fa-comment-dots","call-sms",3,"click"],["class","fas fa-sms call-sms",3,"click",4,"ngIf"],[1,"fas","fa-sms","call-sms",3,"click"],[3,"ngClass","innerHTML"],["class","many-child",4,"ngIf"],[1,"many-child"],[2,"font-weight","normal!important"],[2,"margin-top","150px","width","100%","text-align","center","color","brown"]],template:function(o,i){1&o&&(n.nrm(0,"app-sample-loader",0),n.DNE(1,Zo,78,26,"ng-container",1)(2,na,3,0,"ng-container",1)),2&o&&(n.Y8G("isLoading",i.IS_FILTER_LOADING),n.R7$(),n.Y8G("ngIf",i.DATA_FETCHED&&i.DATA_FETCHED.length>0),n.R7$(),n.Y8G("ngIf",!i.DATA_FETCHED||i.DATA_FETCHED&&0==i.DATA_FETCHED.length))},dependencies:[p.E,p.G,p.I,S,N,V,j],styles:['.vaccine-big-head[_ngcontent-%COMP%]{padding:2px!important;text-align:center!important}.vaccine-head[_ngcontent-%COMP%]{font-size:14px!important;width:50px!important;padding:2px!important}.vaccine-on[_ngcontent-%COMP%]{text-align:center!important;font-size:18px!important;font-weight:700!important;color:green!important;padding:2px 0 0!important}.vaccine-off[_ngcontent-%COMP%]{text-align:center!important;font-size:20px!important;font-weight:700!important;color:brown!important;padding:0!important}.vaccine-NA[_ngcontent-%COMP%]{text-align:center!important;font-size:14px!important;font-weight:700!important;color:#d7d7d7!important;padding:5px 0 0!important}.many-child[_ngcontent-%COMP%]{background:#f0fbff!important}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left;position:relative}td[data-tooltip][_ngcontent-%COMP%]:not([data-tooltip=""]):hover:after{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translate(-50%);background-color:#000c;color:#fff;padding:6px 10px;border-radius:4px;font-size:14px;white-space:nowrap;z-index:10;opacity:0;visibility:hidden;transition:opacity .3s ease-in-out}td[data-tooltip][_ngcontent-%COMP%]:not([data-tooltip=""]):hover:after{opacity:1;visibility:visible}.call-sms[_ngcontent-%COMP%]{display:inline-block;color:#00f;text-decoration:none;text-align:center}.sms-sender[_ngcontent-%COMP%]{display:inline-block;padding:5px 12px;background-color:#4caf50;color:#fff;border-radius:8px;text-decoration:none;font-weight:700;margin:5px}.sms-sender[_ngcontent-%COMP%]:hover{background-color:#45a049}@media (max-width: 991px){*[_ngcontent-%COMP%]{font-size:13px!important}}']})}}return e})();var ea=r(3366),oa=r(3598);function aa(e,a){if(1&e&&(n.j41(0,"li"),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.R7$(),n.JRh(t)}}function ia(e,a){if(1&e&&(n.j41(0,"div",11),n.EFF(1," \u2705 SMS envoy\xe9s avec succ\xe8s : "),n.j41(2,"ul"),n.DNE(3,aa,2,1,"li",12),n.k0s()()),2&e){const t=n.XpG(2);n.R7$(3),n.Y8G("ngForOf",t.results)}}function _a(e,a){if(1&e&&(n.j41(0,"div",13),n.EFF(1),n.k0s()),2&e){const t=n.XpG(2);n.R7$(),n.SpI("\u274c ",t.error,"")}}function ca(e,a){if(1&e){const t=n.RV6();n.j41(0,"div",7)(1,"label"),n.EFF(2,"Num\xe9ros (s\xe9par\xe9s par virgule)"),n.k0s(),n.j41(3,"textarea",8),n.mxI("ngModelChange",function(i){n.eBV(t);const _=n.XpG();return n.DH7(_.recipientInput,i)||(_.recipientInput=i),n.Njj(i)}),n.k0s(),n.j41(4,"label"),n.EFF(5,"Message"),n.k0s(),n.j41(6,"textarea",9),n.mxI("ngModelChange",function(i){n.eBV(t);const _=n.XpG();return n.DH7(_.message,i)||(_.message=i),n.Njj(i)}),n.k0s(),n.j41(7,"button",10),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.sendSms())}),n.nrm(8,"i",3),n.EFF(9),n.k0s(),n.DNE(10,ia,4,1,"div",5)(11,_a,2,1,"div",6),n.k0s()}if(2&e){const t=n.XpG();n.R7$(3),n.Y8G("disabled",!0),n.R50("ngModel",t.recipientInput),n.R7$(3),n.R50("ngModel",t.message),n.R7$(),n.Y8G("disabled",t.loading),n.R7$(2),n.SpI(" ",t.loading?"Envoi...":"Envoyer SMS"," "),n.R7$(),n.Y8G("ngIf",t.results.length),n.R7$(),n.Y8G("ngIf",t.error)}}function sa(e,a){if(1&e&&(n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s()()),2&e){const t=a.$implicit;n.R7$(2),n.JRh(t.phone),n.R7$(2),n.JRh(t.message)}}function ra(e,a){if(1&e&&(n.j41(0,"div",14)(1,"table",15)(2,"thead")(3,"tr")(4,"th",16),n.EFF(5,"T\xe9l\xe9phone"),n.k0s(),n.j41(6,"th"),n.EFF(7,"Message"),n.k0s()()(),n.j41(8,"tbody"),n.DNE(9,sa,5,2,"tr",12),n.k0s()()()),2&e){const t=n.XpG();n.R7$(9),n.Y8G("ngForOf",t.customRecipients)}}function la(e,a){if(1&e&&(n.j41(0,"li"),n.EFF(1),n.k0s()),2&e){const t=a.$implicit;n.R7$(),n.JRh(t)}}function pa(e,a){if(1&e&&(n.j41(0,"div",11),n.EFF(1," \u2705 SMS envoy\xe9s avec succ\xe8s : "),n.j41(2,"ul"),n.DNE(3,la,2,1,"li",12),n.k0s()()),2&e){const t=n.XpG();n.R7$(3),n.Y8G("ngForOf",t.results)}}function da(e,a){if(1&e&&(n.j41(0,"div",13),n.EFF(1),n.k0s()),2&e){const t=n.XpG();n.R7$(),n.SpI("\u274c ",t.error,"")}}let Y=(()=>{class e{constructor(t,o){this.api=t,this.mService=o,this.DATAS=[],this.message="",this.results=[],this.error=null,this.loading=!1}get recipientInput(){return this.DATAS.join(", ")}get recipients(){return this.DATAS.map(t=>t.trim())}get customRecipients(){return this.DATAS}sendSms(){0!==this.recipients.length&&this.message.trim()?(this.loading=!0,this.error=null,this.api.sendSms({phoneNumbers:this.recipients,message:this.message}).subscribe({next:o=>{this.results=o.data,200==o.status?this.mService.close({success:!0}):this.error=o.data||"\xc9chec de l\u2019envoi.",this.loading=!1},error:o=>{this.error=o.data||o.error?.error||"\xc9chec de l\u2019envoi.",this.loading=!1}})):this.error="V\xe9rifiez les num\xe9ros et le message."}sendCustomSms(){0!==this.customRecipients.length?(this.loading=!0,this.error=null,this.api.sendCustomSms(this.customRecipients).subscribe({next:t=>{this.results=t.data,200==t.status?t.errors.length>0?this.error="Certains m\xe9ssages n'ont pu etre envoy\xe9.":this.mService.close({success:!0}):this.error=t.data||"\xc9chec de l\u2019envoi.",this.loading=!1},error:t=>{this.error=t.data||t.error?.error||"\xc9chec de l\u2019envoi.",this.loading=!1}})):this.error="V\xe9rifiez les num\xe9ros et le message."}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(ea.G),n.rXU(F.B))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-sms"]],inputs:{DATAS:"DATAS",isCustomSms:"isCustomSms"},standalone:!1,decls:11,vars:17,consts:[[3,"id","modalActionColor","showCloseButton","modalTitle","cancelBtnName","submitBtnName","showBottomElements","showCancelButton","reloadApp","closeAfterSubmited","modalContentWidth"],["class","sms-container",4,"ngIf"],[2,"position","absolute","right","30px","bottom","5px",3,"click","disabled"],[1,"fas","fa-paper-plane"],["class","table-responsive","style","max-height: 800px; overflow: auto;",4,"ngIf"],["class","success",4,"ngIf"],["class","error",4,"ngIf"],[1,"sms-container"],["placeholder","+224620000000, +224621111111",3,"ngModelChange","disabled","ngModel"],["placeholder","Votre message ici...","cols","30","rows","10",3,"ngModelChange","ngModel"],[3,"click","disabled"],[1,"success"],[4,"ngFor","ngForOf"],[1,"error"],[1,"table-responsive",2,"max-height","800px","overflow","auto"],["id","vaccination-table",1,"table","table-bordered","table-hover"],[2,"width","150px"]],template:function(o,i){1&o&&(n.j41(0,"kossi-modal-layout",0),n.DNE(1,ca,12,7,"div",1),n.j41(2,"div")(3,"button",2),n.bIt("click",function(){return i.sendCustomSms()}),n.nrm(4,"i",3),n.EFF(5),n.k0s(),n.DNE(6,ra,10,1,"div",4),n.nrm(7,"br")(8,"br"),n.DNE(9,pa,4,1,"div",5)(10,da,2,1,"div",6),n.k0s()()),2&o&&(n.Y8G("id","send-sms-modal")("modalActionColor","info-back")("showCloseButton",!0)("modalTitle","Envoi de SMS Professionnel")("cancelBtnName","Annuler")("submitBtnName","")("showBottomElements",!1)("showCancelButton",!1)("reloadApp",!1)("closeAfterSubmited",!1)("modalContentWidth",1==i.isCustomSms?"xx-large-width":"x-large-width"),n.R7$(),n.Y8G("ngIf",0==i.isCustomSms),n.R7$(2),n.Y8G("disabled",i.loading),n.R7$(2),n.SpI(" ",i.loading?"Envoi...":"Envoyer SMS"," "),n.R7$(),n.Y8G("ngIf",1==i.isCustomSms),n.R7$(3),n.Y8G("ngIf",i.results.length),n.R7$(),n.Y8G("ngIf",i.error))},dependencies:[p.G,p.I,d.me,d.BC,d.vS,oa.z],styles:[".sms-container[_ngcontent-%COMP%]{width:100%;margin:auto;padding:30px;background:#f9f9f9;border-radius:12px;box-shadow:0 0 12px #0000001a;font-family:Segoe UI,sans-serif}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-bottom:15px;border:1px solid #ccc;border-radius:8px;font-size:15px;resize:vertical;min-height:60px}button[_ngcontent-%COMP%]{background:#007bff;color:#fff;padding:12px 20px;border:none;border-radius:8px;font-size:16px;cursor:pointer;display:flex;align-items:center;gap:10px}button[_ngcontent-%COMP%]:hover{background:#0069d9}.success[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{margin-top:20px;padding:10px;border-radius:8px;font-weight:700}.success[_ngcontent-%COMP%]{background:#e7f9ee;color:#2e7d32}.error[_ngcontent-%COMP%]{background:#ffe6e6;color:#c62828}"]})}}return e})();function ga(e,a){if(1&e){const t=n.RV6();n.j41(0,"button",16),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.sendSms(i))}),n.EFF(1,"Envois Sms Multiple"),n.k0s()}}function ma(e,a){if(1&e){const t=n.RV6();n.j41(0,"button",16),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(2);return n.Njj(_.sendCustomSms(i))}),n.EFF(1,"Envoi Sms Costomis\xe9 Multiple"),n.k0s()}}function ha(e,a){1&e&&(n.j41(0,"th",9),n.EFF(1,"Actions"),n.k0s()),2&e&&n.Y8G("colSpan",3)}function fa(e,a){1&e&&(n.j41(0,"th",11),n.EFF(1,"APPEL"),n.k0s())}function ua(e,a){1&e&&(n.j41(0,"th",17),n.EFF(1,"SMS"),n.k0s()),2&e&&n.Y8G("colSpan",2)}function Ra(e,a){if(1&e&&(n.j41(0,"a",22),n.nI1(1,"guineaPhone"),n.nrm(2,"i",23),n.k0s()),2&e){const t=n.XpG(3).$implicit;n.Y8G("href","tel:"+n.bMT(1,1,t.parent_phone),n.B4B)}}function Ea(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,Ra,3,3,"a",21),n.k0s()),2&e){const t=n.XpG(2).$implicit,o=n.XpG().$implicit;n.HbH(o.length>1?"many-child":""),n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function ba(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",25),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(3).$implicit,s=n.XpG(3);return n.Njj(s.sendSms(i,{phone:_.parent_phone}))}),n.k0s()}}function Ta(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,ba,1,0,"i",24),n.k0s()),2&e){const t=n.XpG(2).$implicit,o=n.XpG().$implicit;n.HbH(o.length>1?"many-child":""),n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function Da(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",27),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(3).$implicit,s=n.XpG(3);return n.Njj(s.sendCustomSms(i,{vaccine:_}))}),n.k0s()}}function Aa(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,Da,1,0,"i",26),n.k0s()),2&e){const t=n.XpG(2).$implicit,o=n.XpG().$implicit;n.HbH(o.length>1?"many-child":""),n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function Ca(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Fa(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ia(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ga(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Sa(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Na(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function ka(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function $a(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function va(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Oa(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function ja(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Va(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function xa(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ma(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Pa(e,a){if(1&e&&(n.qex(0),n.j41(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s(),n.j41(7,"td"),n.EFF(8),n.k0s(),n.j41(9,"td"),n.EFF(10),n.k0s(),n.j41(11,"td"),n.EFF(12),n.k0s(),n.j41(13,"td"),n.EFF(14),n.k0s(),n.DNE(15,Ea,2,4,"td",19)(16,Ta,2,4,"td",19)(17,Aa,2,4,"td",19),n.j41(18,"td"),n.DNE(19,Ca,2,4,"span",20),n.k0s(),n.j41(20,"td"),n.DNE(21,Fa,2,4,"span",20),n.k0s(),n.j41(22,"td"),n.DNE(23,Ia,2,4,"span",20),n.k0s(),n.j41(24,"td"),n.DNE(25,Ga,2,4,"span",20),n.k0s(),n.j41(26,"td"),n.DNE(27,Sa,2,4,"span",20),n.k0s(),n.j41(28,"td"),n.DNE(29,Na,2,4,"span",20),n.k0s(),n.j41(30,"td"),n.DNE(31,ka,2,4,"span",20),n.k0s(),n.j41(32,"td"),n.DNE(33,$a,2,4,"span",20),n.k0s(),n.j41(34,"td"),n.DNE(35,va,2,4,"span",20),n.k0s(),n.j41(36,"td"),n.DNE(37,Oa,2,4,"span",20),n.k0s(),n.j41(38,"td"),n.DNE(39,ja,2,4,"span",20),n.k0s(),n.j41(40,"td"),n.DNE(41,Va,2,4,"span",20),n.k0s(),n.j41(42,"td"),n.DNE(43,xa,2,4,"span",20),n.k0s(),n.j41(44,"td"),n.DNE(45,Ma,2,4,"span",20),n.k0s(),n.bVm()),2&e){const t=n.XpG().$implicit,o=n.XpG().$implicit,i=n.XpG(2);n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.child_name),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.child_sex),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.child_age_str),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.child_code),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.reco_phone),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.parent_phone),n.R7$(),n.HbH(o.length>1?"many-child":""),n.R7$(),n.JRh(t.neighbor_phone),n.R7$(),n.Y8G("ngIf",i.showOneByOneCallAndSmsButton&&1==(null==i.USER||null==i.USER.role?null:i.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",i.showOneByOneCallAndSmsButton&&1==(null==i.USER||null==i.USER.role?null:i.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",i.showOneByOneCallAndSmsButton&&1==(null==i.USER||null==i.USER.role?null:i.USER.role.canSendSms)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_BCG_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_BCG,t.child_age_in_days,0)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPO_0_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPO_0,t.child_age_in_days,0)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_PENTA_1_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_PENTA_1,t.child_age_in_days,42)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPO_1_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPO_1,t.child_age_in_days,42)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_PENTA_2_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_PENTA_2,t.child_age_in_days,70)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPO_2_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPO_2,t.child_age_in_days,70)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_PENTA_3_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_PENTA_3,t.child_age_in_days,98)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPO_3_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPO_3,t.child_age_in_days,98)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPI_1_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPI_1,t.child_age_in_days,98)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VAR_1_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VAR_1,t.child_age_in_months,9)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VAA_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VAA,t.child_age_in_months,9)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VPI_2_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VPI_2,t.child_age_in_months,9)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_MEN_A_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_MEN_A,t.child_age_in_months,15)),n.R7$(),n.HbH(o.length>1?"many-child":""),n.BMQ("data-tooltip",t.no_VAR_2_reason),n.R7$(),n.Y8G("ngIf",i.vaccineUtils(t.vaccine_VAR_2,t.child_age_in_months,15))}}function Ha(e,a){if(1&e&&(n.qex(0),n.DNE(1,Pa,46,101,"ng-container",1),n.bVm()),2&e){const t=a.index;n.R7$(),n.Y8G("ngIf",0===t)}}function ya(e,a){if(1&e&&(n.j41(0,"a",22),n.nI1(1,"guineaPhone"),n.nrm(2,"i",23),n.k0s()),2&e){const t=n.XpG(3).$implicit;n.Y8G("href","tel:"+n.bMT(1,1,t.parent_phone),n.B4B)}}function Ya(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,ya,3,3,"a",21),n.k0s()),2&e){const t=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function Ba(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",25),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(3).$implicit,s=n.XpG(3);return n.Njj(s.sendSms(i,{phone:_.parent_phone}))}),n.k0s()}}function La(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,Ba,1,0,"i",24),n.k0s()),2&e){const t=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function wa(e,a){if(1&e){const t=n.RV6();n.j41(0,"i",27),n.bIt("click",function(i){n.eBV(t);const _=n.XpG(3).$implicit,s=n.XpG(3);return n.Njj(s.sendCustomSms(i,{vaccine:_}))}),n.k0s()}}function Ua(e,a){if(1&e&&(n.j41(0,"td"),n.DNE(1,wa,1,0,"i",26),n.k0s()),2&e){const t=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngIf",t.parent_phone)}}function Xa(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ja(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Qa(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function za(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function qa(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Wa(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Ka(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function Za(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function ni(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function ti(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function ei(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function oi(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function ai(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function ii(e,a){if(1&e&&(n.nrm(0,"span",28),n.nI1(1,"safeHtml")),2&e){const t=a.ngIf;n.Y8G("ngClass",t.class)("innerHTML",n.bMT(1,2,t.action),n.npT)}}function _i(e,a){if(1&e&&(n.j41(0,"tr",30)(1,"td",31),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s(),n.j41(7,"td"),n.EFF(8),n.k0s(),n.j41(9,"td"),n.EFF(10),n.k0s(),n.j41(11,"td"),n.EFF(12),n.k0s(),n.j41(13,"td"),n.EFF(14),n.k0s(),n.DNE(15,Ya,2,1,"td",1)(16,La,2,1,"td",1)(17,Ua,2,1,"td",1),n.j41(18,"td"),n.DNE(19,Xa,2,4,"span",20),n.k0s(),n.j41(20,"td"),n.DNE(21,Ja,2,4,"span",20),n.k0s(),n.j41(22,"td"),n.DNE(23,Qa,2,4,"span",20),n.k0s(),n.j41(24,"td"),n.DNE(25,za,2,4,"span",20),n.k0s(),n.j41(26,"td"),n.DNE(27,qa,2,4,"span",20),n.k0s(),n.j41(28,"td"),n.DNE(29,Wa,2,4,"span",20),n.k0s(),n.j41(30,"td"),n.DNE(31,Ka,2,4,"span",20),n.k0s(),n.j41(32,"td"),n.DNE(33,Za,2,4,"span",20),n.k0s(),n.j41(34,"td"),n.DNE(35,ni,2,4,"span",20),n.k0s(),n.j41(36,"td"),n.DNE(37,ti,2,4,"span",20),n.k0s(),n.j41(38,"td"),n.DNE(39,ei,2,4,"span",20),n.k0s(),n.j41(40,"td"),n.DNE(41,oi,2,4,"span",20),n.k0s(),n.j41(42,"td"),n.DNE(43,ai,2,4,"span",20),n.k0s(),n.j41(44,"td"),n.DNE(45,ii,2,4,"span",20),n.k0s()()),2&e){const t=n.XpG().$implicit,o=n.XpG(3);n.R7$(2),n.JRh(t.child_name),n.R7$(2),n.JRh(t.child_sex),n.R7$(2),n.JRh(t.child_age_str),n.R7$(2),n.JRh(t.child_code),n.R7$(2),n.JRh(t.reco_phone),n.R7$(2),n.JRh(t.parent_phone),n.R7$(2),n.JRh(t.neighbor_phone),n.R7$(),n.Y8G("ngIf",o.showOneByOneCallAndSmsButton&&1==(null==o.USER||null==o.USER.role?null:o.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",o.showOneByOneCallAndSmsButton&&1==(null==o.USER||null==o.USER.role?null:o.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",o.showOneByOneCallAndSmsButton&&1==(null==o.USER||null==o.USER.role?null:o.USER.role.canSendSms)),n.R7$(),n.BMQ("data-tooltip",t.no_BCG_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_BCG,t.child_age_in_days,0)),n.R7$(),n.BMQ("data-tooltip",t.no_VPO_0_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPO_0,t.child_age_in_days,0)),n.R7$(),n.BMQ("data-tooltip",t.no_PENTA_1_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_PENTA_1,t.child_age_in_days,42)),n.R7$(),n.BMQ("data-tooltip",t.no_VPO_1_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPO_1,t.child_age_in_days,42)),n.R7$(),n.BMQ("data-tooltip",t.no_PENTA_2_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_PENTA_2,t.child_age_in_days,70)),n.R7$(),n.BMQ("data-tooltip",t.no_VPO_2_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPO_2,t.child_age_in_days,70)),n.R7$(),n.BMQ("data-tooltip",t.no_PENTA_3_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_PENTA_3,t.child_age_in_days,98)),n.R7$(),n.BMQ("data-tooltip",t.no_VPO_3_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPO_3,t.child_age_in_days,98)),n.R7$(),n.BMQ("data-tooltip",t.no_VPI_1_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPI_1,t.child_age_in_days,98)),n.R7$(),n.BMQ("data-tooltip",t.no_VAR_1_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VAR_1,t.child_age_in_months,9)),n.R7$(),n.BMQ("data-tooltip",t.no_VAA_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VAA,t.child_age_in_months,9)),n.R7$(),n.BMQ("data-tooltip",t.no_VPI_2_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VPI_2,t.child_age_in_months,9)),n.R7$(),n.BMQ("data-tooltip",t.no_MEN_A_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_MEN_A,t.child_age_in_months,15)),n.R7$(),n.BMQ("data-tooltip",t.no_VAR_2_reason),n.R7$(),n.Y8G("ngIf",o.vaccineUtils(t.vaccine_VAR_2,t.child_age_in_months,15))}}function ci(e,a){if(1&e&&(n.qex(0),n.DNE(1,_i,46,38,"tr",29),n.bVm()),2&e){const t=a.index;n.R7$(),n.Y8G("ngIf",0!==t)}}function si(e,a){if(1&e&&(n.qex(0),n.j41(1,"tr")(2,"td",18),n.EFF(3),n.k0s(),n.j41(4,"td"),n.EFF(5),n.k0s(),n.DNE(6,Ha,2,1,"ng-container",14),n.k0s(),n.DNE(7,ci,2,1,"ng-container",14),n.bVm()),2&e){const t=a.$implicit;n.R7$(2),n.HbH(t.length>1?"many-child":""),n.BMQ("rowspan",t.length),n.R7$(),n.JRh(t[0].family_code),n.R7$(),n.HbH(t.length>1?"many-child":""),n.BMQ("rowspan",t.length),n.R7$(),n.JRh(t[0].family_name),n.R7$(),n.Y8G("ngForOf",t),n.R7$(),n.Y8G("ngForOf",t)}}function ri(e,a){if(1&e){const t=n.RV6();n.qex(0),n.j41(1,"h2"),n.EFF(2,"\u{1f4c8} LIST DES MOINS DE 5 ANS AVEC VACCINS NON A JOUR"),n.k0s(),n.nrm(3,"br")(4,"dashboards-header-selector",2),n.DNE(5,ga,2,0,"button",3)(6,ma,2,0,"button",3),n.j41(7,"div",4)(8,"table",5)(9,"thead")(10,"tr",6)(11,"th",7),n.EFF(12,"N\xb0"),n.k0s(),n.j41(13,"th",8),n.EFF(14,"M\xe9nage"),n.k0s(),n.j41(15,"th",8),n.EFF(16,"Nom"),n.k0s(),n.j41(17,"th",8),n.EFF(18,"Sexe"),n.k0s(),n.j41(19,"th",8),n.EFF(20,"Age"),n.k0s(),n.j41(21,"th",8),n.EFF(22,"Code"),n.k0s(),n.j41(23,"th",9),n.EFF(24,"T\xe9l\xe9phone"),n.k0s(),n.DNE(25,ha,2,1,"th",10),n.j41(26,"th",9),n.EFF(27,"Naissance"),n.k0s(),n.j41(28,"th",9),n.EFF(29,"6 semaines"),n.k0s(),n.j41(30,"th",9),n.EFF(31,"10 semaines"),n.k0s(),n.j41(32,"th",9),n.EFF(33,"14 semaines"),n.k0s(),n.j41(34,"th",9),n.EFF(35,"9 mois"),n.k0s(),n.j41(36,"th",9),n.EFF(37,"15 mois"),n.k0s()(),n.j41(38,"tr",6)(39,"th",11),n.EFF(40,"RECO"),n.k0s(),n.j41(41,"th",11),n.EFF(42,"Parent"),n.k0s(),n.j41(43,"th",11),n.EFF(44,"Voisin"),n.k0s(),n.DNE(45,fa,2,0,"th",12)(46,ua,2,1,"th",13),n.j41(47,"th",11),n.EFF(48,"BCG"),n.k0s(),n.j41(49,"th",11),n.EFF(50,"VPO_0"),n.k0s(),n.j41(51,"th",11),n.EFF(52,"PENTA_1"),n.k0s(),n.j41(53,"th",11),n.EFF(54,"VPO_1"),n.k0s(),n.j41(55,"th",11),n.EFF(56,"PENTA_2"),n.k0s(),n.j41(57,"th",11),n.EFF(58,"VPO_2"),n.k0s(),n.j41(59,"th",11),n.EFF(60,"PENTA_3"),n.k0s(),n.j41(61,"th",11),n.EFF(62,"VPO_3"),n.k0s(),n.j41(63,"th",11),n.EFF(64,"VPI_1"),n.k0s(),n.j41(65,"th",11),n.EFF(66,"VAR_1"),n.k0s(),n.j41(67,"th",11),n.EFF(68,"VAA"),n.k0s(),n.j41(69,"th",11),n.EFF(70,"VPI_2"),n.k0s(),n.j41(71,"th",11),n.EFF(72,"MEN_A"),n.k0s(),n.j41(73,"th",11),n.EFF(74,"VAR_2"),n.k0s()()(),n.j41(75,"tbody"),n.DNE(76,si,8,10,"ng-container",14),n.k0s()()(),n.j41(77,"dashboards-pagination-table",15),n.bIt("onPageChanged",function(i){n.eBV(t);const _=n.XpG();return n.Njj(_.onUpdatedPaginate(i))}),n.k0s(),n.bVm()}if(2&e){const t=n.XpG();n.R7$(4),n.Y8G("id","vaccination-table-header")("REPPORT_NAME",t.DASHBOARD_NAME)("CHANGE_STATE",t.CHANGE_STATE)("TABLE_ID","vaccination-table")("SHOW_EXPORT_TABLE_BTN",!0),n.R7$(),n.Y8G("ngIf",t.showGeneralCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",t.showGeneralCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(5),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("rowSpan",2),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("ngIf",t.showOneByOneCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(),n.Y8G("colSpan",2),n.R7$(2),n.Y8G("colSpan",2),n.R7$(2),n.Y8G("colSpan",2),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("colSpan",3),n.R7$(2),n.Y8G("colSpan",2),n.R7$(9),n.Y8G("ngIf",t.showOneByOneCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(),n.Y8G("ngIf",t.showOneByOneCallAndSmsButton&&1==(null==t.USER||null==t.USER.role?null:t.USER.role.canSendSms)),n.R7$(30),n.Y8G("ngForOf",t.PAGINATION_DATA),n.R7$(),n.Y8G("id","pagination-vaccination")("PAGINATION_DATA",t.DATA_FETCHED)}}function li(e,a){1&e&&(n.qex(0),n.j41(1,"h1",32),n.EFF(2," Pas de donn\xe9es, appliquer le filtre ! "),n.k0s(),n.bVm())}let pi=(()=>{class e extends A{constructor(t,o,i,_,s,c){super(i,_,s,c,(l,R)=>(0,D.H)(this.ldbfetch.GetRecoVaccinationNotDoneDashboard(l,R))),this.ldbfetch=t,this.mService=o,this.DASHBOARD_NAME="RECOS_VACCINES_NOT_DONE",this.showGeneralCallAndSmsButton=!0,this.showOneByOneCallAndSmsButton=!0,this.PAGINATION_DATA=[]}onUpdatedPaginate(t){this.PAGINATION_DATA=t}get DATA_FETCHED(){return this.DASHBOARDS_DATA[this.DASHBOARD_NAME]?.data??[]}sendSms(t,o){var i=this;return(0,G.A)(function*(){t.preventDefault();let _=[];if(o)(0,b.TM)(o.phone)&&(_=[v(o.phone)]);else for(const s of i.DATA_FETCHED)for(const c of s)if((0,b.TM)(c.parent_phone)){const l=v(c.parent_phone);_.includes(l)||_.push(l)}if(!(_.length>0))return i.snackbar.show({msg:"Numero de t\xe9l\xe9phone invalide",color:"danger",duration:5e3});i.mService.open(Y,{data:{DATAS:_,isCustomSms:!1}}).subscribe(s=>{if(s)return i.snackbar.show(s.success?{msg:"M\xe9ssage envoy\xe9 avec succ\xe8s",color:"success",duration:3e3}:{msg:s.errorMsg||"M\xe9ssage non envoy\xe9",color:"danger",duration:5e3})})})()}sendCustomSms(t,o){var i=this;return(0,G.A)(function*(){t.preventDefault();let _=[];if(_=i.getVaccineInfos(o?[[o.vaccine]]:i.DATA_FETCHED),!(_.length>0))return i.snackbar.show({msg:"Numero de t\xe9l\xe9phone invalide",color:"danger",duration:5e3});i.mService.open(Y,{data:{DATAS:_,isCustomSms:!0}}).subscribe(s=>{if(s)return i.snackbar.show(s.success?{msg:"M\xe9ssage envoy\xe9 avec succ\xe8s",color:"success",duration:3e3}:{msg:s.errorMsg||"M\xe9ssage non envoy\xe9",color:"danger",duration:5e3})})})()}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(C.F),n.rXU(F.B),n.rXU(f.z),n.rXU(T.T),n.rXU(u.z),n.rXU(h.i))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["reco-vaccinations-not-done-dashboard"]],standalone:!1,features:[n.Vt3],decls:3,vars:3,consts:[[3,"isLoading"],[4,"ngIf"],[3,"id","REPPORT_NAME","CHANGE_STATE","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["class","sms-sender",3,"click",4,"ngIf"],[1,"table-responsive"],["id","vaccination-table",1,"table","table-bordered","table-hover"],[1,"table-head","fp-header-1"],["scope","col",3,"rowSpan"],["scope","col",1,"vaccine-big-head",3,"rowSpan"],["scope","col",1,"vaccine-big-head",3,"colSpan"],["class","vaccine-big-head","scope","col",3,"colSpan",4,"ngIf"],["scope","col",1,"vaccine-head"],["class","vaccine-head","scope","col",4,"ngIf"],["class","vaccine-head","scope","col",3,"colSpan",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"onPageChanged","id","PAGINATION_DATA"],[1,"sms-sender",3,"click"],["scope","col",1,"vaccine-head",3,"colSpan"],["scope","row"],[3,"class",4,"ngIf"],[3,"ngClass","innerHTML",4,"ngIf"],["class","call-sms",3,"href",4,"ngIf"],[1,"call-sms",3,"href"],[1,"fas","fa-phone"],["class","fas fa-comment-dots call-sms",3,"click",4,"ngIf"],[1,"fas","fa-comment-dots","call-sms",3,"click"],["class","fas fa-sms call-sms",3,"click",4,"ngIf"],[1,"fas","fa-sms","call-sms",3,"click"],[3,"ngClass","innerHTML"],["class","many-child",4,"ngIf"],[1,"many-child"],[2,"font-weight","normal!important"],[2,"margin-top","150px","width","100%","text-align","center","color","brown"]],template:function(o,i){1&o&&(n.nrm(0,"app-sample-loader",0),n.DNE(1,ri,78,26,"ng-container",1)(2,li,3,0,"ng-container",1)),2&o&&(n.Y8G("isLoading",i.IS_FILTER_LOADING),n.R7$(),n.Y8G("ngIf",i.DATA_FETCHED&&i.DATA_FETCHED.length>0),n.R7$(),n.Y8G("ngIf",!i.DATA_FETCHED||i.DATA_FETCHED&&0==i.DATA_FETCHED.length))},dependencies:[p.E,p.G,p.I,S,N,V,j],styles:['.vaccine-big-head[_ngcontent-%COMP%]{padding:2px!important;text-align:center!important}.vaccine-head[_ngcontent-%COMP%]{font-size:14px!important;width:50px!important;padding:2px!important}.vaccine-on[_ngcontent-%COMP%]{text-align:center!important;font-size:18px!important;font-weight:700!important;color:green!important;padding:2px 0 0!important}.vaccine-off[_ngcontent-%COMP%]{text-align:center!important;font-size:20px!important;font-weight:700!important;color:brown!important;padding:0!important}.vaccine-NA[_ngcontent-%COMP%]{text-align:center!important;font-size:14px!important;font-weight:700!important;color:#d7d7d7!important;padding:5px 0 0!important}.many-child[_ngcontent-%COMP%]{background:#f0fbff!important}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:left;position:relative}td[data-tooltip][_ngcontent-%COMP%]:not([data-tooltip=""]):hover:after{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translate(-50%);background-color:#000c;color:#fff;padding:6px 10px;border-radius:4px;font-size:14px;white-space:nowrap;z-index:10;opacity:0;visibility:hidden;transition:opacity .3s ease-in-out}td[data-tooltip][_ngcontent-%COMP%]:not([data-tooltip=""]):hover:after{opacity:1;visibility:visible}.call-sms[_ngcontent-%COMP%]{display:inline-block;color:#00f;text-decoration:none;text-align:center}.sms-sender[_ngcontent-%COMP%]{display:inline-block;padding:5px 12px;background-color:#4caf50;color:#fff;border-radius:8px;text-decoration:none;font-weight:700;margin:5px}.sms-sender[_ngcontent-%COMP%]:hover{background-color:#45a049}@media (max-width: 991px){*[_ngcontent-%COMP%]{font-size:13px!important}}']})}}return e})();const gi=[{path:"",redirectTo:"monthly",pathMatch:"full"},{path:"monthly",component:Dt,canActivate:[P.d],data:{href:"dashboards/monthly",title:"TABLEAUX DE BORD MENSUEL",access:["can_view_dashboards"]}},{path:"realtime",component:(()=>{class e{constructor(){this.CHANGE_STATE=null,(0,b.Ey)()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["dashboards-realtime-view"]],standalone:!1,decls:15,vars:4,consts:[[3,"CHANGE_STATE"],[1,"nav-tabs"],["data-target","VACCINS_NOT_DONE",1,"tab-link","active"],["data-target","VACCINS_PARTIAL_DONE",1,"tab-link"],["data-target","VACCINS_ALL_DONE",1,"tab-link"],[1,"tab-content"],["id","VACCINS_NOT_DONE",1,"view","active"],["id","VACCINS_PARTIAL_DONE",1,"view"],["id","VACCINS_ALL_DONE",1,"view"]],template:function(o,i){1&o&&(n.nrm(0,"dashboards-orgunits-realtime-filter",0),n.j41(1,"div",1)(2,"button",2),n.EFF(3,"ETAT VACCINS NON AJOUR"),n.k0s(),n.j41(4,"button",3),n.EFF(5,"ETAT VACCINS PARTIEL"),n.k0s(),n.j41(6,"button",4),n.EFF(7,"ETAT VACCINS AJOURS"),n.k0s()(),n.j41(8,"div",5)(9,"div",6),n.nrm(10,"reco-vaccinations-not-done-dashboard",0),n.k0s(),n.j41(11,"div",7),n.nrm(12,"reco-vaccinations-partial-done-dashboard",0),n.k0s(),n.j41(13,"div",8),n.nrm(14,"reco-vaccinations-all-done-dashboard",0),n.k0s()()),2&o&&(n.Y8G("CHANGE_STATE",i.CHANGE_STATE),n.R7$(10),n.Y8G("CHANGE_STATE",i.CHANGE_STATE),n.R7$(2),n.Y8G("CHANGE_STATE",i.CHANGE_STATE),n.R7$(2),n.Y8G("CHANGE_STATE",i.CHANGE_STATE))},dependencies:[te,to,ta,pi],styles:["@media (max-width: 991px){*[_ngcontent-%COMP%]{font-size:13px!important}}"]})}}return e})(),canActivate:[P.d],data:{href:"dashboards/realtime",title:"TABLEAUX DE BORD ANNUEL",access:["can_view_dashboards"]}}];let mi=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[M.m.forChild(gi),M.m]})}}return e})();var hi=r(3887),fi=r(3268);let ui=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[p.D,d.X1,mi,hi.G,fi.o]})}}return e})()}}]);