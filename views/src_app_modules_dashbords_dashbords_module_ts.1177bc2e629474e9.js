"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([["src_app_modules_dashbords_dashbords_module_ts"],{9554:(oe,b,l)=>{l.r(b),l.d(b,{DashboardsModule:()=>se});var f=l(6610),r=l(7222),G=l(1402),a=l(3681),t=l(3279),p=l(4434),m=l(7200),_=l(4451),g=l(4796),v=l(2365);function C(i,o){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"region")),t.R7$(),t.SpI(" ",e.name," ")}}function F(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",23)(1,"select",24),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.prefecturesGenerate())}),t.DNE(2,C,2,3,"option",25),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.regions)}}function T(i,o){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"prefecture")),t.R7$(),t.SpI(" ",e.name," ")}}function k(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",23)(1,"select",27),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.communesGenerate())}),t.DNE(2,T,2,3,"option",25),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.prefectures)}}function E(i,o){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"commune")),t.R7$(),t.SpI(" ",e.name," ")}}function y(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",23)(1,"select",28),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.hospitalsGenerate())}),t.DNE(2,E,2,3,"option",25),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.communes)}}function D(i,o){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"hospital")),t.R7$(),t.SpI(" ",e.name," ")}}function M(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",23)(1,"select",29),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.districtsGenerate())}),t.DNE(2,D,2,3,"option",25),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.hospitals)}}function w(i,o){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"district_quartier")),t.R7$(),t.SpI(" ",e.name," ")}}function S(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",23)(1,"select",30),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.recosGenerate())}),t.DNE(2,w,2,3,"option",25),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.districtQuartiers)}}function j(i,o){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"recos")),t.R7$(),t.SpI(" ",e.name," ")}}function I(i,o){if(1&i&&(t.j41(0,"div",23)(1,"select",31),t.DNE(2,j,2,3,"option",25),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.recos)}}function Y(i,o){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e)("selected",s.isSelected(e,"year")),t.R7$(),t.SpI(" ",e," ")}}function P(i,o){if(1&i&&(t.j41(0,"div",23)(1,"select",32),t.DNE(2,Y,2,3,"option",25),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.Years$)}}function H(i,o){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.HbH(s.isSelected(e.id,"month")?"selected":""),t.Y8G("value",e.id)("selected",s.isSelected(e.id,"month")),t.R7$(),t.SpI(" ",e.labelFR," ")}}function x(i,o){if(1&i&&(t.j41(0,"div",23)(1,"select",33),t.DNE(2,H,2,6,"option",34),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.Months$)}}function V(i,o){1&i&&t.nrm(0,"span",35)}function O(i,o){if(1&i&&(t.j41(0,"tr")(1,"th",37),t.EFF(2),t.k0s(),t.j41(3,"th"),t.EFF(4),t.k0s(),t.j41(5,"th"),t.EFF(6),t.k0s(),t.j41(7,"th"),t.EFF(8),t.k0s(),t.j41(9,"th"),t.EFF(10),t.k0s(),t.j41(11,"th"),t.EFF(12),t.k0s(),t.j41(13,"th"),t.EFF(14),t.k0s(),t.j41(15,"th"),t.EFF(16),t.k0s(),t.j41(17,"th"),t.EFF(18),t.k0s()()),2&i){const e=o.$implicit,s=t.XpG(2);t.R7$(2),t.JRh(e.index),t.R7$(2),t.JRh(e.label),t.R7$(),t.HbH(s.quantityStyle(e.available_stock)),t.R7$(),t.JRh(e.available_stock),t.R7$(),t.HbH(s.quantityStyle(e.month_stock)),t.R7$(),t.JRh(e.month_stock),t.R7$(),t.HbH(s.quantityStyle(e.consumption)),t.R7$(),t.JRh(e.consumption),t.R7$(),t.HbH(s.quantityStyle(e.loss)),t.R7$(),t.JRh(e.loss),t.R7$(),t.HbH(s.quantityStyle(e.damaged)),t.R7$(),t.JRh(e.damaged),t.R7$(),t.HbH(s.quantityStyle(e.broken)),t.R7$(),t.JRh(e.broken),t.R7$(),t.HbH(s.quantityStyle(e.obselete)),t.R7$(),t.JRh(e.obselete)}}function N(i,o){if(1&i&&(t.j41(0,"tbody"),t.DNE(1,O,19,30,"tr",36),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.RECO_MEG$)}}let A=(()=>{class i{constructor(e,s,n,h,c){this.urlT=e,this.ldbfetch=s,this.userCtx=n,this.auth=h,this.snackbar=c,this.Months$=[],this.Years$=[],this.data_syncing=!1,this.Countries$=[],this.Regions$=[],this.Prefectures$=[],this.Communes$=[],this.Hospitals$=[],this.DistrictQuartiers$=[],this.VillageSecteurs$=[],this.Chws$=[],this.Recos$=[],this.countries=[],this.regions=[],this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.villageSecteurs=[],this.chws=[],this.recos=[],this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4,this.getCurrentUserCtx()}ngAfterViewInit(){setTimeout(()=>{this.countriesGenerate(),this.regionsGenerate(),this.prefecturesGenerate(),this.communesGenerate(),this.hospitalsGenerate(),this.districtsGenerate(),this.recosGenerate()})}onResize(e){this.screenWidth=window.innerWidth}ngOnInit(){this.year$=(0,a.vW)(),this.month$=(0,a.Ej)(),this.Months$=(0,a.kT)().filter(e=>this.month$&&e.uid<=this.month$.uid),this.Years$=(0,a.DE)().filter(e=>this.year$&&e<=this.year$),this._formGroup=this.CreateFormGroup()}getCurrentUserCtx(){const e=this.userCtx.currentUserCtx;this.Countries$.length>0||(this.Countries$=e?.countries??[]),this.Regions$.length>0||(this.Regions$=e?.regions??[]),this.Prefectures$.length>0||(this.Prefectures$=e?.prefectures??[]),this.Communes$.length>0||(this.Communes$=e?.communes??[]),this.Hospitals$.length>0||(this.Hospitals$=e?.hospitals??[]),this.DistrictQuartiers$.length>0||(this.DistrictQuartiers$=e?.districtQuartiers??[]),this.VillageSecteurs$.length>0||(this.VillageSecteurs$=e?.villageSecteurs??[]),this.Chws$.length>0||(this.Chws$=e?.chws??[]),this.Recos$.length>0||(this.Recos$=e?.recos??[])}CreateFormGroup(){const e={year:new r.MJ(this.year$,[r.k0.required]),months:new r.MJ(this.month$.id,[r.k0.required])};return this.Countries$.length>1&&(e.country=new r.MJ("",[r.k0.required])),this.Regions$.length>1&&(e.region=new r.MJ("",[r.k0.required])),this.Prefectures$.length>1&&(e.prefecture=new r.MJ("",[r.k0.required])),this.Communes$.length>1&&(e.commune=new r.MJ("",[r.k0.required])),this.Hospitals$.length>1&&(e.hospital=new r.MJ("",[r.k0.required])),this.DistrictQuartiers$.length>1&&(e.district_quartier=new r.MJ("",[r.k0.required])),this.Recos$.length>1&&(e.recos=new r.MJ("",[r.k0.required])),new r.gE(e)}isSelected(e,s){return"year"===s?this._formGroup.value.year===e:"month"===s?(0,a.$r)(this._formGroup.value.months).includes(`${e}`):"country"===s?this._formGroup.value.country===e:"region"===s?this._formGroup.value.region===e:"prefecture"===s?this._formGroup.value.prefecture===e:"commune"===s?this._formGroup.value.commune===e:"hospital"===s?this._formGroup.value.hospital===e:"district_quartier"===s?this._formGroup.value.district_quartier===e:"recos"===s&&this._formGroup.value.recos.includes(`${e}`)}countriesGenerate(){this.countries=this.Countries$,1===this.Countries$.length&&(this._formGroup.value.country=this.Countries$[0].id)}regionsGenerate(){this.Countries$.length>0?this.Regions$.length>1&&(0,a.TM)(this._formGroup.value.country)?this.regions=this.Regions$.filter(e=>e.country_id===this._formGroup.value.country):1===this.Regions$.length?(this.regions=this.Regions$,this._formGroup.value.region=this.Regions$[0].id):this.regions=[]:this.Regions$.length>=1?(this.regions=this.Regions$,1===this.Regions$.length&&(this._formGroup.value.region=this.Regions$[0].id)):this.regions=[]}prefecturesGenerate(){this.Regions$.length>0?this.Prefectures$.length>1&&(0,a.TM)(this._formGroup.value.region)?this.prefectures=this.Prefectures$.filter(e=>e.region_id===this._formGroup.value.region):1===this.Prefectures$.length?(this.prefectures=this.Prefectures$,this._formGroup.value.prefecture=this.Prefectures$[0].id):this.prefectures=[]:this.Prefectures$.length>=1?(this.prefectures=this.Prefectures$,1===this.Prefectures$.length&&(this._formGroup.value.prefecture=this.Prefectures$[0].id)):this.prefectures=[]}communesGenerate(){this.Prefectures$.length>0?this.Communes$.length>1&&(0,a.TM)(this._formGroup.value.prefecture)?this.communes=this.Communes$.filter(e=>e.prefecture_id===this._formGroup.value.prefecture):1===this.Communes$.length?(this.communes=this.Communes$,this._formGroup.value.commune=this.Communes$[0].id):this.communes=[]:this.Communes$.length>=1?(this.communes=this.Communes$,1===this.Communes$.length&&(this._formGroup.value.commune=this.Communes$[0].id)):this.communes=[]}hospitalsGenerate(){this.Communes$.length>0?this.Hospitals$.length>1&&(0,a.TM)(this._formGroup.value.commune)?this.hospitals=this.Hospitals$.filter(e=>e.commune_id===this._formGroup.value.commune):1===this.Hospitals$.length?(this.hospitals=this.Hospitals$,this._formGroup.value.hospital=this.Hospitals$[0].id):this.hospitals=[]:this.Hospitals$.length>=1?(this.hospitals=this.Hospitals$,1===this.Hospitals$.length&&(this._formGroup.value.hospital=this.Hospitals$[0].id)):this.hospitals=[]}districtsGenerate(){this.Hospitals$.length>0?this.DistrictQuartiers$.length>1&&(0,a.TM)(this._formGroup.value.hospital)?this.districtQuartiers=this.DistrictQuartiers$.filter(e=>e.hospital_id===this._formGroup.value.hospital):1===this.DistrictQuartiers$.length?(this.districtQuartiers=this.DistrictQuartiers$,this._formGroup.value.district_quartier=this.DistrictQuartiers$[0].id):this.districtQuartiers=[]:this.DistrictQuartiers$.length>=1?(this.districtQuartiers=this.DistrictQuartiers$,1===this.DistrictQuartiers$.length&&(this._formGroup.value.district_quartier=this.DistrictQuartiers$[0].id)):this.districtQuartiers=[]}chwsGenerate(){this.DistrictQuartiers$.length>0?this.Chws$.length>1&&(0,a.TM)(this._formGroup.value.district_quartier)?this.chws=this.Chws$.filter(e=>e.district_quartier_id===this._formGroup.value.district_quartier):1===this.Chws$.length?(this.chws=this.Chws$,this._formGroup.value.chw=this.Chws$[0].id):this.chws=[]:this.Chws$.length>=1?(this.chws=this.Chws$,1===this.Chws$.length&&(this._formGroup.value.chw=this.Chws$[0].id)):this.chws=[]}villagesGenerate(){this.DistrictQuartiers$.length>0?(this.VillageSecteurs$.length>1&&(0,a.TM)(this._formGroup.value.district_quartier)?this.villageSecteurs=this.VillageSecteurs$.filter(e=>e.district_quartier_id===this._formGroup.value.district_quartier):1===this.VillageSecteurs$.length?(this.villageSecteurs=this.VillageSecteurs$,this._formGroup.value.village_secteur=this.VillageSecteurs$[0].id):this.villageSecteurs=[],this.villageSecteurs=[]):this.VillageSecteurs$.length>=1?(this.villageSecteurs=this.VillageSecteurs$,1===this.VillageSecteurs$.length&&(this._formGroup.value.village_secteur=this.VillageSecteurs$[0].id)):this.villageSecteurs=[]}recosGenerate(){this.DistrictQuartiers$.length>0?this.Recos$.length>1&&(0,a.TM)(this._formGroup.value.district_quartier)?this.recos=this.Recos$.filter(e=>e.district_quartier_id===this._formGroup.value.district_quartier):1===this.Recos$.length?(this.recos=this.Recos$,this._formGroup.value.recos=this.Recos$[0].id):this.recos=[]:this.Recos$.length>=1?(this.recos=this.Recos$,1===this.Recos$.length&&(this._formGroup.value.recos=this.Recos$[0].id)):this.recos=[]}quantityStyle(e){return e<0?"quantity-error":e>0?"quantity-up":"quantity-down"}SHOW_DATA(e){e.preventDefault(),this._formGroup.value.recos.length>0?(0,a.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.data_syncing=!0,this._formGroup.value.months=(0,a.$r)(this._formGroup.value.months),this.ldbfetch.GetRecoMegDashboard(this._formGroup.value).then(s=>{this.RECO_MEG$=s?.data,this.MONTH=(0,a.Ab)(this._formGroup.value.month).labelFR,this.YEAR=this._formGroup.value.year,s||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.data_syncing=!1},s=>{this.data_syncing=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(p.h),t.rXU(m.F),t.rXU(_.i),t.rXU(g.u),t.rXU(v.z))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["reco-meg-stock"]],hostBindings:function(s,n){1&s&&t.bIt("resize",function(c){return n.onResize(c)},!1,t.tSv)},decls:54,vars:14,consts:[[1,"row","g-4",2,"margin","0px 5px 0px 5px"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[1,"rounded","p-6"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],["class","col-sm-2 col-xl-2",4,"ngIf"],[1,"col-sm-3","col-xl-2"],[1,"btn","btn-info",2,"width","100%",3,"disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],[1,"table-responsive",2,"padding-top","20px"],[1,"table","table-bordered","table-hover"],[1,"no-border"],["colspan","9",2,"height","30px!important"],[2,"color","black!important","text-align","left!important"],["colspan","9",1,"separation"],[1,"table-head","fp-header-1"],["rowspan","2","scope","col",2,"width","3%"],["rowspan","2","scope","col"],["rowspan","2","scope","col",2,"width","10%"],["colspan","6",2,"text-align","center"],["scope","col",2,"width","10%"],[4,"ngIf"],[1,"col-sm-2","col-xl-2"],["formControlName","region",1,"orgunit-style","form-select","mb-2",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["formControlName","prefecture",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","commune",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","hospital",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","district_quartier",1,"orgunit-style","form-select","mb-2",3,"change"],["multiple","","formControlName","recos",1,"orgunit-style","form-select","mb-2"],["formControlName","year",1,"orgunit-style","form-select","mb-2"],["formControlName","months",1,"orgunit-style","form-select","mb-2"],[3,"class","value","selected",4,"ngFor","ngForOf"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),t.bIt("ngSubmit",function(c){return n.SHOW_DATA(c)}),t.j41(5,"div",5),t.DNE(6,F,3,1,"div",6)(7,k,3,1,"div",6)(8,y,3,1,"div",6)(9,M,3,1,"div",6)(10,S,3,1,"div",6)(11,I,3,1,"div",6)(12,P,3,1,"div",6)(13,x,3,1,"div",6),t.j41(14,"div",7)(15,"button",8),t.EFF(16," Charger "),t.DNE(17,V,1,0,"span",9),t.k0s()()()()(),t.j41(18,"div",10)(19,"table",11)(20,"thead",12)(21,"tr")(22,"td",13)(23,"h5",14),t.EFF(24," SITUATION MEG STOCK DES RECO "),t.k0s()()()(),t.j41(25,"tr",12),t.nrm(26,"td",15),t.k0s(),t.j41(27,"thead")(28,"tr",16)(29,"th",17),t.EFF(30,"N\xb0"),t.k0s(),t.j41(31,"th",18),t.EFF(32,"MEG / INTRANTS"),t.k0s(),t.j41(33,"th",19)(34,"b"),t.EFF(35,"Stock disponible"),t.k0s()(),t.j41(36,"th",20),t.EFF(37,"MOUVEMENT MEG / INTRANTS DE "),t.j41(38,"b"),t.EFF(39),t.k0s()()(),t.j41(40,"tr",16)(41,"th",21),t.EFF(42,"Entr\xe9 en stock"),t.k0s(),t.j41(43,"th",21),t.EFF(44,"Distribu\xe9"),t.k0s(),t.j41(45,"th",21),t.EFF(46,"Perdu"),t.k0s(),t.j41(47,"th",21),t.EFF(48,"Endomag\xe9"),t.k0s(),t.j41(49,"th",21),t.EFF(50,"Cass\xe9"),t.k0s(),t.j41(51,"th",21),t.EFF(52,"P\xe9rim\xe9"),t.k0s()()(),t.DNE(53,N,2,1,"tbody",22),t.k0s()()()()()),2&s&&(t.R7$(4),t.Y8G("formGroup",n._formGroup),t.R7$(2),t.Y8G("ngIf",n.Regions$.length>1),t.R7$(),t.Y8G("ngIf",n.Prefectures$.length>1),t.R7$(),t.Y8G("ngIf",n.Communes$.length>1),t.R7$(),t.Y8G("ngIf",n.Hospitals$.length>1),t.R7$(),t.Y8G("ngIf",n.DistrictQuartiers$.length>1),t.R7$(),t.Y8G("ngIf",n.Recos$.length>1),t.R7$(),t.Y8G("ngIf",n.Years$.length>0),t.R7$(),t.Y8G("ngIf",n.Months$.length>0),t.R7$(2),t.Y8G("disabled",n.data_syncing),t.R7$(2),t.Y8G("ngIf",n.data_syncing),t.R7$(22),t.Lme("",n.MONTH," / ",n.YEAR,""),t.R7$(14),t.Y8G("ngIf",n.RECO_MEG$))},dependencies:[f.Sq,f.bT,r.qT,r.xH,r.y7,r.wz,r.W0,r.BC,r.cb,r.j4,r.JD],styles:[".dark-back[_ngcontent-%COMP%]{background-color:#000!important}.no-border[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none!important}.separation[_ngcontent-%COMP%]{border:none!important;height:10px!important}.org-units[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#5e5e5e!important;text-decoration:none;border-bottom:2px dashed!important}.table-head[_ngcontent-%COMP%]{background-color:#dffcf2!important;color:#5e5e5e!important}.quantity-up[_ngcontent-%COMP%]{color:#05002d;font-weight:700}.quantity-down[_ngcontent-%COMP%]{color:#b5b5b5}.quantity-error[_ngcontent-%COMP%]{color:#ff7070}.load-data[_ngcontent-%COMP%]{position:absolute;top:20;right:0;width:300px;margin-right:20px}.selected[_ngcontent-%COMP%]{background-color:#bae5ff!important}.orgunit-style[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}"]})}return i})();var R=l(3111);function X(i,o){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"region")),t.R7$(),t.SpI(" ",e.name," ")}}function q(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",21)(1,"select",22),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.prefecturesGenerate())}),t.DNE(2,X,2,3,"option",23),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.regions)}}function Q(i,o){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"prefecture")),t.R7$(),t.SpI(" ",e.name," ")}}function J(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",21)(1,"select",25),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.communesGenerate())}),t.DNE(2,Q,2,3,"option",23),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.prefectures)}}function B(i,o){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"commune")),t.R7$(),t.SpI(" ",e.name," ")}}function L(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",21)(1,"select",26),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.hospitalsGenerate())}),t.DNE(2,B,2,3,"option",23),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.communes)}}function U(i,o){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"hospital")),t.R7$(),t.SpI(" ",e.name," ")}}function z(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",21)(1,"select",27),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.districtsGenerate())}),t.DNE(2,U,2,3,"option",23),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.hospitals)}}function W(i,o){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"district_quartier")),t.R7$(),t.SpI(" ",e.name," ")}}function Z(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",21)(1,"select",28),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.recosGenerate())}),t.DNE(2,W,2,3,"option",23),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.districtQuartiers)}}function K(i,o){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"recos")),t.R7$(),t.SpI(" ",e.name," ")}}function tt(i,o){if(1&i&&(t.j41(0,"div",21)(1,"select",29),t.DNE(2,K,2,3,"option",23),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.recos)}}function et(i,o){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e)("selected",s.isSelected(e,"year")),t.R7$(),t.SpI(" ",e," ")}}function it(i,o){if(1&i&&(t.j41(0,"div",21)(1,"select",30),t.DNE(2,et,2,3,"option",23),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.Years$)}}function st(i,o){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.HbH(s.isSelected(e.id,"month")?"selected":""),t.Y8G("value",e.id)("selected",s.isSelected(e.id,"month")),t.R7$(),t.SpI(" ",e.labelFR," ")}}function ot(i,o){if(1&i&&(t.j41(0,"div",21)(1,"select",31),t.DNE(2,st,2,6,"option",32),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.Months$)}}function nt(i,o){1&i&&t.nrm(0,"span",33)}function rt(i,o){if(1&i&&(t.j41(0,"div",34)(1,"div",35)(2,"div",36)(3,"h6",37),t.EFF(4,"Total M\xe9nages"),t.k0s(),t.j41(5,"h3",38),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.householdCount)}}function at(i,o){if(1&i&&(t.j41(0,"div",34)(1,"div",35)(2,"div",39)(3,"h6",37),t.EFF(4,"Total Patients"),t.k0s(),t.j41(5,"h3",38),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.patientCount)}}function ct(i,o){if(1&i&&(t.j41(0,"div",34)(1,"div",35)(2,"div",39)(3,"h6",37),t.EFF(4,"Total 0 \xe0 2 mois"),t.k0s(),t.j41(5,"h3",38),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.newborn0To2MonthsCount)}}function ht(i,o){if(1&i&&(t.j41(0,"div",34)(1,"div",35)(2,"div",39)(3,"h6",37),t.EFF(4,"Total 2 \xe0 60 mois"),t.k0s(),t.j41(5,"h3",38),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.child2To60MonthsCount)}}function lt(i,o){if(1&i&&(t.j41(0,"div",34)(1,"div",35)(2,"div",39)(3,"h6",37),t.EFF(4,"Total 5 \xe0 14 ans"),t.k0s(),t.j41(5,"h3",38),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.child5To14YearsCount)}}function ut(i,o){if(1&i&&(t.j41(0,"div",34)(1,"div",35)(2,"div",39)(3,"h6",37),t.EFF(4,"Total > \xe0 14 ans"),t.k0s(),t.j41(5,"h3",38),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.adultOver14YearsCount)}}function ft(i,o){if(1&i&&(t.j41(0,"div",34)(1,"div",35)(2,"div",39)(3,"h6",37),t.EFF(4,"Total consultations"),t.k0s(),t.j41(5,"h3",38),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.consultationCount)}}function dt(i,o){if(1&i&&(t.j41(0,"div",34)(1,"div",35)(2,"div",39)(3,"h6",37),t.EFF(4,"Total des suivis"),t.k0s(),t.j41(5,"h3",38),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.followupCount)}}function pt(i,o){if(1&i&&(t.j41(0,"div",34)(1,"div",35)(2,"div",39)(3,"h6",37),t.EFF(4,"Total des Actions"),t.k0s(),t.j41(5,"h3",38),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.allActionsCount)}}let mt=(()=>{class i{constructor(e,s,n,h,c){this.urlT=e,this.ldbfetch=s,this.userCtx=n,this.auth=h,this.snackbar=c,this.Months$=[],this.Years$=[],this.data_syncing=!1,this.Countries$=[],this.Regions$=[],this.Prefectures$=[],this.Communes$=[],this.Hospitals$=[],this.DistrictQuartiers$=[],this.VillageSecteurs$=[],this.Chws$=[],this.Recos$=[],this.countries=[],this.regions=[],this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.villageSecteurs=[],this.chws=[],this.recos=[],this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4,this.getCurrentUserCtx()}ngAfterViewInit(){setTimeout(()=>{this.countriesGenerate(),this.regionsGenerate(),this.prefecturesGenerate(),this.communesGenerate(),this.hospitalsGenerate(),this.districtsGenerate(),this.recosGenerate()})}onResize(e){this.screenWidth=window.innerWidth}ngOnInit(){this.year$=(0,a.vW)(),this.month$=(0,a.Ej)(),this.Months$=(0,a.kT)().filter(e=>this.month$&&e.uid<=this.month$.uid),this.Years$=(0,a.DE)().filter(e=>this.year$&&e<=this.year$),this._formGroup=this.CreateFormGroup()}getCurrentUserCtx(){const e=this.userCtx.currentUserCtx;this.Countries$.length>0||(this.Countries$=e?.countries??[]),this.Regions$.length>0||(this.Regions$=e?.regions??[]),this.Prefectures$.length>0||(this.Prefectures$=e?.prefectures??[]),this.Communes$.length>0||(this.Communes$=e?.communes??[]),this.Hospitals$.length>0||(this.Hospitals$=e?.hospitals??[]),this.DistrictQuartiers$.length>0||(this.DistrictQuartiers$=e?.districtQuartiers??[]),this.VillageSecteurs$.length>0||(this.VillageSecteurs$=e?.villageSecteurs??[]),this.Chws$.length>0||(this.Chws$=e?.chws??[]),this.Recos$.length>0||(this.Recos$=e?.recos??[])}CreateFormGroup(){const e={year:new r.MJ(this.year$,[r.k0.required]),months:new r.MJ(this.month$.id,[r.k0.required])};return this.Countries$.length>1&&(e.country=new r.MJ("",[r.k0.required])),this.Regions$.length>1&&(e.region=new r.MJ("",[r.k0.required])),this.Prefectures$.length>1&&(e.prefecture=new r.MJ("",[r.k0.required])),this.Communes$.length>1&&(e.commune=new r.MJ("",[r.k0.required])),this.Hospitals$.length>1&&(e.hospital=new r.MJ("",[r.k0.required])),this.DistrictQuartiers$.length>1&&(e.district_quartier=new r.MJ("",[r.k0.required])),this.Recos$.length>1&&(e.recos=new r.MJ("",[r.k0.required])),new r.gE(e)}isSelected(e,s){return"year"===s?this._formGroup.value.year===e:"month"===s?(0,a.$r)(this._formGroup.value.months).includes(`${e}`):"country"===s?this._formGroup.value.country===e:"region"===s?this._formGroup.value.region===e:"prefecture"===s?this._formGroup.value.prefecture===e:"commune"===s?this._formGroup.value.commune===e:"hospital"===s?this._formGroup.value.hospital===e:"district_quartier"===s?this._formGroup.value.district_quartier===e:"recos"===s&&this._formGroup.value.recos.includes(`${e}`)}countriesGenerate(){this.countries=this.Countries$,1===this.Countries$.length&&(this._formGroup.value.country=this.Countries$[0].id)}regionsGenerate(){this.Countries$.length>0?this.Regions$.length>1&&(0,a.TM)(this._formGroup.value.country)?this.regions=this.Regions$.filter(e=>e.country_id===this._formGroup.value.country):1===this.Regions$.length?(this.regions=this.Regions$,this._formGroup.value.region=this.Regions$[0].id):this.regions=[]:this.Regions$.length>=1?(this.regions=this.Regions$,1===this.Regions$.length&&(this._formGroup.value.region=this.Regions$[0].id)):this.regions=[]}prefecturesGenerate(){this.Regions$.length>0?this.Prefectures$.length>1&&(0,a.TM)(this._formGroup.value.region)?this.prefectures=this.Prefectures$.filter(e=>e.region_id===this._formGroup.value.region):1===this.Prefectures$.length?(this.prefectures=this.Prefectures$,this._formGroup.value.prefecture=this.Prefectures$[0].id):this.prefectures=[]:this.Prefectures$.length>=1?(this.prefectures=this.Prefectures$,1===this.Prefectures$.length&&(this._formGroup.value.prefecture=this.Prefectures$[0].id)):this.prefectures=[]}communesGenerate(){this.Prefectures$.length>0?this.Communes$.length>1&&(0,a.TM)(this._formGroup.value.prefecture)?this.communes=this.Communes$.filter(e=>e.prefecture_id===this._formGroup.value.prefecture):1===this.Communes$.length?(this.communes=this.Communes$,this._formGroup.value.commune=this.Communes$[0].id):this.communes=[]:this.Communes$.length>=1?(this.communes=this.Communes$,1===this.Communes$.length&&(this._formGroup.value.commune=this.Communes$[0].id)):this.communes=[]}hospitalsGenerate(){this.Communes$.length>0?this.Hospitals$.length>1&&(0,a.TM)(this._formGroup.value.commune)?this.hospitals=this.Hospitals$.filter(e=>e.commune_id===this._formGroup.value.commune):1===this.Hospitals$.length?(this.hospitals=this.Hospitals$,this._formGroup.value.hospital=this.Hospitals$[0].id):this.hospitals=[]:this.Hospitals$.length>=1?(this.hospitals=this.Hospitals$,1===this.Hospitals$.length&&(this._formGroup.value.hospital=this.Hospitals$[0].id)):this.hospitals=[]}districtsGenerate(){this.Hospitals$.length>0?this.DistrictQuartiers$.length>1&&(0,a.TM)(this._formGroup.value.hospital)?this.districtQuartiers=this.DistrictQuartiers$.filter(e=>e.hospital_id===this._formGroup.value.hospital):1===this.DistrictQuartiers$.length?(this.districtQuartiers=this.DistrictQuartiers$,this._formGroup.value.district_quartier=this.DistrictQuartiers$[0].id):this.districtQuartiers=[]:this.DistrictQuartiers$.length>=1?(this.districtQuartiers=this.DistrictQuartiers$,1===this.DistrictQuartiers$.length&&(this._formGroup.value.district_quartier=this.DistrictQuartiers$[0].id)):this.districtQuartiers=[]}chwsGenerate(){this.DistrictQuartiers$.length>0?this.Chws$.length>1&&(0,a.TM)(this._formGroup.value.district_quartier)?this.chws=this.Chws$.filter(e=>e.district_quartier_id===this._formGroup.value.district_quartier):1===this.Chws$.length?(this.chws=this.Chws$,this._formGroup.value.chw=this.Chws$[0].id):this.chws=[]:this.Chws$.length>=1?(this.chws=this.Chws$,1===this.Chws$.length&&(this._formGroup.value.chw=this.Chws$[0].id)):this.chws=[]}villagesGenerate(){this.DistrictQuartiers$.length>0?(this.VillageSecteurs$.length>1&&(0,a.TM)(this._formGroup.value.district_quartier)?this.villageSecteurs=this.VillageSecteurs$.filter(e=>e.district_quartier_id===this._formGroup.value.district_quartier):1===this.VillageSecteurs$.length?(this.villageSecteurs=this.VillageSecteurs$,this._formGroup.value.village_secteur=this.VillageSecteurs$[0].id):this.villageSecteurs=[],this.villageSecteurs=[]):this.VillageSecteurs$.length>=1?(this.villageSecteurs=this.VillageSecteurs$,1===this.VillageSecteurs$.length&&(this._formGroup.value.village_secteur=this.VillageSecteurs$[0].id)):this.villageSecteurs=[]}recosGenerate(){this.DistrictQuartiers$.length>0?this.Recos$.length>1&&(0,a.TM)(this._formGroup.value.district_quartier)?this.recos=this.Recos$.filter(e=>e.district_quartier_id===this._formGroup.value.district_quartier):1===this.Recos$.length?(this.recos=this.Recos$,this._formGroup.value.recos=this.Recos$[0].id):this.recos=[]:this.Recos$.length>=1?(this.recos=this.Recos$,1===this.Recos$.length&&(this._formGroup.value.recos=this.Recos$[0].id)):this.recos=[]}quantityStyle(e){return e<0?"quantity-error":e>0?"quantity-up":"quantity-down"}SHOW_DATA(e){e.preventDefault(),this._formGroup.value.recos.length>0?(0,a.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.data_syncing=!0,this._formGroup.value.months=(0,a.$r)(this._formGroup.value.months),this.ldbfetch.GetRecoPerformanceDashboard(this._formGroup.value).then(s=>{this.householdCount=s?.data.householdCount??0,this.patientCount=s?.data.patientCount??0,this.newborn0To2MonthsCount=s?.data.newborn0To2MonthsCount??0,this.child2To60MonthsCount=s?.data.child2To60MonthsCount??0,this.child5To14YearsCount=s?.data.child5To14YearsCount??0,this.adultOver14YearsCount=s?.data.adultOver14YearsCount??0,this.consultationCount=s?.data.consultationCount??0,this.followupCount=s?.data.followupCount??0,this.allActionsCount=s?.data.allActionsCount??0;const n=s?.data.barChart,h=s?.data.yearBarChart,c=s?.data.yearLineChart;n&&(this.BAR_TITLE=n.title,this.generateChart({cibleId:"bar-chart",type:"bar",absisseLabels:n.absisseLabels,datasets:n.datasets})),c&&(this.YEAR_LINE_TITLE=c.title,this.generateChart({cibleId:"year-line-chart",type:"line",absisseLabels:c.absisseLabels,datasets:c.datasets})),h&&(this.YEAR_BAR_TITLE=h.title,this.generateChart({cibleId:"year-bar-chart",type:"bar",absisseLabels:h.absisseLabels,datasets:h.datasets})),this.MONTH=(0,a.Ab)(this._formGroup.value.month).labelFR,this.YEAR=this._formGroup.value.year,s||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.data_syncing=!1},s=>{console.log(s),this.data_syncing=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}generateChart(e){const s=$("#"+e.cibleId).get(0);s&&s.chart&&s.chart.destroy(),Chart.defaults.color="#6C7293",Chart.defaults.borderColor="#000000";var n=[];for(const u of e.datasets){const d={label:u.label,backgroundColor:u.backgroundColor,data:u.data,borderWidth:"bar"!==e.type?3:0,pointBorderColor:"#000",pointBorderWidth:3,pointRadius:4,pointHoverBackgroundColor:"#fff",pointHoverBorderWidth:2};u.fill&&(d.fill=!0===u.fill),u.borderColor&&(d.borderColor=u.borderColor),u.pointBackgroundColor&&(d.pointBackgroundColor=u.pointBackgroundColor),u.pointHoverBorderColor&&(d.pointHoverBorderColor=u.pointHoverBorderColor),n.push(d)}const h=s.getContext("2d"),c=new Chart(h,{type:e.type,data:{labels:e.absisseLabels,datasets:n},options:{responsive:!0,maintainAspectRatio:!0,hover:{mode:"nearest",intersect:!0},title:{display:!0,text:"REOC DATA",fontSize:16,fontColor:"#333",fontFamily:"Arial",fontStyle:"bold"},legend:{display:!0,position:"top",labels:{fontSize:12,fontColor:"#666",fontFamily:"Arial",fontStyle:"normal"}},tooltips:{enabled:!0,mode:"label",backgroundColor:"rgba(0,0,0,0.2)",titleFontFamily:"Arial",titleFontSize:14,titleFontStyle:"normal",titleFontColor:"#fff",bodyFontFamily:"Arial",bodyFontSize:12,bodyFontStyle:"normal",bodyFontColor:"#fff",displayColors:!1},scales:{x:{display:!0,ticks:{beginAtZero:!0,fontSize:12,fontColor:"#666",fontFamily:"Arial",fontStyle:"normal"},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)",offsetGridLines:!0},scaleLabel:{display:!0,labelString:"Value"}},y:{display:!0,ticks:{beginAtZero:!0,fontSize:12,fontColor:"#666",fontFamily:"Arial",fontStyle:"normal"},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)",offsetGridLines:!0},scaleLabel:{display:!0,labelString:"Value"}}}}});s.chart=c}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(p.h),t.rXU(m.F),t.rXU(_.i),t.rXU(g.u),t.rXU(v.z))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["reco-performance"]],hostBindings:function(s,n){1&s&&t.bIt("resize",function(c){return n.onResize(c)},!1,t.tSv)},decls:57,vars:36,consts:[[1,"row","g-4",2,"margin","0px 5px 0px 5px"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[1,"rounded","p-6"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],["class","col-sm-2 col-xl-2",4,"ngIf"],[1,"col-sm-3","col-xl-2"],[1,"btn","btn-info",2,"width","100%",3,"disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],[1,"table-responsive",2,"padding-top","20px"],[2,"color","black"],[1,"container-fluid","pt-4","px-4"],[1,"row","g-4"],["class","col-sm-3 col-xl-3",4,"ngIf"],[1,"col-sm-12","col-xl-12"],[1,"mb-4","dark-color"],["id","bar-chart"],["id","year-line-chart"],["id","year-bar-chart"],["id","line-chart"],[1,"col-sm-2","col-xl-2"],["formControlName","region",1,"orgunit-style","form-select","mb-2",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["formControlName","prefecture",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","commune",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","hospital",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","district_quartier",1,"orgunit-style","form-select","mb-2",3,"change"],["multiple","","formControlName","recos",1,"orgunit-style","form-select","mb-2"],["formControlName","year",1,"orgunit-style","form-select","mb-2"],["formControlName","months",1,"orgunit-style","form-select","mb-2"],[3,"class","value","selected",4,"ngFor","ngForOf"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"],[1,"col-sm-3","col-xl-3"],[1,"bg-chart","rounded","d-flex","align-items-center","justify-content-between","p-2"],[1,"ms-3"],[1,"mb-2","black-color"],[1,"mb-0","dark-color"],[1,"ms-2"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"form",4),t.bIt("ngSubmit",function(c){return n.SHOW_DATA(c)}),t.j41(6,"div",5),t.DNE(7,q,3,1,"div",6)(8,J,3,1,"div",6)(9,L,3,1,"div",6)(10,z,3,1,"div",6)(11,Z,3,1,"div",6)(12,tt,3,1,"div",6)(13,it,3,1,"div",6)(14,ot,3,1,"div",6),t.j41(15,"div",7)(16,"button",8),t.EFF(17," Charger "),t.DNE(18,nt,1,0,"span",9),t.k0s()()()()()(),t.j41(19,"div",10)(20,"h3",11),t.EFF(21,"PERFORMANCE DES RECOS ZZZZZZ"),t.k0s(),t.j41(22,"div",12)(23,"div",13),t.DNE(24,rt,7,1,"div",14)(25,at,7,1,"div",14)(26,ct,7,1,"div",14)(27,ht,7,1,"div",14)(28,lt,7,1,"div",14)(29,ut,7,1,"div",14)(30,ft,7,1,"div",14)(31,dt,7,1,"div",14)(32,pt,7,1,"div",14),t.k0s()(),t.j41(33,"div",12)(34,"div",13)(35,"div",12)(36,"div",13)(37,"div",15)(38,"div")(39,"h6",16),t.EFF(40),t.k0s(),t.nrm(41,"canvas",17),t.k0s()(),t.j41(42,"div",15)(43,"div")(44,"h6",16),t.EFF(45),t.k0s(),t.nrm(46,"canvas",18),t.k0s()(),t.j41(47,"div",15)(48,"div")(49,"h6",16),t.EFF(50),t.k0s(),t.nrm(51,"canvas",19),t.k0s()(),t.j41(52,"div",15)(53,"div")(54,"h6",16),t.EFF(55),t.k0s(),t.nrm(56,"canvas",20),t.k0s()()()()()()()()()()),2&s&&(t.R7$(5),t.Y8G("formGroup",n._formGroup),t.R7$(2),t.Y8G("ngIf",n.Regions$.length>1),t.R7$(),t.Y8G("ngIf",n.Prefectures$.length>1),t.R7$(),t.Y8G("ngIf",n.Communes$.length>1),t.R7$(),t.Y8G("ngIf",n.Hospitals$.length>1),t.R7$(),t.Y8G("ngIf",n.DistrictQuartiers$.length>1),t.R7$(),t.Y8G("ngIf",n.Recos$.length>1),t.R7$(),t.Y8G("ngIf",n.Years$.length>0),t.R7$(),t.Y8G("ngIf",n.Months$.length>0),t.R7$(2),t.Y8G("disabled",n.data_syncing),t.R7$(2),t.Y8G("ngIf",n.data_syncing),t.R7$(6),t.Y8G("ngIf",n.householdCount>=0),t.R7$(),t.Y8G("ngIf",n.patientCount>=0),t.R7$(),t.Y8G("ngIf",n.newborn0To2MonthsCount>=0),t.R7$(),t.Y8G("ngIf",n.child2To60MonthsCount>=0),t.R7$(),t.Y8G("ngIf",n.child5To14YearsCount>=0),t.R7$(),t.Y8G("ngIf",n.adultOver14YearsCount>=0),t.R7$(),t.Y8G("ngIf",n.consultationCount>=0),t.R7$(),t.Y8G("ngIf",n.followupCount>=0),t.R7$(),t.Y8G("ngIf",n.allActionsCount>=0),t.R7$(6),t.ZvI("",n.BAR_TITLE&&""!==n.BAR_TITLE?"bg-chart":"bg-white"," rounded h-100 p-4"),t.R7$(2),t.JRh(n.BAR_TITLE),t.R7$(3),t.ZvI("",n.YEAR_LINE_TITLE&&""!==n.YEAR_LINE_TITLE?"bg-chart":"bg-white"," rounded h-100 p-4"),t.R7$(2),t.JRh(n.YEAR_LINE_TITLE),t.R7$(3),t.ZvI("",n.YEAR_BAR_TITLE&&""!==n.YEAR_BAR_TITLE?"bg-chart":"bg-white"," rounded h-100 p-4"),t.R7$(2),t.JRh(n.YEAR_BAR_TITLE),t.R7$(3),t.ZvI("",n.LINE_TITLE&&""!==n.LINE_TITLE?"bg-chart":"bg-white"," rounded h-100 p-4"),t.R7$(2),t.JRh(n.LINE_TITLE))},dependencies:[f.Sq,f.bT,r.qT,r.xH,r.y7,r.wz,r.W0,r.BC,r.cb,r.j4,r.JD],styles:[".org-units[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#5e5e5e!important;text-decoration:none;border-bottom:2px dashed!important}.selected[_ngcontent-%COMP%]{background-color:#bae5ff!important}.bg-chart[_ngcontent-%COMP%]{background-color:azure;border:1px solid rgb(209,243,255)!important}.dark-color[_ngcontent-%COMP%]{color:#00008b!important}.black-color[_ngcontent-%COMP%]{color:#797979!important}.show[_ngcontent-%COMP%]{visibility:visible}.hide[_ngcontent-%COMP%]{visibility:hidden;background-color:#fff}.orgunit-style[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}"]})}return i})();var _t=l(6098);let gt=(()=>{class i{constructor(e){this.sanitizer=e}transform(e,s){switch(s){case"html":default:return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(_t.up,16))};static#e=this.\u0275pipe=t.EJ8({name:"safeHtml",type:i,pure:!0});static#i=this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const $t=()=>[];function vt(i,o){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"region")),t.R7$(),t.SpI(" ",e.name," ")}}function Rt(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",24)(1,"select",25),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.prefecturesGenerate())}),t.DNE(2,vt,2,3,"option",26),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.regions)}}function bt(i,o){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"prefecture")),t.R7$(),t.SpI(" ",e.name," ")}}function Gt(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",24)(1,"select",28),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.communesGenerate())}),t.DNE(2,bt,2,3,"option",26),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.prefectures)}}function Ct(i,o){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"commune")),t.R7$(),t.SpI(" ",e.name," ")}}function Ft(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",24)(1,"select",29),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.hospitalsGenerate())}),t.DNE(2,Ct,2,3,"option",26),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.communes)}}function Tt(i,o){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"hospital")),t.R7$(),t.SpI(" ",e.name," ")}}function kt(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",24)(1,"select",30),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.districtsGenerate())}),t.DNE(2,Tt,2,3,"option",26),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.hospitals)}}function Et(i,o){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"district_quartier")),t.R7$(),t.SpI(" ",e.name," ")}}function yt(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",24)(1,"select",31),t.bIt("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.recosGenerate())}),t.DNE(2,Et,2,3,"option",26),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.districtQuartiers)}}function Dt(i,o){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"recos")),t.R7$(),t.SpI(" ",e.name," ")}}function Mt(i,o){if(1&i&&(t.j41(0,"div",24)(1,"select",32),t.DNE(2,Dt,2,3,"option",26),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.recos)}}function wt(i,o){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.Y8G("value",e)("selected",s.isSelected(e,"year")),t.R7$(),t.SpI(" ",e," ")}}function St(i,o){if(1&i&&(t.j41(0,"div",24)(1,"select",33),t.DNE(2,wt,2,3,"option",26),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.Years$)}}function jt(i,o){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=o.$implicit,s=t.XpG(2);t.HbH(s.isSelected(e.id,"month")?"selected":""),t.Y8G("value",e.id)("selected",s.isSelected(e.id,"month")),t.R7$(),t.SpI(" ",e.labelFR," ")}}function It(i,o){if(1&i&&(t.j41(0,"div",24)(1,"select",34),t.DNE(2,jt,2,6,"option",35),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.Months$)}}function Yt(i,o){1&i&&t.nrm(0,"span",36)}function Pt(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Ht(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function xt(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Vt(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Ot(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Nt(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function At(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Xt(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function qt(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Qt(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Jt(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Bt(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Lt(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Ut(i,o){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",42),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=o.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function zt(i,o){if(1&i&&(t.qex(0),t.j41(1,"th",40),t.EFF(2),t.k0s(),t.j41(3,"th",40),t.EFF(4),t.k0s(),t.j41(5,"th",40),t.EFF(6),t.k0s(),t.j41(7,"th",40),t.EFF(8),t.k0s(),t.j41(9,"th",40),t.EFF(10),t.k0s(),t.DNE(11,Pt,3,6,"th",41)(12,Ht,3,6,"th",41)(13,xt,3,6,"th",41)(14,Vt,3,6,"th",41)(15,Ot,3,6,"th",41)(16,Nt,3,6,"th",41)(17,At,3,6,"th",41)(18,Xt,3,6,"th",41)(19,qt,3,6,"th",41)(20,Qt,3,6,"th",41)(21,Jt,3,6,"th",41)(22,Bt,3,6,"th",41)(23,Lt,3,6,"th",41)(24,Ut,3,6,"th",41),t.bVm()),2&i){const e=o.$implicit,s=t.XpG(3);t.R7$(2),t.JRh(e.child_name),t.R7$(2),t.JRh(e.child_sex),t.R7$(2),t.JRh(e.child_age_str),t.R7$(2),t.JRh(e.child_code),t.R7$(2),t.JRh(e.child_phone),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_BCG,e.child_age_in_days,0)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VPO_0,e.child_age_in_days,0)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_PENTA_1,e.child_age_in_days,42)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VPO_1,e.child_age_in_days,42)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_PENTA_2,e.child_age_in_days,70)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VPO_2,e.child_age_in_days,70)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_PENTA_3,e.child_age_in_days,98)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VPO_3,e.child_age_in_days,98)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VPI_1,e.child_age_in_days,98)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VAR_1,e.child_age_in_months,9)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VAA,e.child_age_in_months,9)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VPI_2,e.child_age_in_months,9)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_MEN_A,e.child_age_in_months,15)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VAR_2,e.child_age_in_months,15))}}function Wt(i,o){if(1&i&&(t.j41(0,"tr")(1,"th",38),t.EFF(2),t.k0s(),t.j41(3,"th",39),t.EFF(4),t.k0s(),t.DNE(5,zt,25,19,"ng-container",37),t.k0s()),2&i){const e=o.$implicit;t.R7$(),t.Y8G("rowSpan",e.data.length),t.R7$(),t.JRh(e.family_code),t.R7$(),t.Y8G("rowSpan",2),t.R7$(),t.JRh(e.family_name),t.R7$(),t.Y8G("ngForOf",e.data)}}function Zt(i,o){if(1&i&&(t.j41(0,"tbody",16),t.DNE(1,Wt,6,5,"tr",37),t.k0s()),2&i){const e=o.$implicit;t.R7$(),t.Y8G("ngForOf",e.children_vaccines)}}const te=[{path:"",redirectTo:"reco-performance-dashboard",pathMatch:"full"},{path:"reco-performance-dashboard",component:mt,canActivate:[R.d],data:{href:"dashboards/reco-performance-dashboard",title:"Performance des Reco"}},{path:"reco-vaccination-dashboard",component:(()=>{class i{constructor(e,s,n,h,c){this.urlT=e,this.ldbfetch=s,this.userCtx=n,this.auth=h,this.snackbar=c,this.Months$=[],this.Years$=[],this.data_syncing=!1,this.Countries$=[],this.Regions$=[],this.Prefectures$=[],this.Communes$=[],this.Hospitals$=[],this.DistrictQuartiers$=[],this.VillageSecteurs$=[],this.Chws$=[],this.Recos$=[],this.countries=[],this.regions=[],this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.villageSecteurs=[],this.chws=[],this.recos=[],this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4,this.getCurrentUserCtx()}ngAfterViewInit(){setTimeout(()=>{this.countriesGenerate(),this.regionsGenerate(),this.prefecturesGenerate(),this.communesGenerate(),this.hospitalsGenerate(),this.districtsGenerate(),this.recosGenerate()})}onResize(e){this.screenWidth=window.innerWidth}ngOnInit(){this.year$=(0,a.vW)(),this.month$=(0,a.Ej)(),this.Months$=(0,a.kT)().filter(e=>this.month$&&e.uid<=this.month$.uid),this.Years$=(0,a.DE)().filter(e=>this.year$&&e<=this.year$),this._formGroup=this.CreateFormGroup()}vaccineUtils(e,s,n){return s>=n?{class:!0===e?"vaccine-on":"vaccine-off",action:!0===e?"&#10003;":"&times;"}:{class:"vaccine-NA",action:"NA"}}getCurrentUserCtx(){const e=this.userCtx.currentUserCtx;this.Countries$.length>0||(this.Countries$=e?.countries??[]),this.Regions$.length>0||(this.Regions$=e?.regions??[]),this.Prefectures$.length>0||(this.Prefectures$=e?.prefectures??[]),this.Communes$.length>0||(this.Communes$=e?.communes??[]),this.Hospitals$.length>0||(this.Hospitals$=e?.hospitals??[]),this.DistrictQuartiers$.length>0||(this.DistrictQuartiers$=e?.districtQuartiers??[]),this.VillageSecteurs$.length>0||(this.VillageSecteurs$=e?.villageSecteurs??[]),this.Chws$.length>0||(this.Chws$=e?.chws??[]),this.Recos$.length>0||(this.Recos$=e?.recos??[])}CreateFormGroup(){const e={year:new r.MJ(this.year$,[r.k0.required]),months:new r.MJ(this.month$.id,[r.k0.required])};return this.Countries$.length>1&&(e.country=new r.MJ("",[r.k0.required])),this.Regions$.length>1&&(e.region=new r.MJ("",[r.k0.required])),this.Prefectures$.length>1&&(e.prefecture=new r.MJ("",[r.k0.required])),this.Communes$.length>1&&(e.commune=new r.MJ("",[r.k0.required])),this.Hospitals$.length>1&&(e.hospital=new r.MJ("",[r.k0.required])),this.DistrictQuartiers$.length>1&&(e.district_quartier=new r.MJ("",[r.k0.required])),this.Recos$.length>1&&(e.recos=new r.MJ("",[r.k0.required])),new r.gE(e)}isSelected(e,s){return"year"===s?this._formGroup.value.year===e:"month"===s?(0,a.$r)(this._formGroup.value.months).includes(`${e}`):"country"===s?this._formGroup.value.country===e:"region"===s?this._formGroup.value.region===e:"prefecture"===s?this._formGroup.value.prefecture===e:"commune"===s?this._formGroup.value.commune===e:"hospital"===s?this._formGroup.value.hospital===e:"district_quartier"===s?this._formGroup.value.district_quartier===e:"recos"===s&&this._formGroup.value.recos.includes(`${e}`)}countriesGenerate(){this.countries=this.Countries$,1===this.Countries$.length&&(this._formGroup.value.country=this.Countries$[0].id)}regionsGenerate(){this.Countries$.length>0?this.Regions$.length>1&&(0,a.TM)(this._formGroup.value.country)?this.regions=this.Regions$.filter(e=>e.country_id===this._formGroup.value.country):1===this.Regions$.length?(this.regions=this.Regions$,this._formGroup.value.region=this.Regions$[0].id):this.regions=[]:this.Regions$.length>=1?(this.regions=this.Regions$,1===this.Regions$.length&&(this._formGroup.value.region=this.Regions$[0].id)):this.regions=[]}prefecturesGenerate(){this.Regions$.length>0?this.Prefectures$.length>1&&(0,a.TM)(this._formGroup.value.region)?this.prefectures=this.Prefectures$.filter(e=>e.region_id===this._formGroup.value.region):1===this.Prefectures$.length?(this.prefectures=this.Prefectures$,this._formGroup.value.prefecture=this.Prefectures$[0].id):this.prefectures=[]:this.Prefectures$.length>=1?(this.prefectures=this.Prefectures$,1===this.Prefectures$.length&&(this._formGroup.value.prefecture=this.Prefectures$[0].id)):this.prefectures=[]}communesGenerate(){this.Prefectures$.length>0?this.Communes$.length>1&&(0,a.TM)(this._formGroup.value.prefecture)?this.communes=this.Communes$.filter(e=>e.prefecture_id===this._formGroup.value.prefecture):1===this.Communes$.length?(this.communes=this.Communes$,this._formGroup.value.commune=this.Communes$[0].id):this.communes=[]:this.Communes$.length>=1?(this.communes=this.Communes$,1===this.Communes$.length&&(this._formGroup.value.commune=this.Communes$[0].id)):this.communes=[]}hospitalsGenerate(){this.Communes$.length>0?this.Hospitals$.length>1&&(0,a.TM)(this._formGroup.value.commune)?this.hospitals=this.Hospitals$.filter(e=>e.commune_id===this._formGroup.value.commune):1===this.Hospitals$.length?(this.hospitals=this.Hospitals$,this._formGroup.value.hospital=this.Hospitals$[0].id):this.hospitals=[]:this.Hospitals$.length>=1?(this.hospitals=this.Hospitals$,1===this.Hospitals$.length&&(this._formGroup.value.hospital=this.Hospitals$[0].id)):this.hospitals=[]}districtsGenerate(){this.Hospitals$.length>0?this.DistrictQuartiers$.length>1&&(0,a.TM)(this._formGroup.value.hospital)?this.districtQuartiers=this.DistrictQuartiers$.filter(e=>e.hospital_id===this._formGroup.value.hospital):1===this.DistrictQuartiers$.length?(this.districtQuartiers=this.DistrictQuartiers$,this._formGroup.value.district_quartier=this.DistrictQuartiers$[0].id):this.districtQuartiers=[]:this.DistrictQuartiers$.length>=1?(this.districtQuartiers=this.DistrictQuartiers$,1===this.DistrictQuartiers$.length&&(this._formGroup.value.district_quartier=this.DistrictQuartiers$[0].id)):this.districtQuartiers=[]}chwsGenerate(){this.DistrictQuartiers$.length>0?this.Chws$.length>1&&(0,a.TM)(this._formGroup.value.district_quartier)?this.chws=this.Chws$.filter(e=>e.district_quartier_id===this._formGroup.value.district_quartier):1===this.Chws$.length?(this.chws=this.Chws$,this._formGroup.value.chw=this.Chws$[0].id):this.chws=[]:this.Chws$.length>=1?(this.chws=this.Chws$,1===this.Chws$.length&&(this._formGroup.value.chw=this.Chws$[0].id)):this.chws=[]}villagesGenerate(){this.DistrictQuartiers$.length>0?(this.VillageSecteurs$.length>1&&(0,a.TM)(this._formGroup.value.district_quartier)?this.villageSecteurs=this.VillageSecteurs$.filter(e=>e.district_quartier_id===this._formGroup.value.district_quartier):1===this.VillageSecteurs$.length?(this.villageSecteurs=this.VillageSecteurs$,this._formGroup.value.village_secteur=this.VillageSecteurs$[0].id):this.villageSecteurs=[],this.villageSecteurs=[]):this.VillageSecteurs$.length>=1?(this.villageSecteurs=this.VillageSecteurs$,1===this.VillageSecteurs$.length&&(this._formGroup.value.village_secteur=this.VillageSecteurs$[0].id)):this.villageSecteurs=[]}recosGenerate(){this.DistrictQuartiers$.length>0?this.Recos$.length>1&&(0,a.TM)(this._formGroup.value.district_quartier)?this.recos=this.Recos$.filter(e=>e.district_quartier_id===this._formGroup.value.district_quartier):1===this.Recos$.length?(this.recos=this.Recos$,this._formGroup.value.recos=this.Recos$[0].id):this.recos=[]:this.Recos$.length>=1?(this.recos=this.Recos$,1===this.Recos$.length&&(this._formGroup.value.recos=this.Recos$[0].id)):this.recos=[]}quantityStyle(e){return e<0?"quantity-error":e>0?"quantity-up":"quantity-down"}SHOW_DATA(e){e.preventDefault(),this._formGroup.value.recos.length>0?(0,a.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.data_syncing=!0,this._formGroup.value.months=(0,a.$r)(this._formGroup.value.months),this.ldbfetch.GetRecoVaccinationDashboard(this._formGroup.value).then(s=>{this.RECO_VACCINES$=s?.data,this.MONTH=(0,a.Ab)(this._formGroup.value.month).labelFR,this.YEAR=this._formGroup.value.year,s||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.data_syncing=!1},s=>{this.data_syncing=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(p.h),t.rXU(m.F),t.rXU(_.i),t.rXU(g.u),t.rXU(v.z))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["reco-vaccination"]],hostBindings:function(s,n){1&s&&t.bIt("resize",function(c){return n.onResize(c)},!1,t.tSv)},decls:85,vars:26,consts:[[1,"row","g-4",2,"margin","0px 5px 0px 5px"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[1,"rounded","p-6"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],["class","col-sm-2 col-xl-2",4,"ngIf"],[1,"col-sm-3","col-xl-2"],[1,"btn","btn-info",2,"width","100%",3,"disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],[1,"table-responsive",2,"padding-top","20px"],[1,"table","table-bordered","table-hover"],[1,"no-border"],["colspan","9",2,"height","30px!important"],[2,"color","black!important","text-align","left!important"],["colspan","9",1,"separation"],[2,"font-size","14px!important"],[1,"table-head","fp-header-1"],["scope","col",2,"width","5px",3,"rowSpan"],["scope","col",1,"vaccine-big-head",3,"rowSpan"],["scope","col",1,"vaccine-big-head",2,"width","5px",3,"rowSpan"],["scope","col",1,"vaccine-big-head",3,"colSpan"],["scope","col",1,"vaccine-head"],["style","font-size: 14px!important;",4,"ngFor","ngForOf"],[1,"col-sm-2","col-xl-2"],["formControlName","region",1,"orgunit-style","form-select","mb-2",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["formControlName","prefecture",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","commune",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","hospital",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","district_quartier",1,"orgunit-style","form-select","mb-2",3,"change"],["multiple","","formControlName","recos",1,"orgunit-style","form-select","mb-2"],["formControlName","year",1,"orgunit-style","form-select","mb-2"],["formControlName","months",1,"orgunit-style","form-select","mb-2"],[3,"class","value","selected",4,"ngFor","ngForOf"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"],[4,"ngFor","ngForOf"],["scope","row",2,"padding","2px",3,"rowSpan"],[2,"padding","2px",3,"rowSpan"],[2,"padding","2px"],[3,"class",4,"ngIf"],[3,"innerHTML"]],template:function(s,n){if(1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),t.bIt("ngSubmit",function(c){return n.SHOW_DATA(c)}),t.j41(5,"div",5),t.DNE(6,Rt,3,1,"div",6)(7,Gt,3,1,"div",6)(8,Ft,3,1,"div",6)(9,kt,3,1,"div",6)(10,yt,3,1,"div",6)(11,Mt,3,1,"div",6)(12,St,3,1,"div",6)(13,It,3,1,"div",6),t.j41(14,"div",7)(15,"button",8),t.EFF(16," Charger "),t.DNE(17,Yt,1,0,"span",9),t.k0s()()()()(),t.j41(18,"div",10)(19,"table",11)(20,"thead",12)(21,"tr")(22,"td",13)(23,"h5",14),t.EFF(24," LIST DES MOINS DE 5 ANS AVEC VACCINS NON A JOUR "),t.k0s()()()(),t.j41(25,"tr",12),t.nrm(26,"td",15),t.k0s(),t.j41(27,"thead",16)(28,"tr",17)(29,"th",18),t.EFF(30,"N\xb0"),t.k0s(),t.j41(31,"th",19),t.EFF(32,"M\xe9nage"),t.k0s(),t.j41(33,"th",19),t.EFF(34,"Nom"),t.k0s(),t.j41(35,"th",20),t.EFF(36,"Sexe"),t.k0s(),t.j41(37,"th",19),t.EFF(38,"Age"),t.k0s(),t.j41(39,"th",20),t.EFF(40,"Code"),t.k0s(),t.j41(41,"th",20),t.EFF(42,"Phone"),t.k0s(),t.j41(43,"th",21),t.EFF(44,"Naissance"),t.k0s(),t.j41(45,"th",21),t.EFF(46,"6 semaines"),t.k0s(),t.j41(47,"th",21),t.EFF(48,"10 semaines"),t.k0s(),t.j41(49,"th",21),t.EFF(50,"14 semaines"),t.k0s(),t.j41(51,"th",21),t.EFF(52,"9 mois"),t.k0s(),t.j41(53,"th",21),t.EFF(54,"15 mois"),t.k0s()(),t.j41(55,"tr",17)(56,"th",22),t.EFF(57,"BCG"),t.k0s(),t.j41(58,"th",22),t.EFF(59,"VPO_0"),t.k0s(),t.j41(60,"th",22),t.EFF(61,"PENTA_1"),t.k0s(),t.j41(62,"th",22),t.EFF(63,"VPO_1"),t.k0s(),t.j41(64,"th",22),t.EFF(65,"PENTA_2"),t.k0s(),t.j41(66,"th",22),t.EFF(67,"VPO_2"),t.k0s(),t.j41(68,"th",22),t.EFF(69,"PENTA_3"),t.k0s(),t.j41(70,"th",22),t.EFF(71,"VPO_3"),t.k0s(),t.j41(72,"th",22),t.EFF(73,"VPI_1"),t.k0s(),t.j41(74,"th",22),t.EFF(75,"VAR_1"),t.k0s(),t.j41(76,"th",22),t.EFF(77,"VAA"),t.k0s(),t.j41(78,"th",22),t.EFF(79,"VPI_2"),t.k0s(),t.j41(80,"th",22),t.EFF(81,"MEN_A"),t.k0s(),t.j41(82,"th",22),t.EFF(83,"VAR_2"),t.k0s()()(),t.DNE(84,Zt,2,1,"tbody",23),t.k0s()()()()()),2&s){let h;t.R7$(4),t.Y8G("formGroup",n._formGroup),t.R7$(2),t.Y8G("ngIf",n.Regions$.length>1),t.R7$(),t.Y8G("ngIf",n.Prefectures$.length>1),t.R7$(),t.Y8G("ngIf",n.Communes$.length>1),t.R7$(),t.Y8G("ngIf",n.Hospitals$.length>1),t.R7$(),t.Y8G("ngIf",n.DistrictQuartiers$.length>1),t.R7$(),t.Y8G("ngIf",n.Recos$.length>1),t.R7$(),t.Y8G("ngIf",n.Years$.length>0),t.R7$(),t.Y8G("ngIf",n.Months$.length>0),t.R7$(2),t.Y8G("disabled",n.data_syncing),t.R7$(2),t.Y8G("ngIf",n.data_syncing),t.R7$(12),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("colSpan",2),t.R7$(2),t.Y8G("colSpan",2),t.R7$(2),t.Y8G("colSpan",2),t.R7$(2),t.Y8G("colSpan",3),t.R7$(2),t.Y8G("colSpan",3),t.R7$(2),t.Y8G("colSpan",2),t.R7$(31),t.Y8G("ngForOf",null!==(h=n.RECO_VACCINES$)&&void 0!==h?h:t.lJ4(25,$t))}},dependencies:[f.Sq,f.bT,r.qT,r.xH,r.y7,r.wz,r.W0,r.BC,r.cb,r.j4,r.JD,gt],styles:[".dark-back[_ngcontent-%COMP%]{background-color:#000!important}.no-border[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none!important}.separation[_ngcontent-%COMP%]{border:none!important;height:10px!important}.org-units[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#5e5e5e!important;text-decoration:none;border-bottom:2px dashed!important}.table-head[_ngcontent-%COMP%]{background-color:#dffcf2!important;color:#5e5e5e!important}.load-data[_ngcontent-%COMP%]{position:absolute;top:20;right:0;width:300px;margin-right:20px}.selected[_ngcontent-%COMP%]{background-color:#bae5ff!important}.vaccine-big-head[_ngcontent-%COMP%]{padding:2px!important;text-align:center!important}.vaccine-head[_ngcontent-%COMP%]{font-size:14px!important;width:50px!important;padding:2px!important}.vaccine-on[_ngcontent-%COMP%]{text-align:center!important;font-size:18px!important;font-weight:700!important;color:green!important;padding:2px 0 0!important}.vaccine-off[_ngcontent-%COMP%]{text-align:center!important;font-size:20px!important;font-weight:700!important;color:brown!important;padding:0!important}.vaccine-NA[_ngcontent-%COMP%]{text-align:center!important;font-size:14px!important;font-weight:700!important;color:#d7d7d7!important;padding:5px 0 0!important}.orgunit-style[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}"]})}return i})(),canActivate:[R.d],data:{href:"dashboards/reco-vaccination-dashboard",title:"Vaccination des enfants"}},{path:"reco-meg-dashboard",component:A,canActivate:[R.d],data:{href:"dashboards/reco-meg-dashboard",title:"Reco Meg Dashboard"}}];let ee=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.$C({type:i});static#i=this.\u0275inj=t.G2t({imports:[G.iI.forChild(te),G.iI]})}return i})();var ie=l(5961);let se=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.$C({type:i});static#i=this.\u0275inj=t.G2t({imports:[f.MD,r.X1,ee,ie.G]})}return i})()}}]);