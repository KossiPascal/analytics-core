"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([["src_app_modules_dashbords_dashbords_module_ts"],{3726:(Ut,b,l)=>{l.r(b),l.d(b,{DashboardsModule:()=>Lt});var u=l(6610),r=l(7222),R=l(1402),c=l(3681),t=l(3279),p=l(7200),f=l(2365),C=l(4451);function T(e,i){if(1&e&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function G(e,i){if(1&e){const n=t.RV6();t.j41(0,"select",17),t.bIt("change",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.regionsGenerate())}),t.DNE(1,T,2,2,"option",18),t.k0s()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.countries)}}function v(e,i){if(1&e&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function F(e,i){if(1&e){const n=t.RV6();t.j41(0,"select",20),t.bIt("change",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.prefecturesGenerate())}),t.DNE(1,v,2,2,"option",18),t.k0s()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.regions)}}function E(e,i){if(1&e&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function y(e,i){if(1&e){const n=t.RV6();t.j41(0,"select",21),t.bIt("change",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.communesGenerate())}),t.DNE(1,E,2,2,"option",18),t.k0s()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.prefectures)}}function I(e,i){if(1&e&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function k(e,i){if(1&e){const n=t.RV6();t.j41(0,"select",22),t.bIt("change",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.hospitalsGenerate())}),t.DNE(1,I,2,2,"option",18),t.k0s()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.communes)}}function O(e,i){if(1&e&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function Y(e,i){if(1&e){const n=t.RV6();t.j41(0,"select",23),t.bIt("change",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.districtsGenerate())}),t.DNE(1,O,2,2,"option",18),t.k0s()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.hospitals)}}function D(e,i){if(1&e&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function N(e,i){if(1&e){const n=t.RV6();t.j41(0,"select",24),t.bIt("change",function(){t.eBV(n);const s=t.XpG();return t.Njj(s.recosGenerate())}),t.DNE(1,D,2,2,"option",18),t.k0s()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.districtQuartiers)}}function j(e,i){if(1&e&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.name," ")}}function H(e,i){if(1&e&&(t.j41(0,"select",25),t.DNE(1,j,2,2,"option",18),t.k0s()),2&e){const n=t.XpG();t.FS9("multiple",n.recos.length>1?"multiple":""),t.R7$(),t.Y8G("ngForOf",n.recos)}}function M(e,i){if(1&e&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.Y8G("value",n),t.R7$(),t.SpI(" ",n," ")}}function A(e,i){if(1&e&&(t.qex(0),t.DNE(1,M,2,2,"option",18),t.bVm()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.Years$)}}function S(e,i){if(1&e&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI(" ",n.labelFR," ")}}function V(e,i){if(1&e&&(t.qex(0),t.DNE(1,S,2,2,"option",18),t.bVm()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.Months$)}}function w(e,i){1&e&&t.nrm(0,"span",26)}let g=(()=>{class e{constructor(n){this.userCtx=n,this.ON_SHOW_DATA=new t.bkB,this.Months$=[],this.Years$=[],this.Countries$=[],this.Regions$=[],this.Prefectures$=[],this.Communes$=[],this.Hospitals$=[],this.DistrictQuartiers$=[],this.VillageSecteurs$=[],this.Chws$=[],this.Recos$=[],this.countries=[],this.regions=[],this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.villageSecteurs=[],this.chws=[],this.recos=[],this.getCurrentUserCtx()}ngAfterViewInit(){setTimeout(()=>{this.countriesGenerate(),this.regionsGenerate(),this.prefecturesGenerate(),this.communesGenerate(),this.hospitalsGenerate(),this.districtsGenerate(),this.recosGenerate()})}ngOnInit(){this.year$=(0,c.vW)(),this.month$=(0,c.Ej)(),this.Months$=(0,c.kT)().filter(n=>this.month$&&n.uid<=this.month$.uid),this.Years$=(0,c.DE)().filter(n=>this.year$&&n<=this.year$),this._formGroup=this.CreateFormGroup()}getCurrentUserCtx(){const n=this.userCtx.currentUserCtx;this.Countries$.length>0||(this.Countries$=n?.countries??[]),this.Regions$.length>0||(this.Regions$=n?.regions??[]),this.Prefectures$.length>0||(this.Prefectures$=n?.prefectures??[]),this.Communes$.length>0||(this.Communes$=n?.communes??[]),this.Hospitals$.length>0||(this.Hospitals$=n?.hospitals??[]),this.DistrictQuartiers$.length>0||(this.DistrictQuartiers$=n?.districtQuartiers??[]),this.VillageSecteurs$.length>0||(this.VillageSecteurs$=n?.villageSecteurs??[]),this.Chws$.length>0||(this.Chws$=n?.chws??[]),this.Recos$.length>0||(this.Recos$=n?.recos??[])}CreateFormGroup(){const n={year:new r.MJ(this.year$,[r.k0.required]),months:new r.MJ(this.month$.id,[r.k0.required])};return this.Countries$.length>1&&(n.country=new r.MJ("",[r.k0.required])),this.Regions$.length>1&&(n.region=new r.MJ("",[r.k0.required])),this.Prefectures$.length>1&&(n.prefecture=new r.MJ("",[r.k0.required])),this.Communes$.length>1&&(n.commune=new r.MJ("",[r.k0.required])),this.Hospitals$.length>1&&(n.hospital=new r.MJ("",[r.k0.required])),this.DistrictQuartiers$.length>1&&(n.district_quartier=new r.MJ("",[r.k0.required])),this.Recos$.length>1&&(n.recos=new r.MJ("",[r.k0.required])),new r.gE(n)}countriesGenerate(){this.setOrgUnitsValues({country:!0,region:!0,prefecture:!0,commune:!0,hospital:!0,district_quartier:!0,recos:!0}),this.countries=this.Countries$,1===this.countries.length&&(this._formGroup.value.country=this.countries[0].id),this.regionsGenerate()}regionsGenerate(){this.setOrgUnitsValues({region:!0,prefecture:!0,commune:!0,hospital:!0,district_quartier:!0,recos:!0}),this.Countries$.length>0?this.Regions$.length>1&&(0,c.TM)(this._formGroup.value.country)?this.regions=this.Regions$.filter(n=>n.country_id===this._formGroup.value.country):1===this.Regions$.length&&(this.regions=this.Regions$):this.Regions$.length>=1&&(this.regions=this.Regions$),1===this.regions.length&&(this._formGroup.value.region=this.regions[0].id),this.prefecturesGenerate()}prefecturesGenerate(){this.setOrgUnitsValues({prefecture:!0,commune:!0,hospital:!0,district_quartier:!0,recos:!0}),this.Regions$.length>0?this.Prefectures$.length>1&&(0,c.TM)(this._formGroup.value.region)?this.prefectures=this.Prefectures$.filter(n=>n.region_id===this._formGroup.value.region):1===this.Prefectures$.length&&(this.prefectures=this.Prefectures$):this.Prefectures$.length>=1&&(this.prefectures=this.Prefectures$),1===this.prefectures.length&&(this._formGroup.value.prefecture=this.prefectures[0].id),this.communesGenerate()}communesGenerate(){this.setOrgUnitsValues({commune:!0,hospital:!0,district_quartier:!0,recos:!0}),this.Prefectures$.length>0?this.Communes$.length>1&&(0,c.TM)(this._formGroup.value.prefecture)?this.communes=this.Communes$.filter(n=>n.prefecture_id===this._formGroup.value.prefecture):1===this.Communes$.length&&(this.communes=this.Communes$):this.Communes$.length>=1&&(this.communes=this.Communes$),1===this.communes.length&&(this._formGroup.value.commune=this.communes[0].id),this.hospitalsGenerate()}hospitalsGenerate(){this.setOrgUnitsValues({hospital:!0,district_quartier:!0,recos:!0}),this.Communes$.length>0?this.Hospitals$.length>1&&(0,c.TM)(this._formGroup.value.commune)?this.hospitals=this.Hospitals$.filter(n=>n.commune_id===this._formGroup.value.commune):1===this.Hospitals$.length&&(this.hospitals=this.Hospitals$):this.Hospitals$.length>=1&&(this.hospitals=this.Hospitals$),1===this.hospitals.length&&(this._formGroup.value.hospital=this.hospitals[0].id),this.districtsGenerate()}districtsGenerate(){this.setOrgUnitsValues({district_quartier:!0,recos:!0}),this.Hospitals$.length>0?this.DistrictQuartiers$.length>1&&(0,c.TM)(this._formGroup.value.hospital)?this.districtQuartiers=this.DistrictQuartiers$.filter(n=>n.hospital_id===this._formGroup.value.hospital):1===this.DistrictQuartiers$.length&&(this.districtQuartiers=this.DistrictQuartiers$):this.DistrictQuartiers$.length>=1&&(this.districtQuartiers=this.DistrictQuartiers$),1===this.districtQuartiers.length&&(this._formGroup.value.district_quartier=this.districtQuartiers[0].id),this.recosGenerate()}recosGenerate(){this.setOrgUnitsValues({recos:!0}),this.DistrictQuartiers$.length>0?this.Recos$.length>1&&(0,c.TM)(this._formGroup.value.district_quartier)?this.recos=this.Recos$.filter(n=>n.district_quartier_id===this._formGroup.value.district_quartier):1===this.Recos$.length&&(this.recos=this.Recos$):this.Recos$.length>=1&&(this.recos=this.Recos$),1===this.recos.length&&(this._formGroup.value.recos=[this.recos[0].id])}setOrgUnitsValues(n){!0===n.country&&(this.countries=[],this._formGroup.value.country=""),!0===n.region&&(this.regions=[],this._formGroup.value.region=""),!0===n.prefecture&&(this.prefectures=[],this._formGroup.value.prefecture=""),!0===n.commune&&(this.communes=[],this._formGroup.value.commune=""),!0===n.hospital&&(this.hospitals=[],this._formGroup.value.hospital=""),!0===n.district_quartier&&(this.districtQuartiers=[],this._formGroup.value.district_quartier=""),!0===n.recos&&(this.recos=[],this._formGroup.value.recos=[])}SHOW_DATA(n){n.preventDefault(),this.ON_SHOW_DATA&&this.ON_SHOW_DATA.emit(this._formGroup)}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(C.i))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["dashbords-orgunit-selector"]],inputs:{ON_FETCHING:"ON_FETCHING"},outputs:{ON_SHOW_DATA:"ON_SHOW_DATA"},decls:20,vars:12,consts:[[1,"load-data"],[1,"rounded","p-6"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-6"],["class","orgunit-style mb-1","formControlName","country",3,"change",4,"ngIf"],["class","orgunit-style mb-1","formControlName","region",3,"change",4,"ngIf"],["class","orgunit-style mb-1","formControlName","prefecture",3,"change",4,"ngIf"],["class","orgunit-style mb-1","formControlName","commune",3,"change",4,"ngIf"],["class","orgunit-style mb-1","formControlName","hospital",3,"change",4,"ngIf"],["class","orgunit-style mb-1","formControlName","district_quartier",3,"change",4,"ngIf"],["class","orgunit-style mb-1","formControlName","recos",3,"multiple",4,"ngIf"],["formControlName","year",1,"orgunit-style","mb-1"],[4,"ngIf"],["formControlName","months",1,"orgunit-style","mb-1"],[1,"submitBtn","btn","btn-info",3,"disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],["formControlName","country",1,"orgunit-style","mb-1",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","region",1,"orgunit-style","mb-1",3,"change"],["formControlName","prefecture",1,"orgunit-style","mb-1",3,"change"],["formControlName","commune",1,"orgunit-style","mb-1",3,"change"],["formControlName","hospital",1,"orgunit-style","mb-1",3,"change"],["formControlName","district_quartier",1,"orgunit-style","mb-1",3,"change"],["formControlName","recos",1,"orgunit-style","mb-1",3,"multiple"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"]],template:function(o,s){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"form",2),t.bIt("ngSubmit",function(a){return s.SHOW_DATA(a)}),t.j41(3,"div",3)(4,"div",4),t.DNE(5,G,2,1,"select",5)(6,F,2,1,"select",6)(7,y,2,1,"select",7)(8,k,2,1,"select",8)(9,Y,2,1,"select",9)(10,N,2,1,"select",10),t.k0s(),t.j41(11,"div",4),t.DNE(12,H,2,2,"select",11),t.j41(13,"select",12),t.DNE(14,A,2,1,"ng-container",13),t.k0s(),t.j41(15,"select",14),t.DNE(16,V,2,1,"ng-container",13),t.k0s(),t.j41(17,"button",15),t.EFF(18," Charger "),t.DNE(19,w,1,0,"span",16),t.k0s()()()()()()),2&o&&(t.R7$(2),t.Y8G("formGroup",s._formGroup),t.R7$(3),t.Y8G("ngIf",s.Countries$.length>1&&0===s.countries.length||s.countries.length>1),t.R7$(),t.Y8G("ngIf",s.Regions$.length>1&&0===s.regions.length||s.regions.length>1),t.R7$(),t.Y8G("ngIf",s.Prefectures$.length>1&&0===s.prefectures.length||s.prefectures.length>1),t.R7$(),t.Y8G("ngIf",s.Communes$.length>1&&0===s.communes.length||s.communes.length>1),t.R7$(),t.Y8G("ngIf",s.Hospitals$.length>1&&0===s.hospitals.length||s.hospitals.length>1),t.R7$(),t.Y8G("ngIf",s.DistrictQuartiers$.length>1&&0===s.districtQuartiers.length||s.districtQuartiers.length>1),t.R7$(2),t.Y8G("ngIf",s.Recos$.length>1&&0===s.recos.length||s.recos.length>1),t.R7$(2),t.Y8G("ngIf",s.Years$.length>0),t.R7$(2),t.Y8G("ngIf",s.Months$.length>0),t.R7$(),t.Y8G("disabled",s.ON_FETCHING),t.R7$(2),t.Y8G("ngIf",s.ON_FETCHING))},dependencies:[u.Sq,u.bT,r.qT,r.xH,r.y7,r.wz,r.W0,r.BC,r.cb,r.j4,r.JD],styles:[".validate-data[_ngcontent-%COMP%]{width:350px!important;margin:0!important;display:inline-flex!important}.validate-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 3px!important}"]})}return e})();function P(e,i){if(1&e&&(t.j41(0,"tr")(1,"th",17),t.EFF(2),t.k0s(),t.j41(3,"th"),t.EFF(4),t.k0s(),t.j41(5,"th"),t.EFF(6),t.k0s(),t.j41(7,"th"),t.EFF(8),t.k0s(),t.j41(9,"th"),t.EFF(10),t.k0s(),t.j41(11,"th"),t.EFF(12),t.k0s(),t.j41(13,"th"),t.EFF(14),t.k0s(),t.j41(15,"th"),t.EFF(16),t.k0s(),t.j41(17,"th"),t.EFF(18),t.k0s()()),2&e){const n=i.$implicit,o=t.XpG(2);t.R7$(2),t.JRh(n.index),t.R7$(2),t.JRh(n.label),t.R7$(),t.HbH(o.quantityStyle(n.available_stock)),t.R7$(),t.JRh(n.available_stock),t.R7$(),t.HbH(o.quantityStyle(n.month_stock)),t.R7$(),t.JRh(n.month_stock),t.R7$(),t.HbH(o.quantityStyle(n.consumption)),t.R7$(),t.JRh(n.consumption),t.R7$(),t.HbH(o.quantityStyle(n.loss)),t.R7$(),t.JRh(n.loss),t.R7$(),t.HbH(o.quantityStyle(n.damaged)),t.R7$(),t.JRh(n.damaged),t.R7$(),t.HbH(o.quantityStyle(n.broken)),t.R7$(),t.JRh(n.broken),t.R7$(),t.HbH(o.quantityStyle(n.obselete)),t.R7$(),t.JRh(n.obselete)}}function L(e,i){if(1&e&&(t.j41(0,"tbody"),t.DNE(1,P,19,30,"tr",16),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("ngForOf",n.RECO_MEG$)}}let U=(()=>{class e{constructor(n,o){this.ldbfetch=n,this.snackbar=o,this.ON_FETCHING=!1,this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4}onResize(n){this.screenWidth=window.innerWidth}quantityStyle(n){return n<0?"quantity-error":n>0?"quantity-up":"quantity-down"}SHOW_DATA(n){this._formGroup=n,this._formGroup.value.recos.length>0?(0,c.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.ON_FETCHING=!0,this._formGroup.value.months=(0,c.$r)(this._formGroup.value.months),this.ldbfetch.GetRecoMegDashboard(this._formGroup.value).then(o=>{this.RECO_MEG$=o?.data,this.MONTH=(0,c.Ab)(this._formGroup.value.month).labelFR,this.YEAR=this._formGroup.value.year,o||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.ON_FETCHING=!1},o=>{this.ON_FETCHING=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(p.F),t.rXU(f.z))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["reco-meg-stock"]],hostBindings:function(o,s){1&o&&t.bIt("resize",function(a){return s.onResize(a)},!1,t.tSv)},decls:39,vars:5,consts:[[1,"report-style","row","g-4"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[3,"ON_SHOW_DATA","id","ON_FETCHING"],[1,"table-responsive",2,"padding-top","110px"],[1,"table","table-bordered","table-hover"],[1,"no-border"],["colspan","9",1,"repport-title"],["colspan","9",1,"separation"],[1,"table-head","fp-header-1"],["rowspan","2","scope","col",2,"width","3%"],["rowspan","2","scope","col"],["rowspan","2","scope","col",2,"width","10%"],["colspan","6",2,"text-align","center"],["scope","col",2,"width","10%"],[4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(o,s){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"dashbords-orgunit-selector",3),t.bIt("ON_SHOW_DATA",function(a){return s.SHOW_DATA(a)}),t.k0s(),t.j41(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr")(8,"td",7),t.EFF(9," SITUATION MEG STOCK DES RECO "),t.k0s()()(),t.j41(10,"tr",6),t.nrm(11,"td",8),t.k0s(),t.j41(12,"thead")(13,"tr",9)(14,"th",10),t.EFF(15,"N\xb0"),t.k0s(),t.j41(16,"th",11),t.EFF(17,"MEG / INTRANTS"),t.k0s(),t.j41(18,"th",12)(19,"b"),t.EFF(20,"Stock disponible"),t.k0s()(),t.j41(21,"th",13),t.EFF(22,"MOUVEMENT MEG / INTRANTS DE "),t.j41(23,"b"),t.EFF(24),t.k0s()()(),t.j41(25,"tr",9)(26,"th",14),t.EFF(27,"Entr\xe9 en stock"),t.k0s(),t.j41(28,"th",14),t.EFF(29,"Distribu\xe9"),t.k0s(),t.j41(30,"th",14),t.EFF(31,"Perdu"),t.k0s(),t.j41(32,"th",14),t.EFF(33,"Endomag\xe9"),t.k0s(),t.j41(34,"th",14),t.EFF(35,"Cass\xe9"),t.k0s(),t.j41(36,"th",14),t.EFF(37,"P\xe9rim\xe9"),t.k0s()()(),t.DNE(38,L,2,1,"tbody",15),t.k0s()()()()()),2&o&&(t.R7$(3),t.Y8G("id","meg-dashbords-orgunit")("ON_FETCHING",!0===s.ON_FETCHING),t.R7$(21),t.Lme("",s.MONTH," / ",s.YEAR,""),t.R7$(14),t.Y8G("ngIf",s.RECO_MEG$))},dependencies:[u.Sq,u.bT,g],styles:[".quantity-up[_ngcontent-%COMP%]{color:#05002d;font-weight:700}.quantity-down[_ngcontent-%COMP%]{color:#b5b5b5}.quantity-error[_ngcontent-%COMP%]{color:#ff7070}"]})}return e})();var m=l(3111);function x(e,i){if(1&e&&(t.j41(0,"div",15)(1,"div",16)(2,"div",17)(3,"h6",18),t.EFF(4,"Total M\xe9nages"),t.k0s(),t.j41(5,"h3",19),t.EFF(6),t.k0s()()()()),2&e){const n=t.XpG();t.R7$(6),t.JRh(n.householdCount)}}function B(e,i){if(1&e&&(t.j41(0,"div",15)(1,"div",16)(2,"div",20)(3,"h6",18),t.EFF(4,"Total Patients"),t.k0s(),t.j41(5,"h3",19),t.EFF(6),t.k0s()()()()),2&e){const n=t.XpG();t.R7$(6),t.JRh(n.patientCount)}}function J(e,i){if(1&e&&(t.j41(0,"div",15)(1,"div",16)(2,"div",20)(3,"h6",18),t.EFF(4,"Total 0 \xe0 2 mois"),t.k0s(),t.j41(5,"h3",19),t.EFF(6),t.k0s()()()()),2&e){const n=t.XpG();t.R7$(6),t.JRh(n.newborn0To2MonthsCount)}}function q(e,i){if(1&e&&(t.j41(0,"div",15)(1,"div",16)(2,"div",20)(3,"h6",18),t.EFF(4,"Total 2 \xe0 60 mois"),t.k0s(),t.j41(5,"h3",19),t.EFF(6),t.k0s()()()()),2&e){const n=t.XpG();t.R7$(6),t.JRh(n.child2To60MonthsCount)}}function W(e,i){if(1&e&&(t.j41(0,"div",15)(1,"div",16)(2,"div",20)(3,"h6",18),t.EFF(4,"Total 5 \xe0 14 ans"),t.k0s(),t.j41(5,"h3",19),t.EFF(6),t.k0s()()()()),2&e){const n=t.XpG();t.R7$(6),t.JRh(n.child5To14YearsCount)}}function X(e,i){if(1&e&&(t.j41(0,"div",15)(1,"div",16)(2,"div",20)(3,"h6",18),t.EFF(4,"Total > \xe0 14 ans"),t.k0s(),t.j41(5,"h3",19),t.EFF(6),t.k0s()()()()),2&e){const n=t.XpG();t.R7$(6),t.JRh(n.adultOver14YearsCount)}}function z(e,i){if(1&e&&(t.j41(0,"div",15)(1,"div",16)(2,"div",20)(3,"h6",18),t.EFF(4,"Total consultations"),t.k0s(),t.j41(5,"h3",19),t.EFF(6),t.k0s()()()()),2&e){const n=t.XpG();t.R7$(6),t.JRh(n.consultationCount)}}function Q(e,i){if(1&e&&(t.j41(0,"div",15)(1,"div",16)(2,"div",20)(3,"h6",18),t.EFF(4,"Total des suivis"),t.k0s(),t.j41(5,"h3",19),t.EFF(6),t.k0s()()()()),2&e){const n=t.XpG();t.R7$(6),t.JRh(n.followupCount)}}function Z(e,i){if(1&e&&(t.j41(0,"div",15)(1,"div",16)(2,"div",20)(3,"h6",18),t.EFF(4,"Total des Actions"),t.k0s(),t.j41(5,"h3",19),t.EFF(6),t.k0s()()()()),2&e){const n=t.XpG();t.R7$(6),t.JRh(n.allActionsCount)}}let K=(()=>{class e{constructor(n,o){this.ldbfetch=n,this.snackbar=o,this.ON_FETCHING=!1,this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4}onResize(n){this.screenWidth=window.innerWidth}quantityStyle(n){return n<0?"quantity-error":n>0?"quantity-up":"quantity-down"}SHOW_DATA(n){this._formGroup=n,this._formGroup.value.recos.length>0?(0,c.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.ON_FETCHING=!0,this._formGroup.value.months=(0,c.$r)(this._formGroup.value.months),this.ldbfetch.GetRecoPerformanceDashboard(this._formGroup.value).then(o=>{this.householdCount=o?.data.householdCount??0,this.patientCount=o?.data.patientCount??0,this.newborn0To2MonthsCount=o?.data.newborn0To2MonthsCount??0,this.child2To60MonthsCount=o?.data.child2To60MonthsCount??0,this.child5To14YearsCount=o?.data.child5To14YearsCount??0,this.adultOver14YearsCount=o?.data.adultOver14YearsCount??0,this.consultationCount=o?.data.consultationCount??0,this.followupCount=o?.data.followupCount??0,this.allActionsCount=o?.data.allActionsCount??0;const s=o?.data.barChart,_=o?.data.yearBarChart,a=o?.data.yearLineChart;s&&(this.BAR_TITLE=s.title,this.generateChart({cibleId:"bar-chart",type:"bar",absisseLabels:s.absisseLabels,datasets:s.datasets})),a&&(this.YEAR_LINE_TITLE=a.title,this.generateChart({cibleId:"year-line-chart",type:"line",absisseLabels:a.absisseLabels,datasets:a.datasets})),_&&(this.YEAR_BAR_TITLE=_.title,this.generateChart({cibleId:"year-bar-chart",type:"bar",absisseLabels:_.absisseLabels,datasets:_.datasets})),this.MONTH=(0,c.Ab)(this._formGroup.value.month).labelFR,this.YEAR=this._formGroup.value.year,o||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.ON_FETCHING=!1},o=>{console.log(o),this.ON_FETCHING=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}generateChart(n){const o=$("#"+n.cibleId).get(0);o&&o.chart&&o.chart.destroy(),Chart.defaults.color="#6C7293",Chart.defaults.borderColor="#000000";var s=[];for(const h of n.datasets){const d={label:h.label,backgroundColor:h.backgroundColor,data:h.data,borderWidth:"bar"!==n.type?3:0,pointBorderColor:"#000",pointBorderWidth:3,pointRadius:4,pointHoverBackgroundColor:"#fff",pointHoverBorderWidth:2};h.fill&&(d.fill=!0===h.fill),h.borderColor&&(d.borderColor=h.borderColor),h.pointBackgroundColor&&(d.pointBackgroundColor=h.pointBackgroundColor),h.pointHoverBorderColor&&(d.pointHoverBorderColor=h.pointHoverBorderColor),s.push(d)}const _=o.getContext("2d"),a=new Chart(_,{type:n.type,data:{labels:n.absisseLabels,datasets:s},options:{responsive:!0,maintainAspectRatio:!0,hover:{mode:"nearest",intersect:!0},title:{display:!0,text:"REOC DATA",fontSize:16,fontColor:"#333",fontFamily:"Arial",fontStyle:"bold"},legend:{display:!0,position:"top",labels:{fontSize:12,fontColor:"#666",fontFamily:"Arial",fontStyle:"normal"}},tooltips:{enabled:!0,mode:"label",backgroundColor:"rgba(0,0,0,0.2)",titleFontFamily:"Arial",titleFontSize:14,titleFontStyle:"normal",titleFontColor:"#fff",bodyFontFamily:"Arial",bodyFontSize:12,bodyFontStyle:"normal",bodyFontColor:"#fff",displayColors:!1},scales:{x:{display:!0,ticks:{beginAtZero:!0,fontSize:12,fontColor:"#666",fontFamily:"Arial",fontStyle:"normal"},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)",offsetGridLines:!0},scaleLabel:{display:!0,labelString:"Value"}},y:{display:!0,ticks:{beginAtZero:!0,fontSize:12,fontColor:"#666",fontFamily:"Arial",fontStyle:"normal"},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)",offsetGridLines:!0},scaleLabel:{display:!0,labelString:"Value"}}}}});o.chart=a}genarateDataSet(){setTimeout(()=>{})}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(p.F),t.rXU(f.z))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["reco-performance"]],hostBindings:function(o,s){1&o&&t.bIt("resize",function(a){return s.onResize(a)},!1,t.tSv)},decls:42,vars:27,consts:[[1,"report-style","row","g-4"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[3,"ON_SHOW_DATA","id","ON_FETCHING"],[1,"table-responsive",2,"padding-top","110px"],[2,"color","black"],[1,"container-fluid","pt-4","px-4"],[1,"row","g-4"],["class","col-sm-3 col-xl-3",4,"ngIf"],[1,"col-sm-12","col-xl-12"],[1,"mb-4","dark-color"],["id","bar-chart"],["id","year-line-chart"],["id","year-bar-chart"],["id","line-chart"],[1,"col-sm-3","col-xl-3"],[1,"bg-chart","rounded","d-flex","align-items-center","justify-content-between","p-2"],[1,"ms-3"],[1,"mb-2","black-color"],[1,"mb-0","dark-color"],[1,"ms-2"]],template:function(o,s){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"dashbords-orgunit-selector",3),t.bIt("ON_SHOW_DATA",function(a){return s.SHOW_DATA(a)}),t.k0s(),t.j41(4,"div",4)(5,"h3",5),t.EFF(6,"PERFORMANCE DES RECOS"),t.k0s(),t.j41(7,"div",6)(8,"div",7),t.DNE(9,x,7,1,"div",8)(10,B,7,1,"div",8)(11,J,7,1,"div",8)(12,q,7,1,"div",8)(13,W,7,1,"div",8)(14,X,7,1,"div",8)(15,z,7,1,"div",8)(16,Q,7,1,"div",8)(17,Z,7,1,"div",8),t.k0s()(),t.j41(18,"div",6)(19,"div",7)(20,"div",6)(21,"div",7)(22,"div",9)(23,"div")(24,"h6",10),t.EFF(25),t.k0s(),t.nrm(26,"canvas",11),t.k0s()(),t.j41(27,"div",9)(28,"div")(29,"h6",10),t.EFF(30),t.k0s(),t.nrm(31,"canvas",12),t.k0s()(),t.j41(32,"div",9)(33,"div")(34,"h6",10),t.EFF(35),t.k0s(),t.nrm(36,"canvas",13),t.k0s()(),t.j41(37,"div",9)(38,"div")(39,"h6",10),t.EFF(40),t.k0s(),t.nrm(41,"canvas",14),t.k0s()()()()()()()()()()),2&o&&(t.R7$(3),t.Y8G("id","pr-repports-orgunit")("ON_FETCHING",!0===s.ON_FETCHING),t.R7$(6),t.Y8G("ngIf",s.householdCount>=0),t.R7$(),t.Y8G("ngIf",s.patientCount>=0),t.R7$(),t.Y8G("ngIf",s.newborn0To2MonthsCount>=0),t.R7$(),t.Y8G("ngIf",s.child2To60MonthsCount>=0),t.R7$(),t.Y8G("ngIf",s.child5To14YearsCount>=0),t.R7$(),t.Y8G("ngIf",s.adultOver14YearsCount>=0),t.R7$(),t.Y8G("ngIf",s.consultationCount>=0),t.R7$(),t.Y8G("ngIf",s.followupCount>=0),t.R7$(),t.Y8G("ngIf",s.allActionsCount>=0),t.R7$(6),t.ZvI("",s.BAR_TITLE&&""!==s.BAR_TITLE?"bg-chart":"bg-white"," rounded h-100 p-4"),t.R7$(2),t.JRh(s.BAR_TITLE),t.R7$(3),t.ZvI("",s.YEAR_LINE_TITLE&&""!==s.YEAR_LINE_TITLE?"bg-chart":"bg-white"," rounded h-100 p-4"),t.R7$(2),t.JRh(s.YEAR_LINE_TITLE),t.R7$(3),t.ZvI("",s.YEAR_BAR_TITLE&&""!==s.YEAR_BAR_TITLE?"bg-chart":"bg-white"," rounded h-100 p-4"),t.R7$(2),t.JRh(s.YEAR_BAR_TITLE),t.R7$(3),t.ZvI("",s.LINE_TITLE&&""!==s.LINE_TITLE?"bg-chart":"bg-white"," rounded h-100 p-4"),t.R7$(2),t.JRh(s.LINE_TITLE))},dependencies:[u.bT,g],styles:[".org-units[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#5e5e5e!important;text-decoration:none;border-bottom:2px dashed!important}.selected[_ngcontent-%COMP%]{background-color:#bae5ff!important}.bg-chart[_ngcontent-%COMP%]{background-color:azure;border:1px solid rgb(209,243,255)!important}.dark-color[_ngcontent-%COMP%]{color:#00008b!important}.black-color[_ngcontent-%COMP%]{color:#797979!important}.show[_ngcontent-%COMP%]{visibility:visible}.hide[_ngcontent-%COMP%]{visibility:hidden;background-color:#fff}.orgunit-style[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}"]})}return e})();var tt=l(6098);let nt=(()=>{class e{constructor(n){this.sanitizer=n}transform(n,o){switch(o){case"html":default:return this.sanitizer.bypassSecurityTrustHtml(n);case"style":return this.sanitizer.bypassSecurityTrustStyle(n);case"script":return this.sanitizer.bypassSecurityTrustScript(n);case"url":return this.sanitizer.bypassSecurityTrustUrl(n);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(n)}}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(tt.up,16))};static#n=this.\u0275pipe=t.EJ8({name:"safeHtml",type:e,pure:!0});static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const et=()=>[];function ot(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function it(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function st(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function rt(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function at(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function ct(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function _t(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function lt(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function ht(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function ut(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function dt(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function pt(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function ft(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function gt(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function mt(e,i){if(1&e&&(t.qex(0),t.j41(1,"th",19),t.EFF(2),t.k0s(),t.j41(3,"th",19),t.EFF(4),t.k0s(),t.j41(5,"th",19),t.EFF(6),t.k0s(),t.j41(7,"th",19),t.EFF(8),t.k0s(),t.j41(9,"th",19),t.EFF(10),t.k0s(),t.DNE(11,ot,3,4,"th",21)(12,it,3,4,"th",21)(13,st,3,4,"th",21)(14,rt,3,4,"th",21)(15,at,3,4,"th",21)(16,ct,3,4,"th",21)(17,_t,3,4,"th",21)(18,lt,3,4,"th",21)(19,ht,3,4,"th",21)(20,ut,3,4,"th",21)(21,dt,3,4,"th",21)(22,pt,3,4,"th",21)(23,ft,3,4,"th",21)(24,gt,3,4,"th",21),t.bVm()),2&e){const n=t.XpG().$implicit,o=t.XpG(4);t.R7$(2),t.JRh(n.child_name),t.R7$(2),t.JRh(n.child_sex),t.R7$(2),t.JRh(n.child_age_str),t.R7$(2),t.JRh(n.child_code),t.R7$(2),t.JRh(n.child_phone),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_BCG,n.child_age_in_days,0)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VPO_0,n.child_age_in_days,0)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_PENTA_1,n.child_age_in_days,42)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VPO_1,n.child_age_in_days,42)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_PENTA_2,n.child_age_in_days,70)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VPO_2,n.child_age_in_days,70)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_PENTA_3,n.child_age_in_days,98)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VPO_3,n.child_age_in_days,98)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VPI_1,n.child_age_in_days,98)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VAR_1,n.child_age_in_months,9)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VAA,n.child_age_in_months,9)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VPI_2,n.child_age_in_months,9)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_MEN_A,n.child_age_in_months,15)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VAR_2,n.child_age_in_months,15))}}function bt(e,i){if(1&e&&(t.qex(0),t.DNE(1,mt,25,19,"ng-container",20),t.bVm()),2&e){const n=i.index;t.R7$(),t.Y8G("ngIf",0===n)}}function Rt(e,i){if(1&e&&(t.qex(0),t.DNE(1,bt,2,1,"ng-container",17),t.bVm()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",n.data)}}function Ct(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function Tt(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function Gt(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function vt(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function $t(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function Ft(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function Et(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function yt(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function It(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function kt(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function Ot(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function Yt(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function Dt(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function Nt(e,i){if(1&e&&(t.j41(0,"th",22),t.nrm(1,"span",23),t.nI1(2,"safeHtml"),t.k0s()),2&e){const n=i.ngIf;t.Y8G("ngClass",n.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,2,n.action),t.npT)}}function jt(e,i){if(1&e&&(t.j41(0,"tr")(1,"th",19),t.EFF(2),t.k0s(),t.j41(3,"th",19),t.EFF(4),t.k0s(),t.j41(5,"th",19),t.EFF(6),t.k0s(),t.j41(7,"th",19),t.EFF(8),t.k0s(),t.j41(9,"th",19),t.EFF(10),t.k0s(),t.DNE(11,Ct,3,4,"th",21)(12,Tt,3,4,"th",21)(13,Gt,3,4,"th",21)(14,vt,3,4,"th",21)(15,$t,3,4,"th",21)(16,Ft,3,4,"th",21)(17,Et,3,4,"th",21)(18,yt,3,4,"th",21)(19,It,3,4,"th",21)(20,kt,3,4,"th",21)(21,Ot,3,4,"th",21)(22,Yt,3,4,"th",21)(23,Dt,3,4,"th",21)(24,Nt,3,4,"th",21),t.k0s()),2&e){const n=t.XpG().$implicit,o=t.XpG(3);t.R7$(2),t.JRh(n.child_name),t.R7$(2),t.JRh(n.child_sex),t.R7$(2),t.JRh(n.child_age_str),t.R7$(2),t.JRh(n.child_code),t.R7$(2),t.JRh(n.child_phone),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_BCG,n.child_age_in_days,0)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VPO_0,n.child_age_in_days,0)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_PENTA_1,n.child_age_in_days,42)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VPO_1,n.child_age_in_days,42)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_PENTA_2,n.child_age_in_days,70)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VPO_2,n.child_age_in_days,70)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_PENTA_3,n.child_age_in_days,98)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VPO_3,n.child_age_in_days,98)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VPI_1,n.child_age_in_days,98)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VAR_1,n.child_age_in_months,9)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VAA,n.child_age_in_months,9)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VPI_2,n.child_age_in_months,9)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_MEN_A,n.child_age_in_months,15)),t.R7$(),t.Y8G("ngIf",o.vaccineUtils(n.vaccine_VAR_2,n.child_age_in_months,15))}}function Ht(e,i){if(1&e&&(t.qex(0),t.DNE(1,jt,25,19,"tr",20),t.bVm()),2&e){const n=i.index;t.R7$(),t.Y8G("ngIf",0!==n)}}function Mt(e,i){if(1&e&&(t.qex(0),t.j41(1,"tr")(2,"th",18),t.EFF(3),t.k0s(),t.j41(4,"th",19),t.EFF(5),t.k0s(),t.DNE(6,Rt,2,1,"ng-container",20),t.k0s(),t.DNE(7,Ht,2,1,"ng-container",17),t.bVm()),2&e){const n=i.$implicit;t.R7$(2),t.BMQ("rowspan",n.data.length),t.R7$(),t.JRh(n.family_code),t.R7$(),t.BMQ("rowspan",n.data.length),t.R7$(),t.JRh(n.family_fullname.replace(n.family_code+" - ","")),t.R7$(),t.Y8G("ngIf",n.data.length>0),t.R7$(),t.Y8G("ngForOf",n.data)}}function At(e,i){if(1&e&&(t.j41(0,"tbody",9),t.DNE(1,Mt,8,6,"ng-container",17),t.k0s()),2&e){const n=i.$implicit;t.R7$(),t.Y8G("ngForOf",n.children_vaccines)}}const Vt=[{path:"",redirectTo:"reco-performance-dashboard",pathMatch:"full"},{path:"reco-performance-dashboard",component:K,canActivate:[m.d],data:{href:"dashboards/reco-performance-dashboard",title:"Performance des Reco"}},{path:"reco-vaccination-dashboard",component:(()=>{class e{constructor(n,o){this.ldbfetch=n,this.snackbar=o,this.ON_FETCHING=!1,this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4}onResize(n){this.screenWidth=window.innerWidth}vaccineUtils(n,o,s){return o>=s?{class:!0===n?"vaccine-on":"vaccine-off",action:!0===n?"&#10003;":"&times;"}:{class:"vaccine-NA",action:"NA"}}quantityStyle(n){return n<0?"quantity-error":n>0?"quantity-up":"quantity-down"}SHOW_DATA(n){this._formGroup=n,this._formGroup.value.recos.length>0?(0,c.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.ON_FETCHING=!0,this._formGroup.value.months=(0,c.$r)(this._formGroup.value.months),this.ldbfetch.GetRecoVaccinationDashboard(this._formGroup.value).then(o=>{this.RECO_VACCINES$=o?.data,this.MONTH=(0,c.Ab)(this._formGroup.value.month).labelFR,this.YEAR=this._formGroup.value.year,o||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.ON_FETCHING=!1},o=>{this.ON_FETCHING=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(p.F),t.rXU(f.z))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["reco-vaccination"]],hostBindings:function(o,s){1&o&&t.bIt("resize",function(a){return s.onResize(a)},!1,t.tSv)},decls:70,vars:17,consts:[[1,"report-style","row","g-4"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[3,"ON_SHOW_DATA","id","ON_FETCHING"],[1,"table-responsive",2,"padding-top","110px"],[1,"table","table-bordered","table-hover"],[1,"no-border"],["colspan","21",1,"repport-title"],["colspan","21",1,"separation"],[2,"font-size","14px!important"],[1,"table-head","fp-header-1"],["scope","col",2,"width","5px",3,"rowSpan"],["scope","col",1,"vaccine-big-head",3,"rowSpan"],["scope","col",1,"vaccine-big-head",2,"width","5px",3,"rowSpan"],["scope","col",1,"vaccine-big-head",3,"colSpan"],["scope","col",1,"vaccine-head"],["style","font-size: 14px!important;",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","row",2,"padding","2px"],[2,"padding","2px"],[4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"innerHTML"]],template:function(o,s){if(1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"dashbords-orgunit-selector",3),t.bIt("ON_SHOW_DATA",function(a){return s.SHOW_DATA(a)}),t.k0s(),t.j41(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr")(8,"td",7),t.EFF(9," LIST DES MOINS DE 5 ANS AVEC VACCINS NON A JOUR "),t.k0s()()(),t.j41(10,"tr",6),t.nrm(11,"td",8),t.k0s(),t.j41(12,"thead",9)(13,"tr",10)(14,"th",11),t.EFF(15,"N\xb0"),t.k0s(),t.j41(16,"th",12),t.EFF(17,"M\xe9nage"),t.k0s(),t.j41(18,"th",12),t.EFF(19,"Nom"),t.k0s(),t.j41(20,"th",13),t.EFF(21,"Sexe"),t.k0s(),t.j41(22,"th",12),t.EFF(23,"Age"),t.k0s(),t.j41(24,"th",13),t.EFF(25,"Code"),t.k0s(),t.j41(26,"th",13),t.EFF(27,"Phone"),t.k0s(),t.j41(28,"th",14),t.EFF(29,"Naissance"),t.k0s(),t.j41(30,"th",14),t.EFF(31,"6 semaines"),t.k0s(),t.j41(32,"th",14),t.EFF(33,"10 semaines"),t.k0s(),t.j41(34,"th",14),t.EFF(35,"14 semaines"),t.k0s(),t.j41(36,"th",14),t.EFF(37,"9 mois"),t.k0s(),t.j41(38,"th",14),t.EFF(39,"15 mois"),t.k0s()(),t.j41(40,"tr",10)(41,"th",15),t.EFF(42,"BCG"),t.k0s(),t.j41(43,"th",15),t.EFF(44,"VPO_0"),t.k0s(),t.j41(45,"th",15),t.EFF(46,"PENTA_1"),t.k0s(),t.j41(47,"th",15),t.EFF(48,"VPO_1"),t.k0s(),t.j41(49,"th",15),t.EFF(50,"PENTA_2"),t.k0s(),t.j41(51,"th",15),t.EFF(52,"VPO_2"),t.k0s(),t.j41(53,"th",15),t.EFF(54,"PENTA_3"),t.k0s(),t.j41(55,"th",15),t.EFF(56,"VPO_3"),t.k0s(),t.j41(57,"th",15),t.EFF(58,"VPI_1"),t.k0s(),t.j41(59,"th",15),t.EFF(60,"VAR_1"),t.k0s(),t.j41(61,"th",15),t.EFF(62,"VAA"),t.k0s(),t.j41(63,"th",15),t.EFF(64,"VPI_2"),t.k0s(),t.j41(65,"th",15),t.EFF(66,"MEN_A"),t.k0s(),t.j41(67,"th",15),t.EFF(68,"VAR_2"),t.k0s()()(),t.DNE(69,At,2,1,"tbody",16),t.k0s()()()()()),2&o){let _;t.R7$(3),t.Y8G("id","vc-repports-orgunit")("ON_FETCHING",!0===s.ON_FETCHING),t.R7$(11),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("colSpan",2),t.R7$(2),t.Y8G("colSpan",2),t.R7$(2),t.Y8G("colSpan",2),t.R7$(2),t.Y8G("colSpan",3),t.R7$(2),t.Y8G("colSpan",3),t.R7$(2),t.Y8G("colSpan",2),t.R7$(31),t.Y8G("ngForOf",null!==(_=s.RECO_VACCINES$)&&void 0!==_?_:t.lJ4(16,et))}},dependencies:[u.YU,u.Sq,u.bT,g,nt],styles:[".vaccine-big-head[_ngcontent-%COMP%]{padding:2px!important;text-align:center!important}.vaccine-head[_ngcontent-%COMP%]{font-size:14px!important;width:50px!important;padding:2px!important}.vaccine-on[_ngcontent-%COMP%]{text-align:center!important;font-size:18px!important;font-weight:700!important;color:green!important;padding:2px 0 0!important}.vaccine-off[_ngcontent-%COMP%]{text-align:center!important;font-size:20px!important;font-weight:700!important;color:brown!important;padding:0!important}.vaccine-NA[_ngcontent-%COMP%]{text-align:center!important;font-size:14px!important;font-weight:700!important;color:#d7d7d7!important;padding:5px 0 0!important}"]})}return e})(),canActivate:[m.d],data:{href:"dashboards/reco-vaccination-dashboard",title:"Vaccination des enfants"}},{path:"reco-meg-dashboard",component:U,canActivate:[m.d],data:{href:"dashboards/reco-meg-dashboard",title:"Reco Meg Dashboard"}}];let wt=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275mod=t.$C({type:e});static#e=this.\u0275inj=t.G2t({imports:[R.iI.forChild(Vt),R.iI]})}return e})();var Pt=l(5961);let Lt=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275mod=t.$C({type:e});static#e=this.\u0275inj=t.G2t({imports:[u.MD,r.X1,wt,Pt.G]})}return e})()}}]);