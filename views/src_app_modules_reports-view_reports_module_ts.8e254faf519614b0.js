"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([["src_app_modules_reports-view_reports_module_ts"],{9699:(Ne,v,p)=>{p.r(v),p.d(v,{ReportsModule:()=>Oe});var R=p(4765),F=p(8832),G=p(6651),E=p(3308),S=p(3691),w=p(6104),u=p(6340),t=p(6769),A=p(3366),b=p(3348),m=p(6167),T=p(2365),f=p(5065),g=p(3122),x=p(5981),k=p(8240),j=p(9697);let D=(()=>{class o{constructor(e,n,r,a,c){this.userCtx=e,this.conn=n,this.fGroup=r,this.api=a,this.ldbfetch=c,this.dhis2SendingSubject=new x.t(void 0),this.isOnline=!1,this.destroy$=new w.B,this.REPORTS_HEADER={ON_FETCHING:{},IS_VALIDATED:{},IS_ON_DHIS2:{},ON_VALIDATION:{},ON_CANCEL_VALIDATION:{},ON_DHIS2_SENDING:{},ON_DHIS2_SENDING_ERROR:{}},this.REPORTS_DATA={MONTHLY_ACTIVITY:void 0,FAMILY_PLANNING:void 0,HOUSE_HOLD_RECAP:void 0,MORBIDITY:void 0,PCIMNE_NEWBORN:void 0,PROMOTION:void 0,RECO_MEG_QUANTITIES:void 0},this.getCurrentUser(),this.conn.getOnlineStatus().pipe((0,u.Q)(this.destroy$)).subscribe(l=>{this.isOnline=l}),this.fGroup.REPORTS_HEADER$.pipe((0,u.Q)(this.destroy$)).subscribe(l=>{l&&Object.entries(this.REPORTS_HEADER).forEach(([h,_])=>{this.REPORTS_HEADER[h]=l[h]??(Array.isArray(_)?[]:{})})}),this.fGroup.REPORTS_DATA$.pipe((0,u.Q)(this.destroy$)).subscribe(l=>{l&&Object.keys(this.REPORTS_DATA).forEach(h=>{this.REPORTS_DATA[h]=l[h]})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getDhis2SendingStatus(){return this.dhis2SendingSubject.asObservable()}sendReportsToDhis2(e){var n=this;return(0,E.A)(function*(){if(e.onError({msg:"D\xe9marrage de l'envoi au DHIS2 ...",color:"default"}),!(e.form?.valid&&e.dhis2Form?.valid&&n.Recos$?.length&&e.reportNames?.length))return void e.onError({msg:"Informations non suffisante pour l'envoi des donn\xe9es au DHIS2",color:"danger",position:"TOP"});const r=e.form.value.year,a=(0,S.$r)(e.form.value.months),c=e.dhis2Form.value.dhis2_orgunits??[],l=e.dhis2Form.value.dhis2_username,h=e.dhis2Form.value.dhis2_password;if(r&&a.length&&c.length&&l&&h)for(const _ of e.reportNames){yield n.updateReportHeader(_,!0,!1);for(const s of a)for(const d of c){const y=n.Recos$.filter(O=>O.hospital_id===d.id).map(O=>O.id);if(0==(y??[]).length){yield n.updateReportHeader(_,!1,!0),e.onError({msg:`Pas de RECO trouv\xe9s pour: [${_}, ${d.name}]`,color:"danger"});continue}const ke={months:[s],year:parseInt(r),recos:y},L=(0,k.H)(n.getFetchMethod(_,ke,!0));L?L.subscribe({next:function(){var O=(0,E.A)(function*(N){if(!N||!N?.data)return yield n.updateReportHeader(_,!1,!0),void e.onWarning({msg:`Donn\xe9es non trouv\xe9s pour: [${_}, ${d.name}]`,color:"warning"});const H={months:[s],year:parseInt(r),recos:y,username:l,password:h,data:N?.data,period:{year:r,month:s},orgunit:d.id},J=n.getSendMethod(_,H);if(!J)return yield n.updateReportHeader(_,!1,!0),void e.onWarning({msg:`Impossible d'effectuer l'envoi pour: [${_}, ${d.name}]`,color:"warning"});var $;J.subscribe({next:($=(0,E.A)(function*(V){200===V.status?(yield n.updateReportHeader(_,!1,!1),e.onSuccess({msg:`Donn\xe9es ${_} pour ${d.name} envoy\xe9es avec succ\xe8s au DHIS2`,color:"success"})):(yield n.updateReportHeader(_,!1,!0),e.onError({msg:`Oups!!! Donn\xe9es ${_} pour ${d.name} non envoy\xe9es au DHIS2`,color:"danger"}))}),function(je){return $.apply(this,arguments)}),error:function(){var $=(0,E.A)(function*(V){yield n.updateReportHeader(_,!1,!0),e.onError({msg:`Erreur inconnue avec ${_} pour ${d.name}`,color:"danger"})});return function(je){return $.apply(this,arguments)}}(),complete:function(){var $=(0,E.A)(function*(){});return function(){return $.apply(this,arguments)}}()})});return function(H){return O.apply(this,arguments)}}(),error:function(){var O=(0,E.A)(function*(N){yield n.updateReportHeader(_,!1,!0),e.onError({msg:`Erreur lors de la r\xe9cup\xe9ration des donn\xe9es avec ${_} pour ${d.name}: ${N.message}`,color:"danger"})});return function(H){return O.apply(this,arguments)}}(),complete:function(){var O=(0,E.A)(function*(){});return function(){return O.apply(this,arguments)}}()}):(yield n.updateReportHeader(_,!1,!0),e.onError({msg:`Informations invalides pour: [${_}, ${d.name}]`,color:"danger"}))}}else e.onWarning({msg:"Informations invalides pour l'envoi au DHIS2",color:"warning"})})()}getCurrentUser(){var e=this;return(0,E.A)(function*(){const n=yield e.userCtx.currentUser();(!e.Recos$||0==e.Recos$.length)&&(e.Recos$=n?.recos??[])})()}updateReportHeader(e,n,r){var a=this;return(0,E.A)(function*(){a.REPORTS_HEADER.ON_DHIS2_SENDING[e]=n,a.REPORTS_HEADER.ON_DHIS2_SENDING_ERROR[e]=r,yield a.fGroup.SET_REPORTS_HEADER(a.REPORTS_HEADER)})()}getFetchMethod(e,n,r=!0){var a=this;return(0,E.A)(function*(){return{MONTHLY_ACTIVITY:a.ldbfetch.GetChwsRecoReports(n,r),FAMILY_PLANNING:a.ldbfetch.GetFamilyPlanningReports(n,r),HOUSE_HOLD_RECAP:a.ldbfetch.GetHouseholdRecapReports(n,r),MORBIDITY:a.ldbfetch.GetMorbidityReports(n,r),PCIMNE_NEWBORN:a.ldbfetch.GetPcimneNewbornReports(n,r),PROMOTION:a.ldbfetch.GetPromotionReports(n,r),RECO_MEG_QUANTITIES:a.ldbfetch.GetRecoMegSituationReports(n,r)}[e]})()}getSendMethod(e,n){return{MONTHLY_ACTIVITY:this.api.SendChwsRecoReportsToDhis2(n),FAMILY_PLANNING:this.api.SendFamilyPlanningActivitiesToDhis2(n),HOUSE_HOLD_RECAP:this.api.SendHouseholdActivitiesToDhis2(n),MORBIDITY:this.api.SendMorbidityActivitiesToDhis2(n),PCIMNE_NEWBORN:this.api.SendPcimneNewbornActivitiesToDhis2(n),PROMOTION:this.api.SendPromotionActivitiesToDhis2(n),RECO_MEG_QUANTITIES:this.api.SendRecoMegSituationActivitiesToDhis2(n)}[e]}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(m.i),t.KVO(f.T),t.KVO(g.z),t.KVO(A.G),t.KVO(j.F))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var X=p(4155),M=p(5455);function U(o,i){1&o&&t.nrm(0,"span",19)}function B(o,i){1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o&&(t.R7$(),t.JRh("Rapport d\xe9ja valid\xe9"))}function Y(o,i){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=t.XpG(3);t.R7$(),t.SpI(" ",e.IS_ALL_REPPORTS_VALIDATED?"Annuler toute validation":"Valider tous les rapport"," ")}}function Z(o,i){1&o&&t.nrm(0,"span",19)}function z(o,i){if(1&o){const e=t.RV6();t.j41(0,"button",20),t.bIt("click",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.IS_ALL_REPPORTS_VALIDATED?a.CancelAllValidation(r):a.ValidateAllReports(r))}),t.DNE(1,B,2,1,"span",0)(2,Y,2,1,"span",0)(3,Z,1,0,"span",3),t.k0s()}if(2&o){const e=t.XpG(2);t.ZvI("submitBtn btn ",e.IS_ALL_REPPORTS_VALIDATED?"btn-info":"btn-warning",""),t.Y8G("disabled",e.ON_ALL_VALIDATION||e.ON_ALL_CANCEL_VALIDATION||e.ON_ALL_DHIS2_SENDING||e.IS_ALL_ON_DHIS2),t.R7$(),t.Y8G("ngIf",e.ON_ALL_DHIS2_SENDING||e.IS_ALL_ON_DHIS2),t.R7$(),t.Y8G("ngIf",!(e.ON_ALL_DHIS2_SENDING||e.IS_ALL_ON_DHIS2)),t.R7$(),t.Y8G("ngIf",e.ON_ALL_VALIDATION||e.ON_ALL_CANCEL_VALIDATION)}}function Q(o,i){1&o&&t.nrm(0,"span",19)}function W(o,i){if(1&o){const e=t.RV6();t.j41(0,"button",21),t.bIt("click",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openAllSendReportsToDhis2Modal(r))}),t.EFF(1),t.DNE(2,Q,1,0,"span",3),t.k0s()}if(2&o){const e=t.XpG(2);t.Y8G("disabled",e.ON_ALL_DHIS2_SENDING||e.IS_ALL_ON_DHIS2),t.R7$(),t.SpI(" ",e.IS_ALL_ON_DHIS2?"D\xe9ja envoy\xe9 au DHIS2":"Tout Envoyer Au DHIS2"," "),t.R7$(),t.Y8G("ngIf",e.ON_ALL_DHIS2_SENDING)}}function q(o,i){if(1&o&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function K(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",13)(1,"label",22),t.EFF(2),t.j41(3,"input",23),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("country",r))}),t.k0s()(),t.j41(4,"select",24),t.bIt("change",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.regionsGenerate())}),t.DNE(5,q,2,2,"option",25),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" Pays :(",e.selectedLength("country"),") "),t.R7$(),t.Y8G("checked",e.isChecked("country")),t.R7$(),t.FS9("multiple",e.countries.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.countries)}}function tt(o,i){if(1&o&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function et(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",13)(1,"label",27),t.EFF(2),t.j41(3,"input",28),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("region",r))}),t.k0s()(),t.j41(4,"select",29),t.bIt("change",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.prefecturesGenerate())}),t.DNE(5,tt,2,2,"option",25),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" R\xe9gions :(",e.selectedLength("region"),") "),t.R7$(),t.Y8G("checked",e.isChecked("region")),t.R7$(),t.FS9("multiple",e.regions.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.regions)}}function nt(o,i){if(1&o&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function ot(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",13)(1,"label",30),t.EFF(2),t.j41(3,"input",31),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("prefecture",r))}),t.k0s()(),t.j41(4,"select",32),t.bIt("change",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.communesGenerate())}),t.DNE(5,nt,2,2,"option",25),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" Pr\xe9fectures :(",e.selectedLength("prefecture"),") "),t.R7$(),t.Y8G("checked",e.isChecked("prefecture")),t.R7$(),t.FS9("multiple",e.prefectures.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.prefectures)}}function rt(o,i){if(1&o&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function at(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",13)(1,"label",33),t.EFF(2),t.j41(3,"input",34),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("commune",r))}),t.k0s()(),t.j41(4,"select",35),t.bIt("change",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.hospitalsGenerate())}),t.DNE(5,rt,2,2,"option",25),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" Communes :(",e.selectedLength("commune"),") "),t.R7$(),t.Y8G("checked",e.isChecked("commune")),t.R7$(),t.FS9("multiple",e.communes.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.communes)}}function st(o,i){if(1&o&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function it(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",13)(1,"label",36),t.EFF(2),t.j41(3,"input",37),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("hospital",r))}),t.k0s()(),t.j41(4,"select",38),t.bIt("change",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.districtsGenerate())}),t.DNE(5,st,2,2,"option",25),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" Centre de sant\xe9 :(",e.selectedLength("hospital"),") "),t.R7$(),t.Y8G("checked",e.isChecked("hospital")),t.R7$(),t.FS9("multiple",e.hospitals.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.hospitals)}}function _t(o,i){if(1&o&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function lt(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",13)(1,"label",39),t.EFF(2),t.j41(3,"input",40),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("district_quartier",r))}),t.k0s()(),t.j41(4,"select",41),t.bIt("change",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.recosGenerate())}),t.DNE(5,_t,2,2,"option",25),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" Districts/Quartiers :(",e.selectedLength("district_quartier"),") "),t.R7$(),t.Y8G("checked",e.isChecked("district_quartier")),t.R7$(),t.FS9("multiple",e.districtQuartiers.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.districtQuartiers)}}function ct(o,i){if(1&o&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function ht(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",13)(1,"label",42),t.EFF(2),t.j41(3,"input",43),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("recos",r))}),t.k0s()(),t.j41(4,"select",44),t.DNE(5,ct,2,2,"option",25),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" Recos :(",e.selectedLength("recos"),") "),t.R7$(),t.Y8G("checked",e.isChecked("recos")),t.R7$(),t.FS9("multiple",e.recos.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.recos)}}function dt(o,i){1&o&&(t.j41(0,"label",45),t.EFF(1," Ann\xe9es : "),t.k0s())}function pt(o,i){if(1&o&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function Rt(o,i){if(1&o&&(t.qex(0),t.DNE(1,pt,2,2,"option",25),t.bVm()),2&o){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.Years$)}}function ut(o,i){1&o&&(t.j41(0,"label",46),t.EFF(1," Mois : "),t.k0s())}function Et(o,i){if(1&o&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.labelFR," ")}}function Ft(o,i){if(1&o&&(t.qex(0),t.DNE(1,Et,2,2,"option",25),t.bVm()),2&o){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.Months$)}}function mt(o,i){1&o&&t.nrm(0,"span",19)}function gt(o,i){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"div",1)(2,"button",2),t.EFF(3," \u{1f50d} Filtrer "),t.DNE(4,U,1,0,"span",3),t.k0s(),t.DNE(5,z,4,7,"button",4)(6,W,3,3,"button",5),t.k0s(),t.nrm(7,"div",6),t.j41(8,"div",7)(9,"div",8)(10,"span",9),t.EFF(11,"\xd7"),t.k0s(),t.j41(12,"h2"),t.EFF(13,"\u{1f50d} Filtrer les donn\xe9es"),t.k0s()(),t.j41(14,"div",10)(15,"form",11),t.bIt("ngSubmit",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.START_ORGUNIT_FILTER(r))}),t.DNE(16,K,6,4,"div",12)(17,et,6,4,"div",12)(18,ot,6,4,"div",12)(19,at,6,4,"div",12)(20,it,6,4,"div",12)(21,lt,6,4,"div",12)(22,ht,6,4,"div",12),t.j41(23,"div",13),t.DNE(24,dt,2,0,"label",14),t.j41(25,"select",15),t.bIt("change",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.initMonths(r))}),t.DNE(26,Rt,2,1,"ng-container",0),t.k0s()(),t.j41(27,"div",13),t.DNE(28,ut,2,0,"label",16),t.j41(29,"select",17),t.DNE(30,Ft,2,1,"ng-container",0),t.k0s()(),t.j41(31,"button",18),t.EFF(32," Appliquer le filtre "),t.DNE(33,mt,1,0,"span",3),t.k0s()()()(),t.bVm()}if(2&o){const e=t.XpG();t.R7$(2),t.Y8G("disabled",e.ON_ALL_FETCHING||e.ON_ALL_VALIDATION||e.ON_ALL_CANCEL_VALIDATION||e.ON_ALL_DHIS2_SENDING),t.R7$(2),t.Y8G("ngIf",e.ON_ALL_FETCHING),t.R7$(),t.Y8G("ngIf",e.CAN_ALL_VALIDATE_REPORTS),t.R7$(),t.Y8G("ngIf",e.CAN_ALL_VALIDATE_REPORTS&&e.CAN_SEND_TO_DHIS2),t.R7$(9),t.Y8G("formGroup",e.form),t.R7$(),t.Y8G("ngIf",e.Countries$.length>1&&0===e.countries.length||e.countries.length>1),t.R7$(),t.Y8G("ngIf",e.Regions$.length>1&&0===e.regions.length||e.regions.length>1),t.R7$(),t.Y8G("ngIf",e.Prefectures$.length>1&&0===e.prefectures.length||e.prefectures.length>1),t.R7$(),t.Y8G("ngIf",e.Communes$.length>1&&0===e.communes.length||e.communes.length>1),t.R7$(),t.Y8G("ngIf",e.Hospitals$.length>1&&0===e.hospitals.length||e.hospitals.length>1),t.R7$(),t.Y8G("ngIf",e.DistrictQuartiers$.length>1&&0===e.districtQuartiers.length||e.districtQuartiers.length>1),t.R7$(),t.Y8G("ngIf",e.Recos$.length>1&&0===e.recos.length||e.recos.length>0),t.R7$(2),t.Y8G("ngIf",e.Years$.length>0),t.R7$(2),t.Y8G("ngIf",e.Years$.length>0),t.R7$(2),t.Y8G("ngIf",e.Months$.length>0),t.R7$(2),t.Y8G("ngIf",e.Months$.length>0),t.R7$(),t.Y8G("disabled",e.ON_ALL_FETCHING||!e.form.valid),t.R7$(2),t.Y8G("ngIf",e.ON_ALL_FETCHING)}}let Tt=(()=>{class o extends X.m{constructor(e,n,r,a){super(e,n,r,a)}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(m.i),t.rXU(g.z),t.rXU(M.B),t.rXU(T.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["reports-orgunits-filter"]],standalone:!1,features:[t.Vt3],decls:1,vars:1,consts:[[4,"ngIf"],[1,"orgunit-filter"],[1,"open-modal-button",2,"width","auto",3,"disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],["style","width: auto!important;",3,"disabled","class","click",4,"ngIf"],["style","width: auto;","class","btn btn-warning",3,"disabled","click",4,"ngIf"],["id","overlay",1,"overlay"],["id","modal-container",1,"modal"],[1,"modal-container-header"],[1,"close"],[1,"modal-container-content"],["id","filterForm","novalidate","",3,"ngSubmit","formGroup"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","year",4,"ngIf"],["id","year","formControlName","year",1,"form-control",3,"change"],["for","months",4,"ngIf"],["id","months","formControlName","months",1,"form-control"],["id","modal-validate",1,"btn","btn-primary","modal-validate",3,"disabled"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"],[2,"width","auto!important",3,"click","disabled"],[1,"btn","btn-warning",2,"width","auto",3,"click","disabled"],["for","country"],["id","all-country","type","checkbox",3,"change","checked"],["id","country","formControlName","country",1,"form-control",3,"change","multiple"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","region"],["id","all-region","type","checkbox",3,"change","checked"],["id","region","formControlName","region",1,"form-control",3,"change","multiple"],["for","prefecture"],["id","all-prefecture","type","checkbox",3,"change","checked"],["id","prefecture","formControlName","prefecture",1,"form-control",3,"change","multiple"],["for","commune"],["id","all-commune","type","checkbox",3,"change","checked"],["id","commune","formControlName","commune",1,"form-control",3,"change","multiple"],["for","hospital"],["id","all-hospital","type","checkbox",3,"change","checked"],["id","hospital","formControlName","hospital",1,"form-control",3,"change","multiple"],["for","district_quartier"],["id","all-district_quartier","type","checkbox",3,"change","checked"],["id","district_quartier","formControlName","district_quartier",1,"form-control",3,"change","multiple"],["for","recos"],["id","all-recos","type","checkbox",3,"change","checked"],["id","recos","formControlName","recos",1,"form-control",3,"multiple"],["for","year"],["for","months"]],template:function(n,r){1&n&&t.DNE(0,gt,34,18,"ng-container",0),2&n&&t.Y8G("ngIf",r.REPORTS_HEADER)},dependencies:[R.G,R.I,F.qT,F.xH,F.y7,F.wz,F.W0,F.BC,F.cb,F.j4,F.JD],styles:[".orgunit-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px}.open-modal-button[_ngcontent-%COMP%]{background-color:#fff;color:#042;padding:10px 15px;cursor:pointer;border:1px solid #004422;border-radius:5px;width:120px;font-weight:700}.open-modal-button[_ngcontent-%COMP%]:hover{background-color:#05a;color:#fff}.orgunit-style[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important;padding:0 2px 0 5px!important;border-radius:3px!important;width:130px!important}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#036}button[_ngcontent-%COMP%]{margin:0 10px}"]})}}return o})();const ft=new t.nKC("FETCH_REPORTS"),At=new t.nKC("VALIDATE_REPORT"),bt=new t.nKC("CANCEL_VALIDATION_REPORT"),Dt=new t.nKC("SEND_REPORT_TO_DHIS2");let I=(()=>{class o{constructor(e,n,r,a,c,l,h,_,s,d){this.fGroup=e,this.db=n,this.userCtx=r,this.conn=a,this.snackbar=c,this.dhis2Service=l,this.fetchReports=h,this.validateReport=_,this.cancelValidationReport=s,this.sendReportToDhis2=d,this.REPPORT_NAME="REPORT",this.isOnline=!1,this.destroy$=new w.B,this.REPORTS_DATA={MONTHLY_ACTIVITY:void 0,FAMILY_PLANNING:void 0,HOUSE_HOLD_RECAP:void 0,MORBIDITY:void 0,PCIMNE_NEWBORN:void 0,PROMOTION:void 0,RECO_MEG_QUANTITIES:void 0},this.REPORTS_HEADER={ON_FETCHING:{},IS_VALIDATED:{},IS_ON_DHIS2:{},ON_VALIDATION:{},ON_CANCEL_VALIDATION:{},ON_DHIS2_SENDING:{},ON_DHIS2_SENDING_ERROR:{}},this.REPORTS_FILTER={RECOS_NEEDED:[],RECOS_SELECTED:[],SEND_DHIS2_ORGUNITS:[]},this.initializeComponent(),this.isOnline=this.conn.isOnline()}initializeComponent(){var e=this;return(0,E.A)(function*(){e.USER||(e.USER=yield e.userCtx.currentUser(),(!e.Recos$||0==e.Recos$.length)&&(e.Recos$=e.USER?.recos??[]))})()}get canValidateReportsData(){return this.USER?.role.canValidateData??!1}get canSendValidatedReportToDhis2(){return this.canValidateReportsData&&(this.USER?.role.canValidateData??!1)}ngOnInit(){this.conn.getOnlineStatus().pipe((0,u.Q)(this.destroy$)).subscribe(e=>{this.isOnline=e}),this.fGroup.formGroup$.pipe((0,u.Q)(this.destroy$)).subscribe(e=>{e&&(this.form=e,this.SHOW_DATA(!0))}),this.fGroup.REPORTS_HEADER$.pipe((0,u.Q)(this.destroy$)).subscribe(e=>{e&&Object.entries(this.REPORTS_HEADER).forEach(([n,r])=>{this.REPORTS_HEADER[n]=e[n]??(Array.isArray(r)?[]:{})})}),this.fGroup.REPORTS_FILTER$.pipe((0,u.Q)(this.destroy$)).subscribe(e=>{e&&Object.keys(this.REPORTS_FILTER).forEach(n=>{this.REPORTS_FILTER[n]=e[n]??[]})}),this.fGroup.REPORTS_DATA$.pipe((0,u.Q)(this.destroy$)).subscribe(e=>{e&&Object.keys(this.REPORTS_DATA).forEach(n=>{this.REPORTS_DATA[n]=e[n]})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){e.CHANGE_STATE&&(this.stateChange=e.CHANGE_STATE.currentValue)}SET_REPORTS_HEADER(){this.fGroup.SET_REPORTS_HEADER(this.REPORTS_HEADER),this.stateChange=new Date}SET_REPORTS_FILTER_DATA(){this.fGroup.SET_REPORTS_FILTER(this.REPORTS_FILTER),this.stateChange=new Date}UPDATE_REPORT_FIELD(e,n){this.REPORTS_HEADER[e]&&(this.REPORTS_HEADER[e][this.REPPORT_NAME]=n,this.SET_REPORTS_HEADER())}hideZero(e){const n=document.getElementById(e);this.activeHideZero=n&&n.checked}shawValue(e){return!this.activeHideZero||0!=e&&"0"!=e?e:""}SHOW_DATA(e){if(e){if(!this.form||!this.form.value||this.form.invalid)return void this.snackbar.showError("Veuillez remplir tous les champs requis.");if(!this.form.value.recos||0==(0,S.$r)(this.form.value.recos).length)return void this.snackbar.show({msg:"Veuillez s\xe9lectionner au moins un RECO",color:"warning",position:"TOP"});if(!this.form.value.months||0==(0,S.$r)(this.form.value.months).length)return void this.snackbar.show({msg:"Veuillez s\xe9lectionner au moins un mois",color:"warning",position:"TOP"});if(!(this.form.value.year&&parseInt(this.form.value.year)>0))return void this.snackbar.show({msg:"Veuillez s\xe9lectionner au moins une ann\xe9e",color:"warning",position:"TOP"});this.REPORTS_FILTER.SEND_DHIS2_ORGUNITS=this.form.value.org_units.hospital,this.REPORTS_FILTER.RECOS_NEEDED=this.form.value.all_recos_ids,this.REPORTS_FILTER.RECOS_SELECTED=this.form.value.selected_recos_ids,this.SET_REPORTS_FILTER_DATA(),this.REPORTS_HEADER.ON_FETCHING[this.REPPORT_NAME]=!0,this.SET_REPORTS_HEADER()}this.fetchReports(this.form.value,this.isOnline).subscribe({next:n=>{if(this.isRecoConnected="RECO"===n?.reco_asc_type,this.REPORTS_HEADER.IS_VALIDATED[this.REPPORT_NAME]=!0===n?.is_validate,this.REPORTS_HEADER.IS_ON_DHIS2[this.REPPORT_NAME]=!0===n?.already_on_dhis2,this.REPORTS_DATA[this.REPPORT_NAME]=n,this.fGroup.SET_REPORTS_DATA(this.REPORTS_DATA),e){const r=`Aucune donn\xe9es trouv\xe9es pour ${this.REPPORT_NAME}!`,a=`${this.REPPORT_NAME} r\xe9cup\xe9r\xe9 avec succ\xe8s.`;this.snackbar.show({msg:n?.data?a:r,color:n?.data?"success":"info"}),this.REPORTS_HEADER.ON_FETCHING[this.REPPORT_NAME]=!1,this.SET_REPORTS_HEADER()}},error:n=>{e&&(this.snackbar.show({msg:`Erreur lors du chargement du ${this.REPPORT_NAME}.`,color:"danger",position:"TOP",duration:5e3}),this.REPORTS_DATA[this.REPPORT_NAME]=void 0,this.fGroup.SET_REPORTS_DATA(this.REPORTS_DATA),this.REPORTS_HEADER.ON_FETCHING[this.REPPORT_NAME]=!1,this.SET_REPORTS_HEADER())},complete:()=>{}})}validateData(){var e=this;if(!this.form)return;this.UPDATE_REPORT_FIELD("ON_VALIDATION",!0);let n=this.form.value;if("HOUSE_HOLD_RECAP"==this.REPPORT_NAME){const r=this.REPORTS_DATA[this.REPPORT_NAME]?.data?.map(a=>a.id)??[];n={...this.form.value,dataIds:r}}var r;this.validateReport(n).subscribe({next:(r=(0,E.A)(function*(a){200==a.status?(e.SHOW_DATA(!1),e.UPDATE_REPORT_FIELD("ON_VALIDATION",!1),e.UPDATE_REPORT_FIELD("IS_VALIDATED",!0),e.snackbar.show({msg:`${e.REPPORT_NAME} valid\xe9 avec succ\xe8s.`,color:"success",position:"TOP"}),!0===e.USER?.role.canUseOfflineMode&&e.isOnline&&(yield e.db.all(e.form.value).then(c=>{}))):(e.UPDATE_REPORT_FIELD("ON_VALIDATION",!1),e.snackbar.show({msg:`Impossible de valider ${e.REPPORT_NAME}.`,color:"warning",position:"TOP"}))}),function(c){return r.apply(this,arguments)}),error:r=>{this.UPDATE_REPORT_FIELD("ON_VALIDATION",!1),this.snackbar.show({msg:`Erreur lors de la validation du ${this.REPPORT_NAME}.`,color:"danger",position:"TOP"})}})}cancelValidation(){var e=this;if(!this.form)return;this.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",!0);let n=this.form.value;if("HOUSE_HOLD_RECAP"==this.REPPORT_NAME){const r=this.REPORTS_DATA[this.REPPORT_NAME]?.data?.map(a=>a.id)??[];n={...this.form.value,dataIds:r}}var r;this.cancelValidationReport(n).subscribe({next:(r=(0,E.A)(function*(a){200==a.status?(e.SHOW_DATA(!1),e.snackbar.show({msg:`Validation du ${e.REPPORT_NAME} annul\xe9e.`,color:"success",position:"TOP"}),e.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",!1),e.UPDATE_REPORT_FIELD("IS_VALIDATED",!1),!0===e.USER?.role.canUseOfflineMode&&e.isOnline&&(yield e.db.all(e.form.value).then(c=>{}))):e.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",!1)}),function(c){return r.apply(this,arguments)}),error:r=>{this.snackbar.showError("Erreur lors de l'annulation de la validation."),this.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",!1)}})}sendDataToDhis2(e){this.dhis2Service.sendReportsToDhis2({form:this.form,dhis2Form:e,reportNames:[this.REPPORT_NAME],onStart:n=>{this.showProcessMessage(n)},onProcess:n=>{this.showProcessMessage(n)},onSuccess:n=>{this.showProcessMessage(n)},onError:n=>{this.showProcessMessage(n)},onWarning:n=>{this.showProcessMessage(n)}})}showProcessMessage(e){e&&(this.snackbar.show({msg:e.msg,color:e.color,position:e.position??"TOP",duration:1e4}),this.CHANGE_STATE=new Date)}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(g.z),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(D),t.rXU(ft),t.rXU(At),t.rXU(bt),t.rXU(Dt))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-report"]],inputs:{CHANGE_STATE:"CHANGE_STATE"},features:[t.OA$],decls:0,vars:0,template:function(n,r){},encapsulation:2})}}return o})();var Ot=p(3677),kt=p(8394);function jt(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",4)(1,"button",5),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.exportToCSV())}),t.EFF(2,"\u{1f4c2} CSV"),t.k0s(),t.j41(3,"button",5),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.exportToJSON())}),t.EFF(4,"\u{1f4c2} JSON"),t.k0s(),t.j41(5,"button",5),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.exportToExcel())}),t.EFF(6,"\u{1f4c2} Excel"),t.k0s(),t.j41(7,"button",5),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.exportToPDF("p"))}),t.EFF(8,"\u{1f4c2} PDF (Portrait)"),t.k0s(),t.j41(9,"button",5),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.exportToPDF("l"))}),t.EFF(10,"\u{1f4c2} PDF (Paysage)"),t.k0s()()}}function Nt(o,i){1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o&&(t.R7$(),t.JRh("Rapport d\xe9ja valid\xe9"))}function It(o,i){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=t.XpG(3);t.R7$(),t.SpI(" ",e.IS_VALIDATED?"Annuler validation du rapport":"Valider ce rapport"," ")}}function Ct(o,i){1&o&&t.nrm(0,"span",11)}function Pt(o,i){1&o&&t.nrm(0,"span",11)}function $t(o,i){if(1&o){const e=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){t.eBV(e);const r=t.XpG(3);return t.Njj(r.openSendDataToDhis2Modal())}),t.EFF(1),t.DNE(2,Pt,1,0,"span",9),t.k0s()}if(2&o){const e=t.XpG(3);t.ZvI("submitBtn btn ",e.IS_ON_DHIS2?"btn-info":"btn-warning",""),t.Y8G("disabled",e.ON_DHIS2_SENDING||e.IS_ON_DHIS2),t.R7$(),t.SpI(" ",e.IS_ON_DHIS2?"D\xe9ja envoy\xe9 au DHIS2 et termin\xe9":"Envoyer au DHIS2"," "),t.R7$(),t.Y8G("ngIf",e.ON_DHIS2_SENDING)}}function Vt(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",7)(1,"button",8),t.bIt("click",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.IS_VALIDATED?a.cancelValidation(r):a.validateData(r))}),t.DNE(2,Nt,2,1,"span",3)(3,It,2,1,"span",3)(4,Ct,1,0,"span",9),t.k0s(),t.DNE(5,$t,3,6,"button",10),t.k0s()}if(2&o){const e=t.XpG(2);t.R7$(),t.ZvI("submitBtn btn ",e.IS_VALIDATED?"btn-info":"btn-warning",""),t.Y8G("disabled",e.ON_VALIDATION||e.ON_CANCEL_VALIDATION||e.ON_DHIS2_SENDING||e.IS_ON_DHIS2),t.R7$(),t.Y8G("ngIf",e.ON_DHIS2_SENDING||e.IS_ON_DHIS2),t.R7$(),t.Y8G("ngIf",!(e.ON_DHIS2_SENDING||e.IS_ON_DHIS2)),t.R7$(),t.Y8G("ngIf",e.ON_VALIDATION||e.ON_CANCEL_VALIDATION),t.R7$(),t.Y8G("ngIf",(null==e.USER||null==e.USER.role?null:e.USER.role.canSendDataToDhis2)&&e.IS_VALIDATED)}}function St(o,i){if(1&o&&(t.qex(0),t.DNE(1,Vt,6,8,"div",6),t.bVm()),2&o){const e=t.XpG();t.R7$(),t.Y8G("ngIf",1==(null==e.USER||null==e.USER.role?null:e.USER.role.canValidateData))}}let C=(()=>{class o extends Ot.p{constructor(e,n,r,a,c,l){super(e,n,r,a,c,l)}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(M.B),t.rXU(kt.D),t.rXU(m.i),t.rXU(T.z),t.rXU(g.z),t.rXU(f.T))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["repports-header-selector"]],standalone:!1,features:[t.Vt3],decls:5,vars:4,consts:[["class","export-buttons",4,"ngIf"],[3,"for"],["type","checkbox",2,"zoom","1.5",3,"change","id"],[4,"ngIf"],[1,"export-buttons"],[3,"click"],["class","validate-data col-12",4,"ngIf"],[1,"validate-data","col-12"],[2,"width","auto!important",3,"click","disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],["style","width: auto;",3,"disabled","class","click",4,"ngIf"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"],[2,"width","auto",3,"click","disabled"]],template:function(n,r){1&n&&(t.DNE(0,jt,11,0,"div",0),t.j41(1,"label",1)(2,"input",2),t.bIt("change",function(c){return r.hideZero(c)}),t.k0s(),t.EFF(3," Masquer Zero\n"),t.k0s(),t.DNE(4,St,2,1,"ng-container",3)),2&n&&(t.Y8G("ngIf",1==r.SHOW_EXPORT_TABLE_BTN&&1==(null==r.USER||null==r.USER.role?null:r.USER.role.canDownloadData)),t.R7$(),t.FS9("for",r.HIDE_ZERO_ID),t.R7$(),t.FS9("id",r.HIDE_ZERO_ID),t.R7$(2),t.Y8G("ngIf",r.REPORTS_HEADER))},dependencies:[R.I],styles:[".export-buttons[_ngcontent-%COMP%]{margin-bottom:10px}.export-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#036;color:#fff;border:none;padding:8px 12px;margin-right:5px;cursor:pointer;border-radius:5px}.export-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#05a}.validate-data[_ngcontent-%COMP%]{width:350px!important;margin:0!important;display:inline-flex!important}.validate-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 3px!important}"]})}}return o})();function wt(o,i){1&o&&t.nrm(0,"div",3)}function yt(o,i){if(1&o&&(t.j41(0,"div",1),t.DNE(1,wt,1,0,"div",2),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.isLoading)}}let P=(()=>{class o{constructor(){this.isLoading=!1}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-google-loader"]],inputs:{isLoading:"isLoading"},standalone:!1,decls:1,vars:1,consts:[["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"],["class","google-loader",4,"ngIf"],[1,"google-loader"]],template:function(n,r){1&n&&t.DNE(0,yt,2,1,"div",0),2&n&&t.Y8G("ngIf",r.isLoading)},dependencies:[R.I],styles:[".loading-overlay[_ngcontent-%COMP%]{position:relatif;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:1000}.google-loader[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;border:5px solid transparent;border-top-color:#4285f4;border-right-color:#ea4335;border-bottom-color:#fbbc05;border-left-color:#34a853;animation:_ngcontent-%COMP%_spin 1.2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return o})();function Ht(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function vt(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Gt(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Mt(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Lt(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Jt(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function xt(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Xt(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Ut(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Bt(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Yt(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Zt(o,i){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(2,"table",3)(3,"thead",4)(4,"tr",5)(5,"th",6),t.EFF(6,"\xc9l\xe9ments de donn\xe9es"),t.k0s(),t.j41(7,"th",6),t.EFF(8,"Nombre"),t.k0s()()(),t.j41(9,"tbody"),t.qex(10),t.j41(11,"tr",7)(12,"th",8),t.EFF(13),t.k0s()(),t.DNE(14,Ht,5,2,"tr",9),t.bVm(),t.j41(15,"tr",7)(16,"th",8),t.EFF(17),t.k0s()(),t.DNE(18,vt,5,2,"tr",9),t.j41(19,"tr",7)(20,"th",8),t.EFF(21),t.k0s()(),t.DNE(22,Gt,5,2,"tr",9),t.j41(23,"tr",7)(24,"th",8),t.EFF(25),t.k0s()(),t.DNE(26,Mt,5,2,"tr",9),t.j41(27,"tr",7)(28,"th",8),t.EFF(29),t.k0s()(),t.DNE(30,Lt,5,2,"tr",9),t.j41(31,"tr",7)(32,"th",8),t.EFF(33),t.k0s()(),t.DNE(34,Jt,5,2,"tr",9),t.j41(35,"tr",7)(36,"th",8),t.EFF(37),t.k0s()(),t.DNE(38,xt,5,2,"tr",9),t.j41(39,"tr",7)(40,"th",8),t.EFF(41),t.k0s()(),t.j41(42,"tr")(43,"th",10),t.EFF(44),t.k0s()(),t.DNE(45,Xt,5,2,"tr",9),t.j41(46,"tr")(47,"th",10),t.EFF(48),t.k0s()(),t.DNE(49,Ut,5,2,"tr",9),t.j41(50,"tr",7)(51,"th",8),t.EFF(52),t.k0s()(),t.DNE(53,Bt,5,2,"tr",9),t.j41(54,"tr",7)(55,"th",8),t.EFF(56),t.k0s()(),t.DNE(57,Yt,5,2,"tr",9),t.nrm(58,"tr"),t.k0s()(),t.bVm()}if(2&o){const e=i.ngIf,n=t.XpG();t.R7$(),t.Y8G("id","month-activity-table-header")("REPPORT_NAME",n.REPPORT_NAME)("CHANGE_STATE",n.CHANGE_STATE)("HIDE_ZERO_ID","chw-reco-rep")("TABLE_ID","month-activity-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(12),t.Lme("",e.reco_monitoring.position," ",e.reco_monitoring.group,""),t.R7$(),t.Y8G("ngForOf",e.reco_monitoring.data),t.R7$(3),t.Lme("",e.demography.position," ",e.demography.group,""),t.R7$(),t.Y8G("ngForOf",e.demography.data),t.R7$(3),t.Lme("",e.child_health_0_59_months.position," ",e.child_health_0_59_months.group,""),t.R7$(),t.Y8G("ngForOf",e.child_health_0_59_months.data),t.R7$(3),t.Lme("",e.mother_health.position," ",e.mother_health.group,""),t.R7$(),t.Y8G("ngForOf",e.mother_health.data),t.R7$(3),t.Lme("",e.pcimne_activity.position," ",e.pcimne_activity.group,""),t.R7$(),t.Y8G("ngForOf",e.pcimne_activity.data),t.R7$(3),t.Lme("",e.morbidity_activities.position," ",e.morbidity_activities.group,""),t.R7$(),t.Y8G("ngForOf",e.morbidity_activities.data),t.R7$(3),t.Lme("",e.malaria_more_5_years.position," ",e.malaria_more_5_years.group,""),t.R7$(),t.Y8G("ngForOf",e.malaria_more_5_years.data),t.R7$(3),t.Lme("",e.home_visit.position," ",e.home_visit.bigGroup,""),t.R7$(3),t.SpI(" ",e.home_visit.group," "),t.R7$(),t.Y8G("ngForOf",e.home_visit.data),t.R7$(3),t.SpI(" ",e.educational_talk.group," "),t.R7$(),t.Y8G("ngForOf",e.educational_talk.data),t.R7$(3),t.Lme("",e.developed_areas.position," ",e.developed_areas.group,""),t.R7$(),t.Y8G("ngForOf",e.developed_areas.data),t.R7$(3),t.Lme("",e.diseases_alerts.position," ",e.diseases_alerts.group,""),t.R7$(),t.Y8G("ngForOf",e.diseases_alerts.data)}}let zt=(()=>{class o extends I{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(s,d)=>(0,k.H)(this.ldbfetch.GetChwsRecoReports(s,d)),s=>this.api.ValidateChwsRecoReports(s),s=>this.api.CancelValidateChwsRecoReports(s),s=>this.api.SendChwsRecoReportsToDhis2(s)),this.api=e,this.ldbfetch=n,this.REPPORT_NAME="MONTHLY_ACTIVITY"}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["chw-reco-activity-report"]],standalone:!1,features:[t.Vt3],decls:2,vars:2,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","month-activity-table",1,"table","table-bordered","table-hover"],[1,"no-border","center"],[1,"table-head"],["scope","col"],[1,"row-group"],["colspan","2"],[4,"ngFor","ngForOf"],["colspan","2",1,"row-first-column",2,"padding-left","20px!important"],[1,"indicator_label"],[1,"indicator_value"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,Zt,59,39,"ng-container",1)),2&n&&(t.Y8G("isLoading",1==r.REPORTS_HEADER.ON_FETCHING.MONTHLY_ACTIVITY),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED))},dependencies:[R.G,R.I,C,P],styles:[".indicator_label[_ngcontent-%COMP%]{font-weight:400}.indicator_value[_ngcontent-%COMP%]{font-weight:700}"]})}}return o})();function Qt(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",12),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s(),t.j41(5,"td",12),t.EFF(6),t.k0s(),t.j41(7,"td",12),t.EFF(8),t.k0s(),t.j41(9,"td",12),t.EFF(10),t.k0s(),t.j41(11,"td",12),t.EFF(12),t.k0s(),t.j41(13,"td",12),t.EFF(14),t.k0s(),t.j41(15,"td",12),t.EFF(16),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.value.label),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_new_user)),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_regular_user)),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_total_user)),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_delivered)),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_in_stock)),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_referred)),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_side_effect))}}function Wt(o,i){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(2,"table",3)(3,"thead")(4,"tr",4)(5,"th",5),t.EFF(6,"METHODES"),t.k0s(),t.j41(7,"th",5),t.EFF(8,"Nouveaux utilisateurs"),t.k0s(),t.j41(9,"th",5),t.EFF(10,"Utilisateurs reguliers"),t.k0s(),t.j41(11,"th",5),t.EFF(12,"Total Utilisateurs"),t.k0s(),t.j41(13,"th",5),t.EFF(14,"Quantit\xe9s de produits d\xe9livr\xe9s"),t.k0s(),t.j41(15,"th",5),t.EFF(16,"Quantit\xe9 de produits en stocks"),t.k0s(),t.j41(17,"th",6)(18,"b"),t.EFF(19,"Nombre r\xe9f\xe9r\xe9"),t.k0s()()(),t.j41(20,"tr",7)(21,"th",8),t.EFF(22,"M\xe9thode PF (autre)"),t.k0s(),t.j41(23,"th",8),t.EFF(24,"Effets Secondaires"),t.k0s()()(),t.j41(25,"tbody"),t.qex(26),t.DNE(27,Qt,17,8,"tr",9),t.nI1(28,"keyvalue"),t.bVm(),t.k0s(),t.j41(29,"tr",10),t.nrm(30,"td",11),t.k0s()(),t.bVm()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("id","family-planning-table-header")("REPPORT_NAME",e.REPPORT_NAME)("CHANGE_STATE",e.CHANGE_STATE)("HIDE_ZERO_ID","fp-rep")("TABLE_ID","family-planning-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(26),t.Y8G("ngForOf",t.bMT(28,7,e.DATA_FETCHED.methods))}}let qt=(()=>{class o extends I{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(s,d)=>(0,k.H)(this.ldbfetch.GetFamilyPlanningReports(s,d)),s=>this.api.ValidateFamilyPlanningReports(s),s=>this.api.CancelValidateFamilyPlanningReports(s),s=>this.api.SendFamilyPlanningActivitiesToDhis2(s)),this.api=e,this.ldbfetch=n,this.REPPORT_NAME="FAMILY_PLANNING",this.dhis2Service.getDhis2SendingStatus().pipe((0,u.Q)(this.destroy$)).subscribe(s=>{s&&(this.snackbar.show({msg:s.msg,color:s.color,position:s.position??"TOP",duration:s.duration??5e3}),this.CHANGE_STATE=new Date)})}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["family-planning-report"]],standalone:!1,features:[t.Vt3],decls:2,vars:2,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","family-planning-table",1,"table","table-bordered","table-hover"],[1,"table-head","fp-header-1"],["rowspan","2","scope","col"],["colspan","3","scope","col"],[1,"table-head","fp-header-2"],["scope","col"],[4,"ngFor","ngForOf"],[1,"no-border"],["colspan","9",1,"separation"],["scope","row"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,Wt,31,9,"ng-container",1)),2&n&&(t.Y8G("isLoading",1==r.REPORTS_HEADER.ON_FETCHING.FAMILY_PLANNING),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED))},dependencies:[R.G,R.I,C,P,R.a8],styles:[".fp-header-1[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .fp-header-2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:40px!important}"]})}}return o})();function Kt(o,i){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(2,"table",3)(3,"thead")(4,"tr",4)(5,"th",5),t.EFF(6,"N\xb0"),t.k0s(),t.j41(7,"th",6),t.EFF(8,"Problemes de sant\xe9"),t.k0s(),t.j41(9,"th",7),t.EFF(10,"5-14 ans"),t.k0s(),t.j41(11,"th",7),t.EFF(12,"14-24 ans"),t.k0s(),t.j41(13,"th",7),t.EFF(14,"25-59 ans"),t.k0s(),t.j41(15,"th",7),t.EFF(16,"60 ans et Plus"),t.k0s(),t.j41(17,"th",7),t.EFF(18,"Femme enceinte"),t.k0s(),t.j41(19,"th",7),t.EFF(20,"Nombre total"),t.k0s(),t.j41(21,"th",7),t.EFF(22,"Nombre r\xe9f\xe9r\xe9s"),t.k0s()()(),t.j41(23,"tbody",8)(24,"tr")(25,"td",9),t.EFF(26,"01"),t.k0s(),t.j41(27,"td",10),t.EFF(28),t.k0s(),t.j41(29,"td"),t.EFF(30),t.k0s(),t.j41(31,"td"),t.EFF(32),t.k0s(),t.j41(33,"td"),t.EFF(34),t.k0s(),t.j41(35,"td"),t.EFF(36),t.k0s(),t.j41(37,"td"),t.EFF(38),t.k0s(),t.j41(39,"td"),t.EFF(40),t.k0s(),t.j41(41,"td"),t.EFF(42),t.k0s()(),t.j41(43,"tr")(44,"td",9),t.EFF(45,"02"),t.k0s(),t.j41(46,"td",10),t.EFF(47),t.k0s(),t.j41(48,"td"),t.EFF(49),t.k0s(),t.j41(50,"td"),t.EFF(51),t.k0s(),t.j41(52,"td"),t.EFF(53),t.k0s(),t.j41(54,"td"),t.EFF(55),t.k0s(),t.j41(56,"td"),t.EFF(57),t.k0s(),t.j41(58,"td"),t.EFF(59),t.k0s(),t.j41(60,"td"),t.EFF(61),t.k0s()(),t.j41(62,"tr")(63,"td",9),t.EFF(64,"03"),t.k0s(),t.j41(65,"td",10),t.EFF(66),t.k0s(),t.j41(67,"td"),t.EFF(68),t.k0s(),t.j41(69,"td"),t.EFF(70),t.k0s(),t.j41(71,"td"),t.EFF(72),t.k0s(),t.j41(73,"td"),t.EFF(74),t.k0s(),t.j41(75,"td"),t.EFF(76),t.k0s(),t.j41(77,"td"),t.EFF(78),t.k0s(),t.j41(79,"td"),t.EFF(80),t.k0s()(),t.j41(81,"tr")(82,"td",9),t.EFF(83,"04"),t.k0s(),t.j41(84,"td",10),t.EFF(85),t.k0s(),t.j41(86,"td"),t.EFF(87),t.k0s(),t.j41(88,"td"),t.EFF(89),t.k0s(),t.j41(90,"td"),t.EFF(91),t.k0s(),t.j41(92,"td"),t.EFF(93),t.k0s(),t.j41(94,"td"),t.EFF(95),t.k0s(),t.j41(96,"td"),t.EFF(97),t.k0s(),t.j41(98,"td"),t.EFF(99),t.k0s()(),t.j41(100,"tr")(101,"td",9),t.EFF(102,"05"),t.k0s(),t.j41(103,"td",10),t.EFF(104),t.k0s(),t.j41(105,"td"),t.EFF(106),t.k0s(),t.j41(107,"td"),t.EFF(108),t.k0s(),t.j41(109,"td"),t.EFF(110),t.k0s(),t.j41(111,"td"),t.EFF(112),t.k0s(),t.j41(113,"td"),t.EFF(114),t.k0s(),t.j41(115,"td"),t.EFF(116),t.k0s(),t.j41(117,"td"),t.EFF(118),t.k0s()(),t.j41(119,"tr")(120,"td",9),t.EFF(121,"06"),t.k0s(),t.j41(122,"td",10),t.EFF(123),t.k0s(),t.j41(124,"td"),t.EFF(125),t.k0s(),t.j41(126,"td"),t.EFF(127),t.k0s(),t.j41(128,"td"),t.EFF(129),t.k0s(),t.j41(130,"td"),t.EFF(131),t.k0s(),t.j41(132,"td"),t.EFF(133),t.k0s(),t.j41(134,"td"),t.EFF(135),t.k0s(),t.j41(136,"td"),t.EFF(137),t.k0s()(),t.j41(138,"tr")(139,"td",9),t.EFF(140,"07"),t.k0s(),t.j41(141,"td",10),t.EFF(142),t.k0s(),t.j41(143,"td"),t.EFF(144),t.k0s(),t.j41(145,"td"),t.EFF(146),t.k0s(),t.j41(147,"td"),t.EFF(148),t.k0s(),t.j41(149,"td"),t.EFF(150),t.k0s(),t.j41(151,"td"),t.EFF(152),t.k0s(),t.j41(153,"td"),t.EFF(154),t.k0s(),t.j41(155,"td"),t.EFF(156),t.k0s()(),t.j41(157,"tr")(158,"td",9),t.EFF(159,"08"),t.k0s(),t.j41(160,"td",10),t.EFF(161),t.k0s(),t.j41(162,"td"),t.EFF(163),t.k0s(),t.j41(164,"td"),t.EFF(165),t.k0s(),t.j41(166,"td"),t.EFF(167),t.k0s(),t.j41(168,"td"),t.EFF(169),t.k0s(),t.j41(170,"td"),t.EFF(171),t.k0s(),t.j41(172,"td"),t.EFF(173),t.k0s(),t.j41(174,"td"),t.EFF(175),t.k0s()(),t.j41(176,"tr")(177,"td",9),t.EFF(178,"09"),t.k0s(),t.j41(179,"td",10),t.EFF(180),t.k0s(),t.j41(181,"td"),t.EFF(182),t.k0s(),t.j41(183,"td"),t.EFF(184),t.k0s(),t.j41(185,"td"),t.EFF(186),t.k0s(),t.j41(187,"td"),t.EFF(188),t.k0s(),t.j41(189,"td"),t.EFF(190),t.k0s(),t.j41(191,"td"),t.EFF(192),t.k0s(),t.j41(193,"td"),t.EFF(194),t.k0s()(),t.j41(195,"tr")(196,"td",9),t.EFF(197,"10"),t.k0s(),t.j41(198,"td",10),t.EFF(199),t.k0s(),t.j41(200,"td"),t.EFF(201),t.k0s(),t.j41(202,"td"),t.EFF(203),t.k0s(),t.j41(204,"td"),t.EFF(205),t.k0s(),t.j41(206,"td"),t.EFF(207),t.k0s(),t.j41(208,"td"),t.EFF(209),t.k0s(),t.j41(210,"td"),t.EFF(211),t.k0s(),t.j41(212,"td"),t.EFF(213),t.k0s()(),t.j41(214,"tr")(215,"td",9),t.EFF(216,"11"),t.k0s(),t.j41(217,"td",10),t.EFF(218),t.k0s(),t.j41(219,"td"),t.EFF(220),t.k0s(),t.j41(221,"td"),t.EFF(222),t.k0s(),t.j41(223,"td"),t.EFF(224),t.k0s(),t.j41(225,"td"),t.EFF(226),t.k0s(),t.j41(227,"td"),t.EFF(228),t.k0s(),t.j41(229,"td"),t.EFF(230),t.k0s(),t.j41(231,"td"),t.EFF(232),t.k0s()(),t.j41(233,"tr")(234,"td",9),t.EFF(235,"12"),t.k0s(),t.j41(236,"td",10),t.EFF(237),t.k0s(),t.j41(238,"td"),t.EFF(239),t.k0s(),t.j41(240,"td"),t.EFF(241),t.k0s(),t.j41(242,"td"),t.EFF(243),t.k0s(),t.j41(244,"td"),t.EFF(245),t.k0s(),t.j41(246,"td"),t.EFF(247),t.k0s(),t.j41(248,"td"),t.EFF(249),t.k0s(),t.j41(250,"td"),t.EFF(251),t.k0s()(),t.j41(252,"tr")(253,"td",9),t.EFF(254,"13"),t.k0s(),t.j41(255,"td",10),t.EFF(256),t.k0s(),t.j41(257,"td"),t.EFF(258),t.k0s(),t.j41(259,"td"),t.EFF(260),t.k0s(),t.j41(261,"td"),t.EFF(262),t.k0s(),t.j41(263,"td"),t.EFF(264),t.k0s(),t.j41(265,"td"),t.EFF(266),t.k0s(),t.j41(267,"td"),t.EFF(268),t.k0s(),t.j41(269,"td"),t.EFF(270),t.k0s()(),t.j41(271,"tr")(272,"td",9),t.EFF(273,"14"),t.k0s(),t.j41(274,"td",10),t.EFF(275),t.k0s(),t.j41(276,"td"),t.EFF(277),t.k0s(),t.j41(278,"td"),t.EFF(279),t.k0s(),t.j41(280,"td"),t.EFF(281),t.k0s(),t.j41(282,"td"),t.EFF(283),t.k0s(),t.j41(284,"td"),t.EFF(285),t.k0s(),t.j41(286,"td"),t.EFF(287),t.k0s(),t.j41(288,"td"),t.EFF(289),t.k0s()(),t.j41(290,"tr")(291,"td",9),t.EFF(292,"15"),t.k0s(),t.j41(293,"td",10),t.EFF(294),t.k0s(),t.j41(295,"td"),t.EFF(296),t.k0s(),t.j41(297,"td"),t.EFF(298),t.k0s(),t.j41(299,"td"),t.EFF(300),t.k0s(),t.j41(301,"td"),t.EFF(302),t.k0s(),t.j41(303,"td"),t.EFF(304),t.k0s(),t.j41(305,"td"),t.EFF(306),t.k0s(),t.j41(307,"td"),t.EFF(308),t.k0s()(),t.j41(309,"tr")(310,"td",9),t.EFF(311,"16"),t.k0s(),t.j41(312,"td",10),t.EFF(313),t.k0s(),t.j41(314,"td"),t.EFF(315),t.k0s(),t.j41(316,"td"),t.EFF(317),t.k0s(),t.j41(318,"td"),t.EFF(319),t.k0s(),t.j41(320,"td"),t.EFF(321),t.k0s(),t.j41(322,"td"),t.EFF(323),t.k0s(),t.j41(324,"td"),t.EFF(325),t.k0s(),t.j41(326,"td"),t.EFF(327),t.k0s()(),t.j41(328,"tr")(329,"td",9),t.EFF(330,"17"),t.k0s(),t.j41(331,"td",10),t.EFF(332),t.k0s(),t.j41(333,"td"),t.EFF(334),t.k0s(),t.j41(335,"td"),t.EFF(336),t.k0s(),t.j41(337,"td"),t.EFF(338),t.k0s(),t.j41(339,"td"),t.EFF(340),t.k0s(),t.j41(341,"td"),t.EFF(342),t.k0s(),t.j41(343,"td"),t.EFF(344),t.k0s(),t.j41(345,"td"),t.EFF(346),t.k0s()()(),t.j41(347,"tr",11),t.nrm(348,"td",12),t.k0s(),t.j41(349,"thead")(350,"tr",4)(351,"th",13),t.EFF(352,"N\xb0"),t.k0s(),t.j41(353,"th",13),t.EFF(354,"Paludisme"),t.k0s(),t.j41(355,"th",13),t.EFF(356,"5-14 ans"),t.k0s(),t.j41(357,"th",13),t.EFF(358,"14-24 ans"),t.k0s(),t.j41(359,"th",13),t.EFF(360,"25-59 ans"),t.k0s(),t.j41(361,"th",13),t.EFF(362,"60 ans et Plus"),t.k0s(),t.j41(363,"th",13),t.EFF(364,"Femme enceinte"),t.k0s(),t.j41(365,"th",13),t.EFF(366,"Nombre total"),t.k0s(),t.j41(367,"th",13),t.EFF(368,"Nombre r\xe9f\xe9r\xe9s"),t.k0s()()(),t.j41(369,"tbody",14)(370,"tr")(371,"td",9),t.EFF(372),t.k0s(),t.j41(373,"td",10),t.EFF(374),t.k0s(),t.j41(375,"td"),t.EFF(376),t.k0s(),t.j41(377,"td"),t.EFF(378),t.k0s(),t.j41(379,"td"),t.EFF(380),t.k0s(),t.j41(381,"td"),t.EFF(382),t.k0s(),t.j41(383,"td"),t.EFF(384),t.k0s(),t.j41(385,"td"),t.EFF(386),t.k0s(),t.j41(387,"td"),t.EFF(388),t.k0s()(),t.j41(389,"tr")(390,"td",9),t.EFF(391),t.k0s(),t.j41(392,"td",10),t.EFF(393),t.k0s(),t.j41(394,"td"),t.EFF(395),t.k0s(),t.j41(396,"td"),t.EFF(397),t.k0s(),t.j41(398,"td"),t.EFF(399),t.k0s(),t.j41(400,"td"),t.EFF(401),t.k0s(),t.j41(402,"td",15),t.EFF(403),t.k0s(),t.j41(404,"td"),t.EFF(405),t.k0s(),t.j41(406,"td",15),t.EFF(407),t.k0s()(),t.j41(408,"tr")(409,"td",9),t.EFF(410),t.k0s(),t.j41(411,"td",10),t.EFF(412),t.k0s(),t.j41(413,"td"),t.EFF(414),t.k0s(),t.j41(415,"td"),t.EFF(416),t.k0s(),t.j41(417,"td"),t.EFF(418),t.k0s(),t.j41(419,"td"),t.EFF(420),t.k0s(),t.j41(421,"td",15),t.EFF(422),t.k0s(),t.j41(423,"td"),t.EFF(424),t.k0s(),t.j41(425,"td",15),t.EFF(426),t.k0s()(),t.j41(427,"tr")(428,"td",9),t.EFF(429),t.k0s(),t.j41(430,"td",10),t.EFF(431),t.k0s(),t.j41(432,"td"),t.EFF(433),t.k0s(),t.j41(434,"td"),t.EFF(435),t.k0s(),t.j41(436,"td"),t.EFF(437),t.k0s(),t.j41(438,"td"),t.EFF(439),t.k0s(),t.j41(440,"td",15),t.EFF(441),t.k0s(),t.j41(442,"td"),t.EFF(443),t.k0s(),t.j41(444,"td",15),t.EFF(445),t.k0s()()(),t.j41(446,"tr",11),t.nrm(447,"td",12),t.k0s()(),t.bVm()}if(2&o){const e=i.ngIf,n=t.XpG();t.R7$(),t.Y8G("id","morbidity-table-header")("REPPORT_NAME",n.REPPORT_NAME)("CHANGE_STATE",n.CHANGE_STATE)("HIDE_ZERO_ID","morbidity-rep")("TABLE_ID","morbidity-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(27),t.JRh(e.hp_circulation_accident.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_referred)),t.R7$(5),t.JRh(e.hp_burn.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_referred)),t.R7$(5),t.JRh(e.hp_suspected_tb_cases.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_referred)),t.R7$(5),t.JRh(e.hp_dermatosis.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_referred)),t.R7$(5),t.JRh(e.hp_diarrhea.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_referred)),t.R7$(5),t.JRh(e.hp_urethral_discharge.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_referred)),t.R7$(5),t.JRh(e.hp_vaginal_discharge.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_referred)),t.R7$(5),t.JRh(e.hp_urinary_loss.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_referred)),t.R7$(5),t.JRh(e.hp_accidental_caustic_products_ingestion.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_referred)),t.R7$(5),t.JRh(e.hp_food_poisoning.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_referred)),t.R7$(5),t.JRh(e.hp_oral_diseases.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_referred)),t.R7$(5),t.JRh(e.hp_dog_bite.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_referred)),t.R7$(5),t.JRh(e.hp_snake_bite.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_referred)),t.R7$(5),t.JRh(e.hp_parasitosis.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_referred)),t.R7$(5),t.JRh(e.hp_measles.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_referred)),t.R7$(5),t.JRh(e.hp_trauma.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_referred)),t.R7$(5),t.JRh(e.hp_gender_based_violence.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_referred)),t.R7$(26),t.JRh(1),t.R7$(2),t.JRh(e.malaria_total_cases.indicator),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_referred)),t.R7$(3),t.JRh(2),t.R7$(2),t.JRh(e.malaria_rdt_performed.indicator),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_referred)),t.R7$(3),t.JRh(3),t.R7$(2),t.JRh(e.malaria_positive_rdts.indicator),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_referred)),t.R7$(3),t.JRh(4),t.R7$(2),t.JRh(e.malaria_cases_treated_with_cta.indicator),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_referred))}}let te=(()=>{class o extends I{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(s,d)=>(0,k.H)(this.ldbfetch.GetMorbidityReports(s,d)),s=>this.api.ValidateMorbidityReports(s),s=>this.api.CancelValidateMorbidityReports(s),s=>this.api.SendMorbidityActivitiesToDhis2(s)),this.api=e,this.ldbfetch=n,this.REPPORT_NAME="MORBIDITY",this.dhis2Service.getDhis2SendingStatus().pipe((0,u.Q)(this.destroy$)).subscribe(s=>{s&&(this.snackbar.show({msg:s.msg,color:s.color,position:s.position??"TOP",duration:s.duration??5e3}),this.CHANGE_STATE=new Date)})}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["morbidity-report"]],standalone:!1,features:[t.Vt3],decls:2,vars:2,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","morbidity-table",1,"table","table-bordered","table-hover"],[1,"table-head"],["scope","col",2,"width","5%"],["scope","col",2,"width","32%"],["scope","col",2,"width","9%"],[1,"morbidity-health"],["scope","row"],[1,"first-element"],[1,"no-border"],["colspan","9",1,"separation"],["scope","col"],[1,"morbidity-malaria"],[1,"grey-back"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,Kt,448,178,"ng-container",1)),2&n&&(t.Y8G("isLoading",1==r.REPORTS_HEADER.ON_FETCHING.MORBIDITY),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED))},dependencies:[R.I,C,P],styles:[".grey-back[_ngcontent-%COMP%]{background-color:gray;border:1px gray solid}"]})}}return o})();function ee(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",18),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s(),t.j41(17,"td"),t.EFF(18),t.k0s(),t.j41(19,"td"),t.EFF(20),t.k0s(),t.j41(21,"td"),t.EFF(22),t.k0s(),t.j41(23,"td"),t.EFF(24),t.k0s(),t.j41(25,"td"),t.EFF(26),t.k0s(),t.j41(27,"td"),t.EFF(28),t.k0s(),t.j41(29,"td"),t.EFF(30),t.k0s(),t.j41(31,"td"),t.EFF(32),t.k0s(),t.j41(33,"td"),t.EFF(34),t.k0s(),t.j41(35,"td"),t.EFF(36),t.k0s(),t.j41(37,"td"),t.EFF(38),t.k0s(),t.j41(39,"td"),t.EFF(40),t.k0s(),t.j41(41,"td"),t.EFF(42),t.k0s(),t.j41(43,"td"),t.EFF(44),t.k0s(),t.j41(45,"td"),t.EFF(46),t.k0s(),t.j41(47,"td"),t.EFF(48),t.k0s(),t.j41(49,"td"),t.EFF(50),t.k0s(),t.j41(51,"td"),t.EFF(52),t.k0s(),t.j41(53,"td",19),t.EFF(54),t.k0s(),t.j41(55,"td",20),t.EFF(56),t.k0s(),t.j41(57,"td",21),t.EFF(58),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.index),t.R7$(2),t.JRh(e.indicator),t.R7$(),t.HbH(n.shawDarkMode(e.malaria_0_2.F)),t.R7$(),t.JRh(n.shawValue(e.malaria_0_2.F)),t.R7$(),t.HbH(n.shawDarkMode(e.malaria_0_2.M)),t.R7$(),t.JRh(n.shawValue(e.malaria_0_2.M)),t.R7$(),t.HbH(n.shawDarkMode(e.malaria_2_12.F)),t.R7$(),t.JRh(n.shawValue(e.malaria_2_12.F)),t.R7$(),t.HbH(n.shawDarkMode(e.malaria_2_12.M)),t.R7$(),t.JRh(n.shawValue(e.malaria_2_12.M)),t.R7$(),t.HbH(n.shawDarkMode(e.malaria_12_60.F)),t.R7$(),t.JRh(n.shawValue(e.malaria_12_60.F)),t.R7$(),t.HbH(n.shawDarkMode(e.malaria_12_60.M)),t.R7$(),t.JRh(n.shawValue(e.malaria_12_60.M)),t.R7$(),t.HbH(n.shawDarkMode(e.cough_pneumonia_0_2.F)),t.R7$(),t.JRh(n.shawValue(e.cough_pneumonia_0_2.F)),t.R7$(),t.HbH(n.shawDarkMode(e.cough_pneumonia_0_2.M)),t.R7$(),t.JRh(n.shawValue(e.cough_pneumonia_0_2.M)),t.R7$(),t.HbH(n.shawDarkMode(e.cough_pneumonia_2_12.F)),t.R7$(),t.JRh(n.shawValue(e.cough_pneumonia_2_12.F)),t.R7$(),t.HbH(n.shawDarkMode(e.cough_pneumonia_2_12.M)),t.R7$(),t.JRh(n.shawValue(e.cough_pneumonia_2_12.M)),t.R7$(),t.HbH(n.shawDarkMode(e.cough_pneumonia_12_60.F)),t.R7$(),t.JRh(n.shawValue(e.cough_pneumonia_12_60.F)),t.R7$(),t.HbH(n.shawDarkMode(e.cough_pneumonia_12_60.M)),t.R7$(),t.JRh(n.shawValue(e.cough_pneumonia_12_60.M)),t.R7$(),t.HbH(n.shawDarkMode(e.diarrhea_0_2.F)),t.R7$(),t.JRh(n.shawValue(e.diarrhea_0_2.F)),t.R7$(),t.HbH(n.shawDarkMode(e.diarrhea_0_2.M)),t.R7$(),t.JRh(n.shawValue(e.diarrhea_0_2.M)),t.R7$(),t.HbH(n.shawDarkMode(e.diarrhea_2_12.F)),t.R7$(),t.JRh(n.shawValue(e.diarrhea_2_12.F)),t.R7$(),t.HbH(n.shawDarkMode(e.diarrhea_2_12.M)),t.R7$(),t.JRh(n.shawValue(e.diarrhea_2_12.M)),t.R7$(),t.HbH(n.shawDarkMode(e.diarrhea_12_60.F)),t.R7$(),t.JRh(n.shawValue(e.diarrhea_12_60.F)),t.R7$(),t.HbH(n.shawDarkMode(e.diarrhea_12_60.M)),t.R7$(),t.JRh(n.shawValue(e.diarrhea_12_60.M)),t.R7$(),t.HbH(n.shawDarkMode(e.malnutrition_0_2.F)),t.R7$(),t.JRh(n.shawValue(e.malnutrition_0_2.F)),t.R7$(),t.HbH(n.shawDarkMode(e.malnutrition_0_2.M)),t.R7$(),t.JRh(n.shawValue(e.malnutrition_0_2.M)),t.R7$(),t.HbH(n.shawDarkMode(e.malnutrition_2_12.F)),t.R7$(),t.JRh(n.shawValue(e.malnutrition_2_12.F)),t.R7$(),t.HbH(n.shawDarkMode(e.malnutrition_2_12.M)),t.R7$(),t.JRh(n.shawValue(e.malnutrition_2_12.M)),t.R7$(),t.HbH(n.shawDarkMode(e.malnutrition_12_60.F)),t.R7$(),t.JRh(n.shawValue(e.malnutrition_12_60.F)),t.R7$(),t.HbH(n.shawDarkMode(e.malnutrition_12_60.M)),t.R7$(),t.JRh(n.shawValue(e.malnutrition_12_60.M)),t.R7$(2),t.JRh(n.shawValue(e.total.F)),t.R7$(2),t.JRh(n.shawValue(e.total.M)),t.R7$(2),t.JRh(n.shawValue(e.bigtotal))}}function ne(o,i){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(2,"table",3)(3,"thead")(4,"tr",4)(5,"th",5),t.EFF(6,"N\xb0"),t.k0s(),t.j41(7,"th",6),t.EFF(8,"Description"),t.k0s(),t.j41(9,"th",7),t.EFF(10,"Corps chaud/ Paludisme"),t.k0s(),t.j41(11,"th",7),t.EFF(12,"Toux ou difficult\xe9 respiratoire/ Pneumonie simple"),t.k0s(),t.j41(13,"th",7),t.EFF(14,"Diarrh\xe9e simple"),t.k0s(),t.j41(15,"th",7),t.EFF(16,"Malnutrition"),t.k0s(),t.j41(17,"th",8),t.EFF(18,"TOTAL"),t.k0s(),t.j41(19,"th",9),t.EFF(20,"Grand TOTAL"),t.k0s()(),t.j41(21,"tr",4)(22,"th",10),t.EFF(23,"0-2 mois"),t.k0s(),t.j41(24,"th",10),t.EFF(25,"2- 11 mois"),t.k0s(),t.j41(26,"th",10),t.EFF(27,"12- 59 mois"),t.k0s(),t.j41(28,"th",10),t.EFF(29,"0-2 mois"),t.k0s(),t.j41(30,"th",10),t.EFF(31,"2- 11 mois"),t.k0s(),t.j41(32,"th",10),t.EFF(33,"12- 59 mois"),t.k0s(),t.j41(34,"th",10),t.EFF(35,"0-2 mois"),t.k0s(),t.j41(36,"th",10),t.EFF(37,"2- 11 mois"),t.k0s(),t.j41(38,"th",10),t.EFF(39,"12- 59 mois"),t.k0s(),t.j41(40,"th",10),t.EFF(41,"0-2 mois"),t.k0s(),t.j41(42,"th",10),t.EFF(43,"2- 11 mois"),t.k0s(),t.j41(44,"th",10),t.EFF(45,"12- 59 mois"),t.k0s()(),t.j41(46,"tr",11)(47,"th",12),t.EFF(48,"F"),t.k0s(),t.j41(49,"th",12),t.EFF(50,"M"),t.k0s(),t.j41(51,"th",12),t.EFF(52,"F"),t.k0s(),t.j41(53,"th",12),t.EFF(54,"M"),t.k0s(),t.j41(55,"th",12),t.EFF(56,"F"),t.k0s(),t.j41(57,"th",12),t.EFF(58,"M"),t.k0s(),t.j41(59,"th",12),t.EFF(60,"F"),t.k0s(),t.j41(61,"th",12),t.EFF(62,"M"),t.k0s(),t.j41(63,"th",12),t.EFF(64,"F"),t.k0s(),t.j41(65,"th",12),t.EFF(66,"M"),t.k0s(),t.j41(67,"th",12),t.EFF(68,"F"),t.k0s(),t.j41(69,"th",12),t.EFF(70,"M"),t.k0s(),t.j41(71,"th",12),t.EFF(72,"F"),t.k0s(),t.j41(73,"th",12),t.EFF(74,"M"),t.k0s(),t.j41(75,"th",12),t.EFF(76,"F"),t.k0s(),t.j41(77,"th",12),t.EFF(78,"M"),t.k0s(),t.j41(79,"th",12),t.EFF(80,"F"),t.k0s(),t.j41(81,"th",12),t.EFF(82,"M"),t.k0s(),t.j41(83,"th",12),t.EFF(84,"F"),t.k0s(),t.j41(85,"th",12),t.EFF(86,"M"),t.k0s(),t.j41(87,"th",12),t.EFF(88,"F"),t.k0s(),t.j41(89,"th",12),t.EFF(90,"M"),t.k0s(),t.j41(91,"th",12),t.EFF(92,"F"),t.k0s(),t.j41(93,"th",12),t.EFF(94,"M"),t.k0s(),t.j41(95,"th",13),t.EFF(96,"F"),t.k0s(),t.j41(97,"th",12),t.EFF(98,"M"),t.k0s()()(),t.j41(99,"tbody",14),t.DNE(100,ee,59,101,"tr",15),t.k0s(),t.j41(101,"tr",16),t.nrm(102,"td",17),t.k0s()(),t.bVm()}if(2&o){const e=i.ngIf,n=t.XpG();t.R7$(),t.Y8G("id","pcimne-table-header")("REPPORT_NAME",n.REPPORT_NAME)("CHANGE_STATE",n.CHANGE_STATE)("HIDE_ZERO_ID","pcimne-rep")("TABLE_ID","pcimne-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(99),t.Y8G("ngForOf",e)}}let oe=(()=>{class o extends I{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(s,d)=>(0,k.H)(this.ldbfetch.GetPcimneNewbornReports(s,d)),s=>this.api.ValidatePcimneNewbornReports(s),s=>this.api.CancelValidatePcimneNewbornReports(s),s=>this.api.SendPcimneNewbornActivitiesToDhis2(s)),this.api=e,this.ldbfetch=n,this.REPPORT_NAME="PCIMNE_NEWBORN",this.dhis2Service.getDhis2SendingStatus().pipe((0,u.Q)(this.destroy$)).subscribe(s=>{s&&(this.snackbar.show({msg:s.msg,color:s.color,position:s.position??"TOP",duration:s.duration??5e3}),this.CHANGE_STATE=new Date)})}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data}shawDarkMode(e){return null!=e&&(0==e||"0"==e||parseInt(e)>=0)?"":"grey-back"}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["pcimne-report"]],standalone:!1,features:[t.Vt3],decls:2,vars:2,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","pcimne-table",1,"table","table-bordered","table-hover"],[1,"table-head"],["rowspan","3","scope","col",1,"indicator-count"],["rowspan","3","scope","col",1,"indicator"],["colspan","6","scope","col"],["colspan","2","rowspan","2","scope","col",1,"left-border-separation"],["rowspan","3","scope","col",1,"indicator-total"],["colspan","2","scope","col"],[1,"table-head","pcimne-count"],["scope","col",1,"indicator-sex"],["scope","col",1,"indicator-sex","left-border-separation"],[1,"pcimne-body"],[4,"ngFor","ngForOf"],[1,"no-border"],["colspan","27",1,"separation"],["scope","row"],[1,"pcimne-total","left-border-separation"],[1,"pcimne-total"],[1,"pcimne-bigtotal"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,ne,103,7,"ng-container",1)),2&n&&(t.Y8G("isLoading",1==r.REPORTS_HEADER.ON_FETCHING.PCIMNE_NEWBORN),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED))},dependencies:[R.G,R.I,C,P],styles:["thead[_ngcontent-%COMP%]   .indicator-count[_ngcontent-%COMP%]{width:30px!important}thead[_ngcontent-%COMP%]   .indicator-total[_ngcontent-%COMP%]{width:25px!important}thead[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{width:300px!important}thead[_ngcontent-%COMP%]   .pcimne-count[_ngcontent-%COMP%]   .indicator-sex[_ngcontent-%COMP%]{width:30px!important}.grey-back[_ngcontent-%COMP%]{background-color:gray;border:1px gray solid}.pcimne-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .pcimne-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.pcimne-body[_ngcontent-%COMP%]   .pcimne-total[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.pcimne-body[_ngcontent-%COMP%]   .pcimne-bigtotal[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.left-border-separation[_ngcontent-%COMP%]{border-left:10px solid #ddd!important}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center!important}"]})}}return o})();function re(o,i){if(1&o&&(t.qex(0),t.j41(1,"tr")(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td"),t.EFF(17),t.k0s(),t.j41(18,"td"),t.EFF(19),t.k0s(),t.j41(20,"td"),t.EFF(21),t.k0s()(),t.bVm()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(3),t.JRh(e.value.label),t.R7$(2),t.JRh(n.shawValue(e.value.vad.F)),t.R7$(2),t.JRh(n.shawValue(e.value.vad.M)),t.R7$(2),t.JRh(n.shawValue(e.value.talk.F)),t.R7$(2),t.JRh(n.shawValue(e.value.talk.M)),t.R7$(2),t.JRh(n.shawValue(e.value.personal.F)),t.R7$(2),t.JRh(n.shawValue(e.value.personal.M)),t.R7$(2),t.JRh(n.shawValue(e.value.total.F)),t.R7$(2),t.JRh(n.shawValue(e.value.total.M)),t.R7$(2),t.JRh(n.shawValue(e.value.bigtotal))}}function ae(o,i){if(1&o&&(t.qex(0),t.j41(1,"tr")(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td"),t.EFF(17),t.k0s(),t.j41(18,"td"),t.EFF(19),t.k0s(),t.j41(20,"td"),t.EFF(21),t.k0s()(),t.bVm()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(3),t.JRh(e.value.label),t.R7$(2),t.JRh(n.shawValue(e.value.vad.F)),t.R7$(2),t.JRh(n.shawValue(e.value.vad.M)),t.R7$(2),t.JRh(n.shawValue(e.value.talk.F)),t.R7$(2),t.JRh(n.shawValue(e.value.talk.M)),t.R7$(2),t.JRh(n.shawValue(e.value.personal.F)),t.R7$(2),t.JRh(n.shawValue(e.value.personal.M)),t.R7$(2),t.JRh(n.shawValue(e.value.total.F)),t.R7$(2),t.JRh(n.shawValue(e.value.total.M)),t.R7$(2),t.JRh(n.shawValue(e.value.bigtotal))}}function se(o,i){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(2,"table",3)(3,"thead")(4,"tr",4),t.nrm(5,"th",5),t.j41(6,"th",6),t.EFF(7,"Nombre de personnes touch\xe9es par les "),t.nrm(8,"br"),t.j41(9,"span",7),t.EFF(10,"VAD"),t.k0s()(),t.j41(11,"th",6),t.EFF(12,"Nombre de personnes touch\xe9es par les "),t.nrm(13,"br"),t.j41(14,"span",7),t.EFF(15,"CE"),t.k0s()(),t.j41(16,"th",6),t.EFF(17,"Nombre de personnes touch\xe9es par les "),t.nrm(18,"br"),t.j41(19,"span",7),t.EFF(20,"CIP"),t.k0s()(),t.j41(21,"th",6),t.EFF(22,"Nombre Total"),t.k0s(),t.nrm(23,"th",8),t.k0s(),t.j41(24,"tr",4)(25,"th"),t.EFF(26,"Rubrique B"),t.k0s(),t.j41(27,"th"),t.EFF(28,"F"),t.k0s(),t.j41(29,"th"),t.EFF(30,"M"),t.k0s(),t.j41(31,"th"),t.EFF(32,"F"),t.k0s(),t.j41(33,"th"),t.EFF(34,"M"),t.k0s(),t.j41(35,"th"),t.EFF(36,"F"),t.k0s(),t.j41(37,"th"),t.EFF(38,"M"),t.k0s(),t.j41(39,"th"),t.EFF(40,"F"),t.k0s(),t.j41(41,"th"),t.EFF(42,"M"),t.k0s(),t.j41(43,"th"),t.EFF(44,"Grand Total"),t.k0s()()(),t.j41(45,"tbody")(46,"tr")(47,"th",9),t.EFF(48,"DOMAINES"),t.k0s()(),t.DNE(49,re,22,10,"ng-container",10),t.nI1(50,"keyvalue"),t.j41(51,"tr",11),t.nrm(52,"td",12),t.k0s(),t.j41(53,"tr")(54,"th",9),t.EFF(55,"THEMES"),t.k0s()(),t.DNE(56,ae,22,10,"ng-container",10),t.nI1(57,"keyvalue"),t.j41(58,"tr",11),t.nrm(59,"td",12),t.k0s()()(),t.bVm()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("id","promotion-table-header")("REPPORT_NAME",e.REPPORT_NAME)("CHANGE_STATE",e.CHANGE_STATE)("HIDE_ZERO_ID","promotion-rep")("TABLE_ID","promotion-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(48),t.Y8G("ngForOf",t.bMT(50,8,e.DATA_FETCHED.domains)),t.R7$(7),t.Y8G("ngForOf",t.bMT(57,10,e.DATA_FETCHED.themes))}}let ie=(()=>{class o extends I{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(s,d)=>(0,k.H)(this.ldbfetch.GetPromotionReports(s,d)),s=>this.api.ValidatePromotionReports(s),s=>this.api.CancelValidatePromotionReports(s),s=>this.api.SendPromotionActivitiesToDhis2(s)),this.api=e,this.ldbfetch=n,this.REPPORT_NAME="PROMOTION",this.dhis2Service.getDhis2SendingStatus().pipe((0,u.Q)(this.destroy$)).subscribe(s=>{s&&(this.snackbar.show({msg:s.msg,color:s.color,position:s.position??"TOP",duration:s.duration??5e3}),this.CHANGE_STATE=new Date)})}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["promotion-activity-report"]],standalone:!1,features:[t.Vt3],decls:2,vars:2,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","promotion-table",1,"table","table-bordered","table-hover"],[1,"table-head"],["scope","col",2,"width","40%!important"],["scope","col","colspan","2",2,"width","15%!important","text-align","center"],[2,"font-size","18px!important"],["scope","col",2,"width","15%!important","text-align","center"],["colspan","10",2,"background","rgb(189, 219, 253)!important"],[4,"ngFor","ngForOf"],[1,"no-border","ignore-export"],["colspan","10",1,"separation"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,se,60,12,"ng-container",1)),2&n&&(t.Y8G("isLoading",1==r.REPORTS_HEADER.ON_FETCHING.PROMOTION),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED))},dependencies:[R.G,R.I,C,P,R.a8],encapsulation:2})}}return o})();var _e=p(7929);function le(o,i){if(1&o&&(t.j41(0,"option",5),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e),t.R7$(),t.JRh(e)}}function ce(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",1)(1,"select",2),t.bIt("change",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.changePageSize(r))}),t.DNE(2,le,2,2,"option",3),t.k0s(),t.j41(3,"button",4),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.prevPage())}),t.EFF(4,"Pr\xe9c\xe9dent"),t.k0s(),t.j41(5,"span"),t.EFF(6),t.k0s(),t.j41(7,"button",4),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.nextPage())}),t.EFF(8,"Suivant"),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.pageSizeOptions),t.R7$(),t.Y8G("disabled",1===e.currentPage),t.R7$(3),t.Lme("Page ",e.currentPage," of ",e.totalPages,""),t.R7$(),t.Y8G("disabled",e.currentPage===e.totalPages)}}let he=(()=>{class o extends _e.K{constructor(){super()}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["reports-pagination-table"]],standalone:!1,features:[t.Vt3],decls:1,vars:1,consts:[["class","pagination",4,"ngIf"],[1,"pagination"],[3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"click","disabled"],[3,"value"]],template:function(n,r){1&n&&t.DNE(0,ce,9,5,"div",0),2&n&&t.Y8G("ngIf",r.datalength>r.initialPageSize)},dependencies:[R.G,R.I,F.xH,F.y7],styles:[".pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:12px;margin-top:20px;font-family:Arial,sans-serif;flex-wrap:wrap}.pagination[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;font-size:16px;border-radius:8px;border:1px solid #6200ea;background:#f3f3f3;color:#333;cursor:pointer;transition:all .3s ease;box-shadow:inset 2px 2px 5px #0000001a}.pagination[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{background:#ddd}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6200ea,#9c27b0);color:#fff;border:none;padding:10px 20px;border-radius:20px;font-size:16px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0003}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#9c27b0,#6200ea);transform:scale(1.05)}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;box-shadow:none;transform:none}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#444;padding:8px 15px;border-radius:10px;background:#f3f3f3;box-shadow:inset 2px 2px 5px #0000001a}"],changeDetection:0})}}return o})();function de(o,i){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s(),t.j41(17,"td"),t.EFF(18),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(n.shawValue(e.household_code)),t.R7$(2),t.JRh(n.shawValue(e.household_name)),t.R7$(2),t.JRh(n.shawValue(e.total_household_members)),t.R7$(2),t.JRh(n.shawValue(e.total_women_15_50_years)),t.R7$(2),t.JRh(n.shawValue(e.total_children_under_5_years)),t.R7$(2),t.JRh(n.shawValue(e.total_children_0_12_months)),t.R7$(2),t.JRh(n.shawValue(e.total_children_12_60_months)),t.R7$(2),t.JRh(n.shawValue(!0===e.has_functional_latrine?"OUI":"")),t.R7$(2),t.JRh(n.shawValue(!0===e.has_drinking_water_access?"OUI":""))}}function pe(o,i){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(2,"table",3)(3,"thead")(4,"tr",4)(5,"th",5),t.EFF(6,"N\xb0 m\xe9nage"),t.k0s(),t.j41(7,"th",6),t.EFF(8,"Nom M\xe9nage"),t.k0s(),t.j41(9,"th",7),t.EFF(10,"Total membres m\xe9nages"),t.k0s(),t.j41(11,"th",7),t.EFF(12,"Total femmes 15-49 ans"),t.k0s(),t.j41(13,"th",7),t.EFF(14,"Total enfants moins de 5 ans"),t.k0s(),t.j41(15,"th",7),t.EFF(16,"Total enfants de 0-11 mois"),t.k0s(),t.j41(17,"th",7),t.EFF(18,"Total enfants de 12-59 mois"),t.k0s(),t.j41(19,"th",7),t.EFF(20,"Latrine fonctionnelle"),t.k0s(),t.j41(21,"th",7),t.EFF(22,"Acc\xe8s \xe0 l'eau potable"),t.k0s()()(),t.j41(23,"thead")(24,"tr")(25,"td",8),t.EFF(26,"TOTAL"),t.k0s(),t.j41(27,"td",9),t.EFF(28),t.k0s(),t.j41(29,"td",9),t.EFF(30),t.k0s(),t.j41(31,"td",9),t.EFF(32),t.k0s(),t.j41(33,"td",9),t.EFF(34),t.k0s(),t.j41(35,"td",9),t.EFF(36),t.k0s(),t.j41(37,"td",9),t.EFF(38),t.k0s(),t.j41(39,"td",9),t.EFF(40),t.k0s()()(),t.j41(41,"tbody"),t.DNE(42,de,19,9,"tr",10),t.k0s()(),t.j41(43,"reports-pagination-table",11),t.bIt("onPageChanged",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.onUpdatedPaginate(r))}),t.k0s(),t.bVm()}if(2&o){const e=i.ngIf,n=t.XpG();t.R7$(),t.Y8G("id","recap-menage-table-header")("REPPORT_NAME",n.REPPORT_NAME)("CHANGE_STATE",n.CHANGE_STATE)("HIDE_ZERO_ID","household-rep")("TABLE_ID","recap-menage-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(27),t.JRh(n.shawValue(e.total_household_members)),t.R7$(2),t.JRh(n.shawValue(e.total_women_15_50_years)),t.R7$(2),t.JRh(n.shawValue(e.total_children_under_5_years)),t.R7$(2),t.JRh(n.shawValue(e.total_children_0_12_months)),t.R7$(2),t.JRh(n.shawValue(e.total_children_12_60_months)),t.R7$(2),t.JRh(n.shawValue(e.has_functional_latrine)),t.R7$(2),t.JRh(n.shawValue(e.has_drinking_water_access)),t.R7$(2),t.Y8G("ngForOf",n.PAGINATION_DATA),t.R7$(),t.Y8G("id","pagination-recap-menage")("PAGINATION_DATA",n.DATA_FETCHED)}}let Re=(()=>{class o extends I{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(s,d)=>(0,k.H)(this.ldbfetch.GetHouseholdRecapReports(s,d)),s=>this.api.ValidateHouseholdRecapReports(s),s=>this.api.CancelValidateHouseholdRecapReports(s),s=>this.api.SendHouseholdActivitiesToDhis2(s)),this.api=e,this.ldbfetch=n,this.PAGINATION_DATA=[],this.REPPORT_NAME="HOUSE_HOLD_RECAP",this.dhis2Service.getDhis2SendingStatus().pipe((0,u.Q)(this.destroy$)).subscribe(s=>{s&&(this.snackbar.show({msg:s.msg,color:s.color,position:s.position??"TOP",duration:s.duration??5e3}),this.CHANGE_STATE=new Date)})}onUpdatedPaginate(e){this.PAGINATION_DATA=e}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data??[]}get DATA_FETCHED_TOTAL(){return this.DATA_FETCHED?{total_household_members:this.DATA_FETCHED.map(e=>e.total_household_members).reduce((e,n)=>e+n,0),total_women_15_50_years:this.DATA_FETCHED.map(e=>e.total_women_15_50_years).reduce((e,n)=>e+n,0),total_children_under_5_years:this.DATA_FETCHED.map(e=>e.total_children_under_5_years).reduce((e,n)=>e+n,0),total_children_0_12_months:this.DATA_FETCHED.map(e=>e.total_children_0_12_months).reduce((e,n)=>e+n,0),total_children_12_60_months:this.DATA_FETCHED.map(e=>e.total_children_12_60_months).reduce((e,n)=>e+n,0),has_functional_latrine:this.DATA_FETCHED.map(e=>e.has_functional_latrine).reduce((e,n)=>!0===n?e+1:e,0),has_drinking_water_access:this.DATA_FETCHED.map(e=>e.has_drinking_water_access).reduce((e,n)=>!0===n?e+1:e,0)}:void 0}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["household-recap-report"]],standalone:!1,features:[t.Vt3],decls:2,vars:2,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","recap-menage-table",1,"table","table-bordered","table-hover"],[1,"table-head"],["scope","col",2,"width","2.5%"],["scope","col"],["scope","col",2,"width","10%"],["colspan","2","scope","row",1,"h-total"],[1,"h-total"],[4,"ngFor","ngForOf"],[3,"onPageChanged","id","PAGINATION_DATA"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,pe,44,16,"ng-container",1)),2&n&&(t.Y8G("isLoading",1==r.REPORTS_HEADER.ON_FETCHING.HOUSE_HOLD_RECAP),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED&&r.DATA_FETCHED_TOTAL))},dependencies:[R.G,R.I,C,he,P],styles:[".h-total[_ngcontent-%COMP%]{font-weight:700!important;color:#036!important;font-size:18px!important;background:#dfefff}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center!important}"]})}}return o})();function ue(o,i){if(1&o&&(t.qex(0),t.j41(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.bVm()),2&o){const e=i.ngIf,n=t.XpG(3);t.R7$(),t.ZvI("ajust-cells ",e.class,""),t.R7$(),t.JRh(n.shawValue(e.value)),t.R7$(),t.ZvI("ajust-cells ",e.class,""),t.R7$(),t.JRh(n.shawValue(e.ecart))}}function Ee(o,i){if(1&o&&(t.j41(0,"tr")(1,"td",13),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s(),t.DNE(17,ue,5,8,"ng-container",1),t.j41(18,"td"),t.EFF(19),t.k0s(),t.j41(20,"td"),t.EFF(21),t.k0s(),t.j41(22,"td"),t.EFF(23),t.k0s(),t.j41(24,"td"),t.EFF(25),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.index),t.R7$(2),t.JRh(e.label),t.R7$(),t.HbH(n.quantityStyle(e.month_beginning)),t.R7$(),t.JRh(n.shawValue(e.month_beginning)),t.R7$(),t.HbH(n.quantityStyle(e.month_received)),t.R7$(),t.JRh(n.shawValue(e.month_received)),t.R7$(),t.HbH(n.quantityStyle(e.month_total_start)),t.R7$(),t.JRh(n.shawValue(e.month_total_start)),t.R7$(),t.HbH(n.quantityStyle(e.month_consumption)),t.R7$(),t.JRh(n.shawValue(e.month_consumption)),t.R7$(),t.HbH(n.quantityStyle(e.month_theoreticaly)),t.R7$(),t.JRh(n.shawValue(e.month_theoreticaly)),t.R7$(),t.HbH(n.quantityStyle(e.month_inventory)),t.R7$(),t.JRh(n.shawValue(e.month_inventory)),t.R7$(),t.Y8G("ngIf",n.EcartColor(e)),t.R7$(),t.HbH(n.quantityStyle(e.month_loss)),t.R7$(),t.JRh(n.shawValue(e.month_loss)),t.R7$(),t.HbH(n.quantityStyle(e.month_damaged)),t.R7$(),t.JRh(n.shawValue(e.month_damaged)),t.R7$(),t.HbH(n.quantityStyle(e.month_broken)),t.R7$(),t.JRh(n.shawValue(e.month_broken)),t.R7$(),t.HbH(n.quantityStyle(e.month_expired)),t.R7$(),t.JRh(n.shawValue(e.month_expired))}}function Fe(o,i){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(2,"table",3)(3,"thead")(4,"tr",4)(5,"th",5),t.EFF(6,"N\xb0"),t.k0s(),t.j41(7,"th",6),t.EFF(8,"MEG / INTRANTS"),t.k0s(),t.j41(9,"th",7),t.EFF(10,"Quantit\xe9 d\xe9but du mois (A)"),t.k0s(),t.j41(11,"th",7),t.EFF(12,"Quantit\xe9 re\xe7ue au cours du mois (B)"),t.k0s(),t.j41(13,"th",7),t.EFF(14,"Quantit\xe9 totale du mois (C=A+B)"),t.k0s(),t.j41(15,"th",7),t.EFF(16,"Quantit\xe9 utilis\xe9e au cours du mois (D)"),t.k0s(),t.j41(17,"th",7),t.EFF(18,"Quantit\xe9 th\xe9orique (E=C-D)"),t.k0s(),t.j41(19,"th",7),t.EFF(20,"Quantit\xe9 physique \xe0 l'inventaire (F)"),t.k0s(),t.j41(21,"th",8),t.EFF(22,"Ecart d'inventaire (J=F-E)"),t.k0s(),t.j41(23,"th",9),t.EFF(24,"Autres Sorties"),t.k0s()(),t.j41(25,"tr",4)(26,"th",10),t.EFF(27,"En nombre"),t.k0s(),t.j41(28,"th",10),t.EFF(29,"En %"),t.k0s(),t.j41(30,"th",11),t.EFF(31,"Perte"),t.k0s(),t.j41(32,"th",11),t.EFF(33,"Avari\xe9"),t.k0s(),t.j41(34,"th",11),t.EFF(35,"Cass\xe9"),t.k0s(),t.j41(36,"th",11),t.EFF(37,"P\xe9rim\xe9"),t.k0s()()(),t.j41(38,"tbody"),t.DNE(39,Ee,26,43,"tr",12),t.k0s()(),t.bVm()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("id","meg-reco-table-header")("REPPORT_NAME",e.REPPORT_NAME)("CHANGE_STATE",e.CHANGE_STATE)("HIDE_ZERO_ID","reco-meg-rep")("TABLE_ID","meg-reco-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(38),t.Y8G("ngForOf",e.DATA_FETCHED)}}let me=(()=>{class o extends I{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(s,d)=>(0,k.H)(this.ldbfetch.GetRecoMegSituationReports(s,d)),s=>this.api.ValidateRecoMegSituationReports(s),s=>this.api.CancelValidateRecoMegSituationReports(s),s=>this.api.SendRecoMegSituationActivitiesToDhis2(s)),this.api=e,this.ldbfetch=n,this.REPPORT_NAME="RECO_MEG_QUANTITIES",this.dhis2Service.getDhis2SendingStatus().pipe((0,u.Q)(this.destroy$)).subscribe(s=>{s&&(this.CHANGE_STATE=new Date)})}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data}quantityStyle(e){return e<0?"quantity-error":e>0?"quantity-up":"quantity-down"}convertQty(e){return 0==e||""==e||null==e||"0"==e||null==e?void 0:e}EcartColor(e){const n=this.convertQty(e.month_inventory)??0,r=this.convertQty(e.month_theoreticaly)??0;if(0!=n&&0!=r){const a=n-r,c=a/r*100,l=c<0?-1*c:c;return{value:`${a}`,ecart:l>100?"> 100%":`${l.toFixed(0)}%`,class:l>5?"quantity-error":"quantity-ok"}}return{value:"-",ecart:"-",class:""}}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["reco-meg-situation-report"]],standalone:!1,features:[t.Vt3],decls:2,vars:2,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","meg-reco-table",1,"table","table-bordered","table-hover"],[1,"table-head","fp-header-1"],["rowspan","2","scope","col",2,"width","2.5%","text-align","center"],["rowspan","2",2,"text-align","center"],["scope","col","rowspan","2",2,"width","7%","text-align","center"],["scope","col","rowspan","1","colspan","2",2,"width","7%","text-align","center"],["colspan","4",2,"width","14%","text-align","center"],[2,"width","7%","text-align","center"],["scope","col",2,"width","7%","text-align","center"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,Fe,40,7,"ng-container",1)),2&n&&(t.Y8G("isLoading",1==r.REPORTS_HEADER.ON_FETCHING.RECO_MEG_QUANTITIES),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED))},dependencies:[R.G,R.I,C,P],styles:[".quantity-up[_ngcontent-%COMP%]{color:#05002d;font-weight:700}.quantity-error[_ngcontent-%COMP%]{color:#ff7070}"]})}}return o})();const fe=[{path:"",component:(()=>{class o{constructor(e,n,r,a,c,l,h){this.api=e,this.db=n,this.userCtx=r,this.snackbar=a,this.conn=c,this.fGroup=l,this.dhis2Service=h,this.CHANGE_STATE=null,this.destroy$=new w.B,this.REPORTS_HEADER={ON_FETCHING:{},IS_VALIDATED:{},IS_ON_DHIS2:{},ON_VALIDATION:{},ON_CANCEL_VALIDATION:{},ON_DHIS2_SENDING:{},ON_DHIS2_SENDING_ERROR:{}},this.REPORTS_DATA={MONTHLY_ACTIVITY:void 0,FAMILY_PLANNING:void 0,HOUSE_HOLD_RECAP:void 0,MORBIDITY:void 0,PCIMNE_NEWBORN:void 0,PROMOTION:void 0,RECO_MEG_QUANTITIES:void 0},this.isOnline=window.navigator.onLine,this.conn.getOnlineStatus().subscribe(_=>this.isOnline=_),this.initializeComponent(),(0,S.Ey)(),this.conn.getOnlineStatus().pipe((0,u.Q)(this.destroy$)).subscribe(_=>{this.isOnline=_}),this.fGroup.formGroup$.pipe((0,u.Q)(this.destroy$)).subscribe(_=>{_&&(this.form=_)}),this.fGroup.REPORTS_HEADER$.pipe((0,u.Q)(this.destroy$)).subscribe(_=>{_&&Object.entries(this.REPORTS_HEADER).forEach(([s,d])=>{this.REPORTS_HEADER[s]=_[s]??(Array.isArray(d)?[]:{})})}),this.fGroup.REPORTS_DATA$.pipe((0,u.Q)(this.destroy$)).subscribe(_=>{_&&(Object.keys(this.REPORTS_DATA).forEach(s=>{this.REPORTS_DATA[s]=_[s],this.REPORTS_HEADER.ON_FETCHING[s]=!1}),this.SET_REPORTS_HEADER())})}initializeComponent(){var e=this;return(0,E.A)(function*(){e.USER=yield e.userCtx.currentUser()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}SET_REPORTS_HEADER(){this.fGroup.SET_REPORTS_HEADER(this.REPORTS_HEADER),this.CHANGE_STATE=new Date}UPDATE_REPORT_FIELD(e,n,r){this.REPORTS_HEADER[e][n]=r,this.SET_REPORTS_HEADER()}SEND_ALL_REPPORTS_DATA_TO_DHIS2(e){this.dhis2Service.sendReportsToDhis2({form:this.form,dhis2Form:e,reportNames:Object.keys(this.REPORTS_DATA),onStart:n=>{this.showProcessMessage(n)},onProcess:n=>{this.showProcessMessage(n)},onSuccess:n=>{this.showProcessMessage(n)},onError:n=>{this.showProcessMessage(n)},onWarning:n=>{this.showProcessMessage(n)}})}VALIDATE_ALL_REPORTS(){var e=this;if(this.form)for(const n of Object.keys(this.REPORTS_DATA)){const r=n;this.UPDATE_REPORT_FIELD("ON_VALIDATION",r,!0);let a,c=!0;if("MONTHLY_ACTIVITY"==r&&(a=this.api.ValidateChwsRecoReports(this.form.value)),"FAMILY_PLANNING"==r&&(a=this.api.ValidateFamilyPlanningReports(this.form.value)),"HOUSE_HOLD_RECAP"==r){const l=(this.REPORTS_DATA?.[r]?.data??[])?.map(h=>h.id)??[];c=l&&l.length>0,a=this.api.ValidateHouseholdRecapReports({...this.form.value,dataIds:l})}"MORBIDITY"==r&&(a=this.api.ValidateMorbidityReports(this.form.value)),"PCIMNE_NEWBORN"==r&&(a=this.api.ValidatePcimneNewbornReports(this.form.value)),"PROMOTION"==r&&(a=this.api.ValidatePromotionReports(this.form.value)),"RECO_MEG_QUANTITIES"==r&&(a=this.api.ValidateRecoMegSituationReports(this.form.value)),c&&a?a.subscribe({next:function(){var l=(0,E.A)(function*(h){200==h.status?(e.SHOW_ALL_DATA(!1),e.UPDATE_REPORT_FIELD("ON_VALIDATION",r,!1),e.UPDATE_REPORT_FIELD("IS_VALIDATED",r,!0),e.snackbar.show({msg:`${r} valid\xe9 avec succ\xe8s.`,color:"success",position:"TOP"}),!0===e.USER?.role.canUseOfflineMode&&e.isOnline&&(yield e.db.all(e.form.value).then(_=>{}))):(e.UPDATE_REPORT_FIELD("ON_VALIDATION",r,!1),e.snackbar.show({msg:`Impossible de valider ${r}.`,color:"warning",position:"TOP"}))});return function(_){return l.apply(this,arguments)}}(),error:l=>{this.UPDATE_REPORT_FIELD("ON_VALIDATION",r,!1),this.snackbar.show({msg:`Erreur lors de la validation du ${r}.`,color:"danger",position:"TOP"})}}):(this.snackbar.showWarning("Pas d'informations suffisantes pour la validation."),this.UPDATE_REPORT_FIELD("ON_VALIDATION",r,!1))}}CANCEL_ALL_VALIDATION(){var e=this;if(this.form)for(const n of Object.keys(this.REPORTS_DATA)){const r=n;this.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",r,!0);let a,c=!0;if("MONTHLY_ACTIVITY"==r&&(a=this.api.CancelValidateChwsRecoReports(this.form.value)),"FAMILY_PLANNING"==r&&(a=this.api.CancelValidateFamilyPlanningReports(this.form.value)),"HOUSE_HOLD_RECAP"==r){const l=(this.REPORTS_DATA?.[r]?.data??[])?.map(h=>h.id)??[];c=l&&l.length>0,a=this.api.CancelValidateHouseholdRecapReports({...this.form.value,dataIds:l})}"MORBIDITY"==r&&(a=this.api.CancelValidateMorbidityReports(this.form.value)),"PCIMNE_NEWBORN"==r&&(a=this.api.CancelValidatePcimneNewbornReports(this.form.value)),"PROMOTION"==r&&(a=this.api.CancelValidatePromotionReports(this.form.value)),"RECO_MEG_QUANTITIES"==r&&(a=this.api.CancelValidateRecoMegSituationReports(this.form.value)),c&&a?a.subscribe({next:function(){var l=(0,E.A)(function*(h){200==h.status?(e.SHOW_ALL_DATA(!1),e.snackbar.show({msg:`Validation du ${r} annul\xe9e.`,color:"success",position:"TOP"}),e.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",r,!1),e.UPDATE_REPORT_FIELD("IS_VALIDATED",r,!1),!0===e.USER?.role.canUseOfflineMode&&e.isOnline&&(yield e.db.all(e.form.value).then(_=>{}))):e.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",r,!1)});return function(_){return l.apply(this,arguments)}}(),error:l=>{this.snackbar.showError("Erreur lors de l'annulation de la validation."),this.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",r,!1)}}):(this.snackbar.showWarning("Pas d'informations suffisantes pour annuler la validation."),this.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",r,!1))}}SHOW_ALL_DATA(e){}showProcessMessage(e){e&&(this.snackbar.show({msg:e.msg,color:e.color,position:e.position??"TOP",duration:1e4}),this.CHANGE_STATE=new Date)}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(b.X),t.rXU(m.i),t.rXU(T.z),t.rXU(f.T),t.rXU(g.z),t.rXU(D))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["reports-view"]],standalone:!1,decls:52,vars:8,consts:[[3,"onValidateAllReports","onCancelAllValidation","onSendAllReportsToDhis2","CHANGE_STATE"],[1,"nav-tabs"],["data-target","MONTH_ACTIVITY",1,"tab-link","active"],["data-target","PROMOTIONS",1,"tab-link"],["data-target","PF",1,"tab-link"],["data-target","MORBIDITY",1,"tab-link"],["data-target","PECIMNE",1,"tab-link"],["data-target","RECAP_MENAGE",1,"tab-link"],["data-target","MEG_RECO",1,"tab-link"],[1,"tab-content"],["id","MONTH_ACTIVITY",1,"view","active"],[3,"CHANGE_STATE"],["id","PROMOTIONS",1,"view"],["id","PF",1,"view"],["id","MORBIDITY",1,"view"],["id","PECIMNE",1,"view"],["id","RECAP_MENAGE",1,"view"],["id","MEG_RECO",1,"view"]],template:function(n,r){1&n&&(t.j41(0,"reports-orgunits-filter",0),t.bIt("onValidateAllReports",function(){return r.VALIDATE_ALL_REPORTS()})("onCancelAllValidation",function(){return r.CANCEL_ALL_VALIDATION()})("onSendAllReportsToDhis2",function(c){return r.SEND_ALL_REPPORTS_DATA_TO_DHIS2(c)}),t.k0s(),t.j41(1,"div",1)(2,"button",2),t.EFF(3,"RAPPORT D'ACTIVIT\xc9S"),t.k0s(),t.j41(4,"button",3),t.EFF(5,"RAPPORT PROMOTIONS"),t.k0s(),t.j41(6,"button",4),t.EFF(7,"RAPPORT PF"),t.k0s(),t.j41(8,"button",5),t.EFF(9,"RAPPORT MORBIDIT\xc9"),t.k0s(),t.j41(10,"button",6),t.EFF(11,"RAPPORT PCIMNEE"),t.k0s(),t.j41(12,"button",7),t.EFF(13,"RAPPORT M\xc9NAGES"),t.k0s(),t.j41(14,"button",8),t.EFF(15,"RAPPORT MEGs"),t.k0s()(),t.j41(16,"div",9)(17,"div",10)(18,"h2"),t.EFF(19,"\u{1f4ca} RAPPORT MENSUEL D'ACTIVIT\xc9"),t.k0s(),t.nrm(20,"br")(21,"chw-reco-activity-report",11),t.k0s(),t.j41(22,"div",12)(23,"h2"),t.EFF(24,"\u{1f4c8} RAPPORT PROMOTIONS"),t.k0s(),t.nrm(25,"br")(26,"promotion-activity-report",11),t.k0s(),t.j41(27,"div",13)(28,"h2"),t.EFF(29,"\u{1f4cb} RAPPORT PLANIFICATION FAMILIALE"),t.k0s(),t.nrm(30,"br")(31,"family-planning-report",11),t.k0s(),t.j41(32,"div",14)(33,"h2"),t.EFF(34,"\u{1f4cb} RAPPORT MORBIDIT\xc9"),t.k0s(),t.nrm(35,"br")(36,"morbidity-report",11),t.k0s(),t.j41(37,"div",15)(38,"h2"),t.EFF(39,"\u{1f4cb} RAPPORT PCIMNE"),t.k0s(),t.nrm(40,"br")(41,"pcimne-report",11),t.k0s(),t.j41(42,"div",16)(43,"h2"),t.EFF(44,"\u{1f4cb} RAPPORT R\xc9CAP DES M\xc9NAGES"),t.k0s(),t.nrm(45,"br")(46,"household-recap-report",11),t.k0s(),t.j41(47,"div",17)(48,"h2"),t.EFF(49,"\u{1f4cb} RAPPORT GESTION MEDICAMENTS RECO"),t.k0s(),t.nrm(50,"br")(51,"reco-meg-situation-report",11),t.k0s()()),2&n&&(t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(21),t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(5),t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(5),t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(5),t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(5),t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(5),t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(5),t.Y8G("CHANGE_STATE",r.CHANGE_STATE))},dependencies:[Tt,zt,qt,te,oe,ie,Re,me],encapsulation:2})}}return o})(),canActivate:[p(3111).d],data:{href:"reports",title:"RAPPORTS",access:["can_view_reports"]}}];let Ae=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[G.m.forChild(fe),G.m]})}}return o})();var be=p(3887),De=p(3268);let Oe=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[R.D,F.X1,Ae,be.G,De.o]})}}return o})()}}]);