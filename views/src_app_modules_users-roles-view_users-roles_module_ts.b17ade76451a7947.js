"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([["src_app_modules_users-roles-view_users-roles_module_ts"],{3111:(P,w,a)=>{a.d(w,{d:()=>x});var _=a(3308),l=a(6104),p=a(6769),g=a(6098),k=a(8394),e=a(8175),R=a(6167),S=a(4796),C=a(4224),b=a(960);let x=(()=>{class U{constructor(f,E,h,v,T,O,D){this.titleService=f,this.constants=E,this.router=h,this.userContext=v,this.auth=T,this.indexdb=O,this.error=D,this.destroy$=new l.B}canActivate(f,E){var h=this;return(0,_.A)(function*(){const v=yield h.userContext.currentUser();if(!h.userContext.isLoggedIn()||!v)return h.auth.logout(),!1;const T=f.data?.href;if(v.mustChangeDefaultPassword&&!v.hasChangedDefaultPassword&&"auths/change-default-password"!=T)return location.href="auths/change-default-password",!1;const O=f.data?.access??[],D=f.data?.title||h.constants.APP_TITLE,F=new Set;for(const A of v.routes??[])for(const I of A.authorizations??[])F.add(I);return!0===v.role?.isSuperUser||h.hasAnyMatch(F,O)?(h.titleService.setTitle(D),!0):(h.error.navigateTo("401"),!1)})()}hasAnyMatch(f,E){return E.some(h=>f.has(h))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(E){return new(E||U)(p.KVO(g.hE),p.KVO(k.D),p.KVO(e.t),p.KVO(R.i),p.KVO(S.u),p.KVO(C.T),p.KVO(b.Z))}}static{this.\u0275prov=p.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}}return U})()},8037:(P,w,a)=>{a.r(w),a.d(w,{UsersRolesModule:()=>we});var _=a(4765),l=a(8832),p=a(6651),g=a(3308),k=a(3691),e=a(6769),R=a(6167),S=a(8394),C=a(3366),b=a(5455),x=a(3598);let U=(()=>{class o{transform(t){return t.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275pipe=e.EJ8({name:"formatRole",type:o,pure:!0,standalone:!1})}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const G=o=>({show:o});function f(o,r){if(1&o&&(e.j41(0,"tr")(1,"td")(2,"span",4),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.nrm(5,"input",5),e.k0s()()),2&o){const t=r.$implicit,s=e.XpG(3);e.R7$(2),e.HbH(s.containsRole(t.id)?"action-checked":"action-unchecked"),e.R7$(),e.SpI(" ",s.titleCase(t.name)," "),e.R7$(2),e.Y8G("checked",s.containsRole(t.id))("disabled",!0)}}function E(o,r){if(1&o&&(e.j41(0,"table"),e.DNE(1,f,6,6,"tr",3),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.ROLES)}}function h(o,r){if(1&o&&(e.j41(0,"div")(1,"kossi-modal-layout",1),e.nrm(2,"img",2),e.DNE(3,E,2,1,"table",0),e.k0s()()),2&o){const t=e.XpG();e.R7$(),e.Y8G("id","show-roles-modal")("modalActionColor","dark-back")("showCloseButton",!0)("modalTitle","R\xf4les")("cancelBtnName","Annuler")("submitBtnName","Oui Supprimer")("showBottomElements",!1),e.R7$(),e.FS9("src",t.APP_LOGO,e.B4B),e.R7$(),e.Y8G("ngIf",t.ROLES)}}function v(o,r){if(1&o&&(e.j41(0,"div",8),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.JRh(t.message)}}function T(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"kossi-modal-layout",6),e.bIt("onSubmit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.delete())}),e.j41(2,"div"),e.EFF(3,"\xcates-vous s\xfbr de vouloir supprimer cet utilisateur ?"),e.k0s(),e.j41(4,"div"),e.EFF(5,"Cette action est ir\xe9versible! \xcates vous s\xfbr de proc\xe9der \xe0 la suppression ?"),e.k0s(),e.DNE(6,v,2,1,"div",7),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("id","delete-confirm-modal")("modalActionColor","danger-back")("showCloseButton",!0)("modalTitle","Suppression de: "+(t.SELECTED_USER?t.SELECTED_USER.fullname:"l'utilisateur!"))("cancelBtnName","Annuler")("submitBtnName","Oui Supprimer")("showBottomElements",!0)("showCancelButton",!0)("reloadApp",!1)("closeAfterSubmited",!1)("processing",t.isProcessing),e.R7$(5),e.Y8G("ngIf",t.message&&""!=t.message)}}function O(o,r){if(1&o&&(e.j41(0,"div",16)(1,"span",17),e.EFF(2),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(2),e.JRh(t.message)}}function D(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"span",21),e.nrm(4,"i",22),e.k0s(),e.nrm(5,"input",23),e.k0s(),e.j41(6,"div",20)(7,"span",21),e.nrm(8,"span",22),e.k0s(),e.nrm(9,"input",24),e.k0s()(),e.j41(10,"div",19)(11,"div",20)(12,"span",21),e.nrm(13,"i",25),e.k0s(),e.nrm(14,"input",26),e.j41(15,"i",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.togglePasswordVisibility())}),e.k0s()(),e.j41(16,"div",20)(17,"span",21),e.nrm(18,"i",25),e.k0s(),e.nrm(19,"input",27),e.j41(20,"i",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.togglePasswordVisibility())}),e.k0s()(),e.j41(21,"span",28),e.EFF(22,"Minimum 8 caract\xe8res avec chiffres et symboles"),e.k0s()(),e.j41(23,"div",19)(24,"div",20)(25,"span",21),e.nrm(26,"i",29),e.k0s(),e.nrm(27,"input",30),e.k0s(),e.j41(28,"div",31),e.nrm(29,"input",32),e.j41(30,"label",33),e.EFF(31,"Activer"),e.k0s()()()()}if(2&o){const t=e.XpG(2);e.R7$(14),e.Y8G("type",t.showPassword?"text":"password"),e.R7$(),e.HbH(t.showPassword?"fas fa-eye":"fas fa-eye-slash"),e.R7$(4),e.Y8G("type",t.showPassword?"text":"password"),e.R7$(),e.HbH(t.showPassword?"fas fa-eye":"fas fa-eye-slash")}}function F(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",37)(1,"input",38),e.bIt("change",function(){const i=e.eBV(t).$implicit,n=e.XpG(3);return e.Njj(n.addOrRemoveRole(i.id))}),e.k0s(),e.j41(2,"label",39),e.EFF(3),e.nI1(4,"formatRole"),e.k0s()()}if(2&o){const t=r.$implicit,s=e.XpG(3);e.R7$(),e.Mz_("id","add-remove-roles-",t.id,""),e.Y8G("checked",s.containsRole(t.id)),e.R7$(),e.Mz_("for","add-remove-roles-",t.id,""),e.R7$(),e.JRh(e.bMT(4,6,t.name))}}function N(o,r){if(1&o&&(e.j41(0,"div",18)(1,"div",34),e.EFF(2,"R\xf4les d'action"),e.k0s(),e.j41(3,"div",35)(4,"div",19),e.DNE(5,F,5,8,"div",36),e.k0s()()()),2&o){const t=e.XpG(2);e.R7$(5),e.Y8G("ngForOf",t.ORGUNITS.roles)}}function A(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",48)(1,"aside",43)(2,"input",45),e.bIt("change",function(){const i=e.eBV(t).$implicit,n=e.XpG(9);return e.Njj(n.selectVillageSecteurs(i))}),e.k0s(),e.j41(3,"label",46),e.EFF(4),e.k0s()()()}if(2&o){const t=r.$implicit,s=e.XpG().$implicit,i=e.XpG(8);e.Y8G("ngClass",e.eq3(7,G,i.isListOpenToShow("district-"+s.id))),e.R7$(2),e.Mz_("id","village_secteur-",t.id,""),e.Y8G("checked",i.containsOrgUnits("villageSecteurs",t.id)),e.R7$(),e.Mz_("for","village_secteur-",t.id,""),e.R7$(),e.JRh(t.name)}}function I(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",48)(1,"aside",43)(2,"button",44),e.bIt("click",function(){const i=e.eBV(t).$implicit,n=e.XpG(8);return e.Njj(n.toggleList("district-"+i.id))}),e.j41(3,"span"),e.EFF(4),e.k0s()(),e.j41(5,"input",45),e.bIt("change",function(){const i=e.eBV(t).$implicit,n=e.XpG(8);return e.Njj(n.selectDistrictQuartiers(i))}),e.k0s(),e.j41(6,"label",46),e.EFF(7),e.k0s()(),e.DNE(8,A,5,9,"div",47),e.k0s()}if(2&o){const t=r.$implicit,s=e.XpG().$implicit,i=e.XpG(7);e.Y8G("ngClass",e.eq3(9,G,i.isListOpenToShow("hospital-"+s.id))),e.R7$(4),e.JRh(i.isListOpenToShow("district-"+t.id)?"-":"+"),e.R7$(),e.Mz_("id","district-",t.id,""),e.Y8G("checked",i.containsOrgUnits("districtQuartiers",t.id)),e.R7$(),e.Mz_("for","district-",t.id,""),e.R7$(),e.JRh(t.name),e.R7$(),e.Y8G("ngForOf",i.generateVillageSecteurs(t.id))}}function B(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",48)(1,"aside",43)(2,"button",44),e.bIt("click",function(){const i=e.eBV(t).$implicit,n=e.XpG(7);return e.Njj(n.toggleList("hospital-"+i.id))}),e.j41(3,"span"),e.EFF(4),e.k0s()(),e.j41(5,"input",45),e.bIt("change",function(){const i=e.eBV(t).$implicit,n=e.XpG(7);return e.Njj(n.selectHospitals(i))}),e.k0s(),e.j41(6,"label",46),e.EFF(7),e.k0s()(),e.DNE(8,I,9,11,"div",47),e.k0s()}if(2&o){const t=r.$implicit,s=e.XpG().$implicit,i=e.XpG(6);e.Y8G("ngClass",e.eq3(9,G,i.isListOpenToShow("commune-"+s.id))),e.R7$(4),e.JRh(i.isListOpenToShow("hospital-"+t.id)?"-":"+"),e.R7$(),e.Mz_("id","hospital-",t.id,""),e.Y8G("checked",i.containsOrgUnits("hospitals",t.id)),e.R7$(),e.Mz_("for","hospital-",t.id,""),e.R7$(),e.JRh(t.name),e.R7$(),e.Y8G("ngForOf",i.generateDistrictQuartiers(t.id))}}function X(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",48)(1,"aside",43)(2,"button",44),e.bIt("click",function(){const i=e.eBV(t).$implicit,n=e.XpG(6);return e.Njj(n.toggleList("commune-"+i.id))}),e.j41(3,"span"),e.EFF(4),e.k0s()(),e.j41(5,"input",45),e.bIt("change",function(){const i=e.eBV(t).$implicit,n=e.XpG(6);return e.Njj(n.selectCommunes(i))}),e.k0s(),e.j41(6,"label",46),e.EFF(7),e.k0s()(),e.DNE(8,B,9,11,"div",47),e.k0s()}if(2&o){const t=r.$implicit,s=e.XpG().$implicit,i=e.XpG(5);e.Y8G("ngClass",e.eq3(9,G,i.isListOpenToShow("prefecture-"+s.id))),e.R7$(4),e.JRh(i.isListOpenToShow("commune-"+t.id)?"-":"+"),e.R7$(),e.Mz_("id","commune-",t.id,""),e.Y8G("checked",i.containsOrgUnits("communes",t.id)),e.R7$(),e.Mz_("for","commune-",t.id,""),e.R7$(),e.JRh(t.name),e.R7$(),e.Y8G("ngForOf",i.generateHospitals(t.id))}}function M(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",48)(1,"aside",43)(2,"button",44),e.bIt("click",function(){const i=e.eBV(t).$implicit,n=e.XpG(5);return e.Njj(n.toggleList("prefecture-"+i.id))}),e.j41(3,"span"),e.EFF(4),e.k0s()(),e.j41(5,"input",45),e.bIt("change",function(){const i=e.eBV(t).$implicit,n=e.XpG(5);return e.Njj(n.selectPrefectures(i))}),e.k0s(),e.j41(6,"label",46),e.EFF(7),e.k0s()(),e.DNE(8,X,9,11,"div",47),e.k0s()}if(2&o){const t=r.$implicit,s=e.XpG().$implicit,i=e.XpG(4);e.Y8G("ngClass",e.eq3(9,G,i.isListOpenToShow("region-"+s.id))),e.R7$(4),e.JRh(i.isListOpenToShow("prefecture-"+t.id)?"-":"+"),e.R7$(),e.Mz_("id","prefecture-",t.id,""),e.Y8G("checked",i.containsOrgUnits("prefectures",t.id)),e.R7$(),e.Mz_("for","prefecture-",t.id,""),e.R7$(),e.JRh(t.name),e.R7$(),e.Y8G("ngForOf",i.generateCommunes(t.id))}}function V(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",48)(1,"aside",43)(2,"button",44),e.bIt("click",function(){const i=e.eBV(t).$implicit,n=e.XpG(4);return e.Njj(n.toggleList("region-"+i.id))}),e.j41(3,"span"),e.EFF(4),e.k0s()(),e.j41(5,"input",45),e.bIt("change",function(){const i=e.eBV(t).$implicit,n=e.XpG(4);return e.Njj(n.selectRegions(i))}),e.k0s(),e.j41(6,"label",46),e.EFF(7),e.k0s()(),e.DNE(8,M,9,11,"div",47),e.k0s()}if(2&o){const t=r.$implicit,s=e.XpG().$implicit,i=e.XpG(3);e.Y8G("ngClass",e.eq3(9,G,i.isListOpenToShow("country-"+s.id))),e.R7$(4),e.JRh(i.isListOpenToShow("region-"+t.id)?"-":"+"),e.R7$(),e.Mz_("id","region-",t.id,""),e.Y8G("checked",i.containsOrgUnits("regions",t.id)),e.R7$(),e.Mz_("for","region-",t.id,""),e.R7$(),e.JRh(t.name),e.R7$(),e.Y8G("ngForOf",i.generatePrefectures(t.id))}}function z(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",42)(1,"aside",43)(2,"button",44),e.bIt("click",function(){const i=e.eBV(t).$implicit,n=e.XpG(3);return e.Njj(n.toggleList("country-"+i.id))}),e.j41(3,"span"),e.EFF(4),e.k0s()(),e.j41(5,"input",45),e.bIt("change",function(){const i=e.eBV(t).$implicit,n=e.XpG(3);return e.Njj(n.selectCountries(i))}),e.k0s(),e.j41(6,"label",46),e.EFF(7),e.k0s()(),e.DNE(8,V,9,11,"div",47),e.k0s()}if(2&o){const t=r.$implicit,s=e.XpG(3);e.R7$(4),e.JRh(s.isListOpenToShow("country-"+t.id)?"-":"+"),e.R7$(),e.Y8G("checked",s.containsOrgUnits("countries",t.id))("id","country-"+t.id),e.R7$(),e.Mz_("for","country-",t.id,""),e.R7$(),e.JRh(t.name),e.R7$(),e.Y8G("ngForOf",s.generateRegions(t.id))}}function Y(o,r){if(1&o&&(e.j41(0,"div",18)(1,"div",40),e.DNE(2,z,9,7,"div",41),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.ORGUNITS.countries)}}function Q(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"kossi-modal-layout",9),e.bIt("onSubmit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.registerOrUpdate())}),e.DNE(2,O,3,1,"div",10),e.j41(3,"div",11)(4,"form",12)(5,"div",13)(6,"h2",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleSection("info"))}),e.EFF(7,"1\ufe0f\u20e3 Informations utilisateur"),e.k0s(),e.DNE(8,D,32,8,"div",15),e.j41(9,"h2",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleSection("roles"))}),e.EFF(10,"2\ufe0f\u20e3 R\xf4les d'action"),e.k0s(),e.DNE(11,N,6,1,"div",15),e.j41(12,"h2",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleSection("orgunit"))}),e.EFF(13,"3\ufe0f\u20e3 Unit\xe9s d'organisation"),e.k0s(),e.DNE(14,Y,3,1,"div",15),e.k0s()()()()()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("id","create-update-user-modal")("modalContentWidth","large-width")("modalActionColor",t.isEditMode?"warning-back":"success-back")("showCloseButton",!0)("modalTitle",t.isEditMode?"Modifier un utilisateur":"Ajouter un utilisateur")("cancelBtnName","Annuler")("submitBtnName",t.isEditMode?"Modifier":"Sauvegarder")("showBottomElements",!0)("showCancelButton",!0)("reloadApp",!1)("closeAfterSubmited",!1)("disableSubmitButton",!t.userForm.valid||t.orgUnitsIsEmpty()||t.rolesIsEmpty())("processing",t.isProcessing),e.R7$(),e.Y8G("ngIf",t.message&&""!=t.message),e.R7$(2),e.Y8G("formGroup",t.userForm),e.R7$(4),e.Y8G("ngIf","info"===t.visibleSection),e.R7$(3),e.Y8G("ngIf","roles"===t.visibleSection),e.R7$(3),e.Y8G("ngIf","orgunit"===t.visibleSection)}}let $=(()=>{class o{constructor(t,s,i,n){this.api=t,this.userCtx=s,this.mService=i,this.cst=n,this.ORGUNITS={countries:[],regions:[],prefectures:[],communes:[],hospitals:[],districtQuartiers:[],villageSecteurs:[],chws:[],recos:[],user:null,roles:[]},this.isEditMode=!1,this.isProcessing=!1,this.APP_LOGO="",this.countries=[],this.regions=[],this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.villageSecteurs=[],this.showPassword=!1,this.visibleSection="info",this.isToOpenList={},this.APP_LOGO=this.cst.APP_LOGO}toggleSection(t){this.visibleSection=this.visibleSection===t?"":t}ngOnInit(){1==this.IS_CREATE_OR_UPDATE&&(this.isEditMode=null!=this.ORGUNITS.user,this.userForm=this.userFormGroup(this.ORGUNITS.user),this.SELECTED_ROLE=this.ORGUNITS.user?.rolesIds??[],this.countries=this.ORGUNITS.user?.countries??[],this.regions=this.ORGUNITS.user?.regions??[],this.prefectures=this.ORGUNITS.user?.prefectures??[],this.communes=this.ORGUNITS.user?.communes??[],this.hospitals=this.ORGUNITS.user?.hospitals??[],this.districtQuartiers=this.ORGUNITS.user?.districtQuartiers??[],this.villageSecteurs=this.ORGUNITS.user?.villageSecteurs??[])}togglePasswordVisibility(){this.showPassword=!this.showPassword}isListOpenToShow(t){return this.isToOpenList[t]??!1}toggleList(t){this.isToOpenList[t]=!0!==this.isToOpenList[t]}orgUnitsIsEmpty(){return 0===[...this.countries??[],...this.regions??[],...this.prefectures??[],...this.communes??[],...this.hospitals??[],...this.districtQuartiers??[],...this.villageSecteurs??[]].length}rolesIsEmpty(){return 0===(this.SELECTED_ROLE??[]).length}containsOrgUnits(t,s){if("countries"===t){const i=(this.countries??[]).map(c=>c.id).includes(s),n=(this.regions??[]).map(c=>c.country_id),u=n.includes(s),d=this.generateRegions(s).length===n.length;return i||u&&d}if("regions"===t){const i=(this.regions??[]).map(c=>c.id).includes(s),n=(this.prefectures??[]).map(c=>c.region_id),u=n.includes(s),d=this.generatePrefectures(s).length===n.length;return i||u&&d}if("prefectures"===t){const i=(this.prefectures??[]).map(c=>c.id).includes(s),n=(this.communes??[]).map(c=>c.prefecture_id),u=n.includes(s),d=this.generateCommunes(s).length===n.length;return i||u&&d}if("communes"===t){const i=(this.communes??[]).map(c=>c.id).includes(s),n=(this.hospitals??[]).map(c=>c.commune_id),u=n.includes(s),d=this.generateHospitals(s).length===n.length;return i||u&&d}if("hospitals"===t){const i=(this.hospitals??[]).map(c=>c.id).includes(s),n=(this.districtQuartiers??[]).map(c=>c.hospital_id),u=n.includes(s),d=this.generateDistrictQuartiers(s).length===n.length;return i||u&&d}if("districtQuartiers"===t){const i=(this.districtQuartiers??[]).map(c=>c.id).includes(s),n=(this.villageSecteurs??[]).map(c=>c.district_quartier_id),u=n.includes(s),d=this.generateVillageSecteurs(s).length===n.length;return i||u&&d}return"villageSecteurs"===t&&(this.villageSecteurs??[]).map(n=>n.id).includes(s)}generateRegions(t){return this.ORGUNITS.regions.filter(s=>t===s.country_id)}generatePrefectures(t){return this.ORGUNITS.prefectures.filter(s=>t===s.region_id)}generateCommunes(t){return this.ORGUNITS.communes.filter(s=>t===s.prefecture_id)}generateHospitals(t){return this.ORGUNITS.hospitals.filter(s=>t===s.commune_id)}generateDistrictQuartiers(t){return this.ORGUNITS.districtQuartiers.filter(s=>t===s.hospital_id)}generateVillageSecteurs(t){return this.ORGUNITS.villageSecteurs.filter(s=>t===s.district_quartier_id)}selectCountries(t){const s=this.findObj(this.countries,t).index;-1!==s?(this.countries.splice(s,1),this.regions=this.regions.filter(i=>i.country_id!==t.id),this.prefectures=this.prefectures.filter(i=>i.country_id!==t.id),this.communes=this.communes.filter(i=>i.country_id!==t.id),this.hospitals=this.hospitals.filter(i=>i.country_id!==t.id),this.districtQuartiers=this.districtQuartiers.filter(i=>i.country_id!==t.id),this.villageSecteurs=this.villageSecteurs.filter(i=>i.country_id!==t.id)):(this.countries.push(t),this.regions=[...this.regions.filter(i=>i.country_id!==t.id),...this.ORGUNITS.regions.filter(i=>i.country_id===t.id)],this.prefectures=[...this.prefectures.filter(i=>i.country_id!==t.id),...this.ORGUNITS.prefectures.filter(i=>i.country_id===t.id)],this.communes=[...this.communes.filter(i=>i.country_id!==t.id),...this.ORGUNITS.communes.filter(i=>i.country_id===t.id)],this.hospitals=[...this.hospitals.filter(i=>i.country_id!==t.id),...this.ORGUNITS.hospitals.filter(i=>i.country_id===t.id)],this.districtQuartiers=[...this.districtQuartiers.filter(i=>i.country_id!==t.id),...this.ORGUNITS.districtQuartiers.filter(i=>i.country_id===t.id)],this.villageSecteurs=[...this.villageSecteurs.filter(i=>i.country_id!==t.id),...this.ORGUNITS.villageSecteurs.filter(i=>i.country_id===t.id)])}selectRegions(t){const s=this.findObj(this.regions,t).index;-1!==s?(this.regions.splice(s,1),this.prefectures=this.prefectures.filter(i=>i.region_id!==t.id),this.communes=this.communes.filter(i=>i.region_id!==t.id),this.hospitals=this.hospitals.filter(i=>i.region_id!==t.id),this.districtQuartiers=this.districtQuartiers.filter(i=>i.region_id!==t.id),this.villageSecteurs=this.villageSecteurs.filter(i=>i.region_id!==t.id)):(this.regions.push(t),this.prefectures=[...this.prefectures.filter(i=>i.region_id!==t.id),...this.ORGUNITS.prefectures.filter(i=>i.region_id===t.id)],this.communes=[...this.communes.filter(i=>i.region_id!==t.id),...this.ORGUNITS.communes.filter(i=>i.region_id===t.id)],this.hospitals=[...this.hospitals.filter(i=>i.region_id!==t.id),...this.ORGUNITS.hospitals.filter(i=>i.region_id===t.id)],this.districtQuartiers=[...this.districtQuartiers.filter(i=>i.region_id!==t.id),...this.ORGUNITS.districtQuartiers.filter(i=>i.region_id===t.id)],this.villageSecteurs=[...this.villageSecteurs.filter(i=>i.region_id!==t.id),...this.ORGUNITS.villageSecteurs.filter(i=>i.country_id===t.id)])}selectPrefectures(t){const s=this.findObj(this.prefectures,t).index;-1!==s?(this.prefectures.splice(s,1),this.communes=this.communes.filter(i=>i.prefecture_id!==t.id),this.hospitals=this.hospitals.filter(i=>i.prefecture_id!==t.id),this.districtQuartiers=this.districtQuartiers.filter(i=>i.prefecture_id!==t.id),this.villageSecteurs=this.villageSecteurs.filter(i=>i.prefecture_id!==t.id)):(this.prefectures.push(t),this.communes=[...this.communes.filter(i=>i.prefecture_id!==t.id),...this.ORGUNITS.communes.filter(i=>i.prefecture_id===t.id)],this.hospitals=[...this.hospitals.filter(i=>i.prefecture_id!==t.id),...this.ORGUNITS.hospitals.filter(i=>i.prefecture_id===t.id)],this.districtQuartiers=[...this.districtQuartiers.filter(i=>i.prefecture_id!==t.id),...this.ORGUNITS.districtQuartiers.filter(i=>i.prefecture_id===t.id)],this.villageSecteurs=[...this.villageSecteurs.filter(i=>i.prefecture_id!==t.id),...this.ORGUNITS.villageSecteurs.filter(i=>i.prefecture_id===t.id)])}selectCommunes(t){const s=this.findObj(this.communes,t).index;-1!==s?(this.communes.splice(s,1),this.hospitals=this.hospitals.filter(i=>i.commune_id!==t.id),this.districtQuartiers=this.districtQuartiers.filter(i=>i.commune_id!==t.id),this.villageSecteurs=this.villageSecteurs.filter(i=>i.commune_id!==t.id)):(this.communes.push(t),this.hospitals=[...this.hospitals.filter(i=>i.commune_id!==t.id),...this.ORGUNITS.hospitals.filter(i=>i.commune_id===t.id)],this.districtQuartiers=[...this.districtQuartiers.filter(i=>i.commune_id!==t.id),...this.ORGUNITS.districtQuartiers.filter(i=>i.commune_id===t.id)],this.villageSecteurs=[...this.villageSecteurs.filter(i=>i.commune_id!==t.id),...this.ORGUNITS.villageSecteurs.filter(i=>i.commune_id===t.id)])}selectHospitals(t){const s=this.findObj(this.hospitals,t).index;-1!==s?(this.hospitals.splice(s,1),this.districtQuartiers=this.districtQuartiers.filter(i=>i.hospital_id!==t.id),this.villageSecteurs=this.villageSecteurs.filter(i=>i.hospital_id!==t.id)):(this.hospitals.push(t),this.districtQuartiers=[...this.districtQuartiers.filter(i=>i.hospital_id!==t.id),...this.ORGUNITS.districtQuartiers.filter(i=>i.hospital_id===t.id)],this.villageSecteurs=[...this.villageSecteurs.filter(i=>i.hospital_id!==t.id),...this.ORGUNITS.villageSecteurs.filter(i=>i.hospital_id===t.id)])}selectDistrictQuartiers(t){const s=this.findObj(this.districtQuartiers,t).index;-1!==s?(this.districtQuartiers.splice(s,1),this.villageSecteurs=this.villageSecteurs.filter(i=>i.district_quartier_id!==t.id)):(this.districtQuartiers.push(t),this.villageSecteurs=[...this.villageSecteurs.filter(i=>i.district_quartier_id!==t.id),...this.ORGUNITS.villageSecteurs.filter(i=>i.district_quartier_id===t.id)])}selectVillageSecteurs(t){const s=this.findObj(this.villageSecteurs,t).index;-1!==s?this.villageSecteurs.splice(s,1):this.villageSecteurs.push(t)}userFormGroup(t){const s=!!t,i=t?.username??"",n={username:new l.MJ({value:i,disabled:s&&""!=i},[l.k0.required,l.k0.minLength(4)]),fullname:new l.MJ(t?.fullname??""),email:new l.MJ(t?.email??""),isActive:new l.MJ(!0===t?.isActive),password:new l.MJ("",s?[l.k0.minLength(8)]:[l.k0.required,l.k0.minLength(8)]),passwordConfirm:new l.MJ("",s?[l.k0.minLength(8)]:[l.k0.required,l.k0.minLength(8)])},u=s?null:[this.matchValidator("password","passwordConfirm",8)];return new l.gE(n,u)}findObj(t,s){const[i,n]=(()=>{let u=-1;return[t.find((c,m)=>c.id===s.id&&(u=m,!0)),u]})();return{found:i,index:n}}matchValidator(t,s,i){return n=>{const u=n.get(t),d=n.get(s);return u&&d&&u.value!==d.value?(u.value?.length>=i&&d.value?.length>=i&&(this.message="Les mots de passe ne sont pas identiques!"),{mismatch:!0}):null}}passwordMatchError(t){return!t||t.getError("password")&&t.get("passwordConfirm")?.touched}addOrRemoveRole(t){const s=this.SELECTED_ROLE.indexOf(t);-1!==s?this.SELECTED_ROLE.splice(s,1):this.SELECTED_ROLE.push(t)}registerOrUpdate(){this.message="",this.isProcessing=!0;const t=this.userForm.value.password,s=this.userForm.value.passwordConfirm,i=!t?.trim(),n=!s?.trim(),u=!i&&t!==s;if(this.isEditMode){if((t||s)&&u)return this.message="Les mots de passe ne concordent pas. Effacez-les si vous ne souhaitez pas les modifier.",void(this.isProcessing=!1)}else{if(i)return this.message="Le mot de passe est obligatoire.",void(this.isProcessing=!1);if(n)return this.message="Veuillez confirmer le mot de passe.",void(this.isProcessing=!1);if(u)return this.message="Les mots de passe ne concordent pas.",void(this.isProcessing=!1)}if(this.orgUnitsIsEmpty()||this.rolesIsEmpty())return this.message="Les unit\xe9s organisationnelles ou les r\xf4les sont vides. Ils sont requis.",void(this.isProcessing=!1);const d={id:this.ORGUNITS?.user?.id,username:this.ORGUNITS?.user?.username??this.userForm.value.username,fullname:this.userForm.value.fullname,email:this.userForm.value.email,password:i?void 0:t,isActive:!0===this.userForm.value.isActive,roles:this.SELECTED_ROLE,countries:this.countries,regions:this.regions,prefectures:this.prefectures,communes:this.communes,hospitals:this.hospitals,districtQuartiers:this.districtQuartiers,villageSecteurs:this.villageSecteurs,chws:this.ORGUNITS.chws.filter(m=>this.districtQuartiers.some(j=>j.id===m.district_quartier_id)),recos:this.ORGUNITS.recos.filter(m=>this.villageSecteurs.some(j=>j.id===m.village_secteur_id))};(this.ORGUNITS?.user?this.api.updateUser(d):this.api.register(d)).subscribe(m=>{200===m.status?this.mService.close(this.ORGUNITS?.user?{updated:!0}:{registered:!0}):(this.message=m.data,this.isProcessing=!1)},m=>{this.message="Erreur inconnue!",this.isProcessing=!1})}delete(){var t=this;return(0,g.A)(function*(){t.message="",t.isProcessing=!0;const s=yield t.userCtx.currentUser();t.SELECTED_USER&&s&&t.SELECTED_USER.id!=s.id?t.api.deleteUser(t.SELECTED_USER).subscribe(i=>{200===i.status?t.mService.close({deleted:!0}):(t.message="Erreur lors de la suppression, reessayez!",t.isProcessing=!1)},i=>{t.message="Erreur lors de la suppression, reessayez!",t.isProcessing=!1}):(t.message="Vous ne pouvez supprimer cet utilisateur",t.isProcessing=!1)})()}containsRole(t){return this.SELECTED_ROLE.includes(t)}titleCase(t){return(0,k.Sn)(t)}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(C.G),e.rXU(R.i),e.rXU(b.B),e.rXU(S.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-create-update-delete-users"]],inputs:{SELECTED_ROLE:"SELECTED_ROLE",SELECTED_USER:"SELECTED_USER",IS_SHOW_ROLES:"IS_SHOW_ROLES",ROLES:"ROLES",IS_DELETE_MODE:"IS_DELETE_MODE",IS_CREATE_OR_UPDATE:"IS_CREATE_OR_UPDATE",ORGUNITS:"ORGUNITS"},standalone:!1,decls:3,vars:3,consts:[[4,"ngIf"],[3,"id","modalActionColor","showCloseButton","modalTitle","cancelBtnName","submitBtnName","showBottomElements"],["height","30","alt","","srcset","",1,"modal-title",3,"src"],[4,"ngFor","ngForOf"],[2,"margin-left","5px"],["type","checkbox",3,"checked","disabled"],[3,"onSubmit","id","modalActionColor","showCloseButton","modalTitle","cancelBtnName","submitBtnName","showBottomElements","showCancelButton","reloadApp","closeAfterSubmited","processing"],["style","color: rgb(88, 0, 0); text-align: center;",4,"ngIf"],[2,"color","rgb(88, 0, 0)","text-align","center"],[3,"onSubmit","id","modalContentWidth","modalActionColor","showCloseButton","modalTitle","cancelBtnName","submitBtnName","showBottomElements","showCancelButton","reloadApp","closeAfterSubmited","disableSubmitButton","processing"],["style","min-height: 25px; text-align: center; padding:5px 2px;",4,"ngIf"],[1,"user-container"],["autocomplete","off","novalidate","",1,"form-horizontal",3,"formGroup"],[1,"form-container"],[3,"click"],["class","section",4,"ngIf"],[2,"min-height","25px","text-align","center","padding","5px 2px"],[2,"color","rgb(183, 0, 0)"],[1,"section"],[1,"row"],[1,"input-group","col-md-6"],[1,"input-group-icon"],[1,"fas","fa-user"],["id","username","type","text","placeholder","Username","formControlName","username"],["id","fullname","type","text","placeholder","Nom complet","formControlName","fullname"],[1,"fas","fa-lock"],["placeholder","Mot de passe","formControlName","password","autocomplete","new-password",3,"type"],["placeholder","Confirmer mot de passe","formControlName","passwordConfirm",3,"type"],[2,"color","gray","font-style","italic","margin-top","-20px"],[1,"fas","fa-envelope"],["autocomplete","off","id","email","type","email","placeholder","Email","formControlName","email",1,"form-control"],[1,"custom-checkbox","col-md-6"],["type","checkbox","id","isActive","formControlName","isActive","autocomplete","off"],["for","isActive"],[1,"section-title"],[1,"user-role"],["class","custom-checkbox col-md-4",4,"ngFor","ngForOf"],[1,"custom-checkbox","col-md-4"],["type","checkbox",3,"change","id","checked"],[3,"for"],[1,"user-orgunits"],["class","org-units-checkbox-parent",4,"ngFor","ngForOf"],[1,"org-units-checkbox-parent"],[1,"custom-checkbox","input-checkbox-group"],["type","button",1,"list-unlist",3,"click"],["type","checkbox",1,"org-units-check-input",3,"change","checked","id"],[1,"form-check-label","org-units-label",3,"for"],["class","org-units-checkbox-parent checkbox-list",3,"ngClass",4,"ngFor","ngForOf"],[1,"org-units-checkbox-parent","checkbox-list",3,"ngClass"]],template:function(s,i){1&s&&e.DNE(0,h,4,9,"div",0)(1,T,7,12,"div",0)(2,Q,15,18,"div",0),2&s&&(e.Y8G("ngIf",1==i.IS_SHOW_ROLES),e.R7$(),e.Y8G("ngIf",1==i.IS_DELETE_MODE),e.R7$(),e.Y8G("ngIf",1==i.IS_CREATE_OR_UPDATE))},dependencies:[_.E,_.G,_.I,l.qT,l.me,l.Zm,l.BC,l.cb,l.j4,l.JD,x.z,U],styles:[".user-container[_ngcontent-%COMP%]{height:100%!important;overflow-y:auto!important}.user-role[_ngcontent-%COMP%], .user-orgunits[_ngcontent-%COMP%]{overflow-y:auto!important;overflow-x:hidden!important;border:1px darkblue dashed!important;padding:10px!important}.user-role[_ngcontent-%COMP%]{max-height:150px!important}.user-orgunits[_ngcontent-%COMP%]{max-height:300px!important}.section[_ngcontent-%COMP%]{padding:1rem;border:1px solid #ccc;margin-bottom:1rem;background:#f9f9f9}h2[_ngcontent-%COMP%]{cursor:pointer;background:#eee;padding:.5rem;margin:0}"]})}}return o})();var L=a(2365);function J(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.openCreateOrEditUserModal())}),e.nrm(1,"i",6),e.EFF(2," Nouvel utilisateur "),e.k0s()}}function H(o,r){1&o&&e.nrm(0,"th",7)}function W(o,r){if(1&o){const t=e.RV6();e.j41(0,"i",13),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2).$implicit,n=e.XpG();return e.Njj(n.openSelectedRolesModal(i))}),e.k0s()}}function K(o,r){if(1&o&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2).$implicit;e.R7$(),e.JRh(t.isActive?"":"\u2713")}}function Z(o,r){if(1&o&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2).$implicit,s=e.XpG();e.R7$(),e.JRh(s.isSuperUser(t)?"\u2713":"")}}function q(o,r){if(1&o){const t=e.RV6();e.j41(0,"i",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3).$implicit,n=e.XpG();return e.Njj(n.openCreateOrEditUserModal(i))}),e.k0s()}if(2&o){const t=e.XpG(3).$implicit;e.ZvI("fas fa-edit ",t.isDeleted?"":"update-color","")}}function ee(o,r){if(1&o){const t=e.RV6();e.j41(0,"i",17),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3).$implicit,n=e.XpG();return e.Njj(n.openDeleteUserModal(i))}),e.k0s()}if(2&o){const t=e.XpG(3).$implicit;e.ZvI("fas fa-trash-alt ",t.isDeleted?"":"delete-color","")}}function te(o,r){1&o&&e.nrm(0,"i",18)}function ie(o,r){if(1&o&&(e.qex(0),e.j41(1,"td"),e.DNE(2,q,1,3,"i",15),e.k0s(),e.j41(3,"td"),e.DNE(4,ee,1,3,"i",15),e.k0s(),e.j41(5,"td"),e.DNE(6,te,1,0,"i",16),e.k0s(),e.bVm()),2&o){const t=e.XpG(2).$implicit,s=e.XpG();e.R7$(2),e.Y8G("ngIf",1==(null==s.USER||null==s.USER.role?null:s.USER.role.canUpdateUser)&&!t.isDeleted&&!s.isSuperUser(t)||1==(null==s.USER||null==s.USER.role?null:s.USER.role.isSuperUser)),e.R7$(2),e.Y8G("ngIf",1==(null==s.USER||null==s.USER.role?null:s.USER.role.canDeleteUser)&&!t.isDeleted&&!s.isSuperUser(t)),e.R7$(2),e.Y8G("ngIf",!t.isDeleted&&s.isSuperUser(t))}}function se(o,r){if(1&o&&(e.j41(0,"tr")(1,"td",9),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.DNE(10,W,1,0,"i",10),e.k0s(),e.j41(11,"td"),e.DNE(12,K,2,1,"span",11),e.k0s(),e.j41(13,"td"),e.DNE(14,Z,2,1,"span",11),e.k0s(),e.DNE(15,ie,7,3,"ng-container",12),e.k0s()),2&o){const t=e.XpG(),s=t.$implicit,i=t.index,n=e.XpG();e.HbH(s.isDeleted?"deleted-user":"undeleted-user"),e.R7$(2),e.JRh(i+1),e.R7$(2),e.JRh(s.username),e.R7$(2),e.JRh(s.fullname),e.R7$(2),e.JRh(s.email),e.R7$(2),e.Y8G("ngIf",!s.isDeleted),e.R7$(2),e.Y8G("ngIf",!s.isDeleted),e.R7$(2),e.Y8G("ngIf",!s.isDeleted),e.R7$(),e.Y8G("ngIf",1==(null==n.USER||null==n.USER.role?null:n.USER.role.canUpdateUser)||1==(null==n.USER||null==n.USER.role?null:n.USER.role.canDeleteUser))}}function oe(o,r){if(1&o&&(e.j41(0,"tbody"),e.DNE(1,se,16,10,"tr",8),e.k0s()),2&o){const t=r.$implicit,s=e.XpG();e.R7$(),e.Y8G("ngIf",!s.isSuperUser(t)||1==(null==s.USER||null==s.USER.role?null:s.USER.role.isSuperUser))}}let ne=(()=>{class o{constructor(t,s,i,n,u){this.userCtx=t,this.api=s,this.snackbar=i,this.mService=n,this.cst=u,this.users$=[],this.roles$=[],this.APP_LOGO="",this.countriesList=[],this.regionsList=[],this.prefecturesList=[],this.communesList=[],this.hospitalsList=[],this.districtQuartiersList=[],this.villageSecteursList=[],this.chwsList=[],this.recosList=[],this.initializeComponent()}initializeComponent(){var t=this;return(0,g.A)(function*(){t.APP_LOGO=t.cst.APP_LOGO,t.USER=yield t.userCtx.currentUser()})()}ngOnInit(){this.GetUsers(),this.GetRoles(),this.GetCountries(),this.GetRegions(),this.GetPrefectures(),this.GetCommunes(),this.GetHospitals(),this.GetDistrictQuartiers(),this.GetVillageSecteurs(),this.GetChws(),this.GetRecos()}OrgUnitsIsEmpty(t){return 0===[...t.countries??[],...t.regions??[],...t.prefectures??[],...t.communes??[],...t.hospitals??[],...t.districtQuartiers??[],...t.villageSecteurs??[]].length}isSuperUser(t){return!0===(0,k.H0)(t.authorizations??[],t.routes??[])?.isSuperUser}GetRoles(){this.api.GetRoles().subscribe(t=>{200==t.status&&(this.roles$=t.data)},t=>{})}GetUsers(){this.api.getUsers().subscribe(t=>{200===t.status&&(this.users$=t.data)},t=>{console.log(t)})}GetCountries(){this.api.GetCountries().subscribe(t=>{200===t.status&&(this.countriesList=t.data)},t=>{console.log(t)})}GetRegions(){this.api.GetRegions().subscribe(t=>{200===t.status&&(this.regionsList=t.data)},t=>{console.log(t)})}GetPrefectures(){this.api.GetPrefectures().subscribe(t=>{200===t.status&&(this.prefecturesList=t.data)},t=>{console.log(t)})}GetCommunes(){this.api.GetCommunes().subscribe(t=>{200===t.status&&(this.communesList=t.data)},t=>{console.log(t)})}GetHospitals(){this.api.GetHospitals().subscribe(t=>{200===t.status&&(this.hospitalsList=t.data)},t=>{console.log(t)})}GetDistrictQuartiers(){this.api.GetDistrictQuartiers().subscribe(t=>{200===t.status&&(this.districtQuartiersList=t.data)},t=>{console.log(t)})}GetVillageSecteurs(){this.api.GetVillageSecteurs().subscribe(t=>{200===t.status&&(this.villageSecteursList=t.data)},t=>{console.log(t)})}GetChws(){this.api.GetChws().subscribe(t=>{200===t.status&&(this.chwsList=t.data)},t=>{console.log(t)})}GetRecos(){this.api.GetRecos().subscribe(t=>{200===t.status&&(this.recosList=t.data)},t=>{console.log(t)})}generateSelectedUser(t){return{countries:this.countriesList,regions:this.regionsList,prefectures:this.prefecturesList,communes:this.communesList,hospitals:this.hospitalsList,districtQuartiers:this.districtQuartiersList,villageSecteurs:this.villageSecteursList,chws:this.chwsList,recos:this.recosList,user:t??null,roles:this.roles$}}openDeleteUserModal(t){this.mService.open($,{data:{SELECTED_USER:t,IS_DELETE_MODE:!0}}).subscribe(s=>{if(s&&1==s.deleted)return this.GetUsers(),this.snackbar.show({msg:"Supprim\xe9 avec succ\xe8s!",color:"success",duration:3e3})})}openCreateOrEditUserModal(t){this.mService.open($,{data:{ORGUNITS:this.generateSelectedUser(t),IS_CREATE_OR_UPDATE:!0}}).subscribe(s=>{if(s){if(1==s.registered)return this.GetUsers(),this.snackbar.show({msg:"Sauvegard\xe9 avec succ\xe8s",color:"success",duration:3e3});if(1==s.updated)return this.GetUsers(),this.snackbar.show({msg:"Modifi\xe9 avec succ\xe8s",color:"success",duration:3e3})}})}openSelectedRolesModal(t){const s=t.roles.filter(i=>i&&i.id).map(i=>i.id);this.mService.open($,{data:{SELECTED_USER:t,ROLES:this.roles$,SELECTED_ROLE:s,IS_SHOW_ROLES:!0}})}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(R.i),e.rXU(C.G),e.rXU(L.z),e.rXU(b.B),e.rXU(S.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-users-view"]],standalone:!1,decls:23,vars:3,consts:[[2,"display","flex","align-items","center","justify-content","space-between","margin","15px 10px 5px 10px"],["style","width: auto; float: right; background: green; color: aliceblue; font-weight: bold; font-size: 14px;","type","button","class","btn",3,"click",4,"ngIf"],[1,"table","table-white"],["colspan","3",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button",1,"btn",2,"width","auto","float","right","background","green","color","aliceblue","font-weight","bold","font-size","14px",3,"click"],[1,"fa","fa-add",2,"font-size","15px"],["colspan","3"],[3,"class",4,"ngIf"],["scope","row"],["style","cursor: pointer;","class","fas fa-eye",3,"click",4,"ngIf"],["style","font-size: 18px; font-weight: bold;",4,"ngIf"],[4,"ngIf"],[1,"fas","fa-eye",2,"cursor","pointer",3,"click"],[2,"font-size","18px","font-weight","bold"],[3,"class","click",4,"ngIf"],["style","cursor: pointer; font-size: 18px;","class","fas fa-lock",4,"ngIf"],[3,"click"],[1,"fas","fa-lock",2,"cursor","pointer","font-size","18px"]],template:function(s,i){1&s&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Utilisateurs"),e.k0s(),e.DNE(3,J,3,0,"button",1),e.k0s(),e.j41(4,"table",2)(5,"thead")(6,"tr")(7,"th"),e.EFF(8,"N\xb0"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Username"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Full name"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Email"),e.k0s(),e.j41(15,"th"),e.EFF(16,"R\xf4les"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Inactifs"),e.k0s(),e.j41(19,"th"),e.EFF(20,"isSuperUser"),e.k0s(),e.DNE(21,H,1,0,"th",3),e.k0s()(),e.DNE(22,oe,2,1,"tbody",4),e.k0s()),2&s&&(e.R7$(3),e.Y8G("ngIf",1==(null==i.USER||null==i.USER.role?null:i.USER.role.canCreateUser)),e.R7$(18),e.Y8G("ngIf",1==(null==i.USER||null==i.USER.role?null:i.USER.role.canUpdateUser)||1==(null==i.USER||null==i.USER.role?null:i.USER.role.canDeleteUser)),e.R7$(),e.Y8G("ngForOf",i.users$))},dependencies:[_.G,_.I],encapsulation:2})}}return o})();function re(o,r){if(1&o&&(e.j41(0,"div",3),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.JRh(t.message)}}function le(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"kossi-modal-layout",1),e.bIt("onSubmit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.delete())}),e.j41(2,"div"),e.EFF(3,"\xcates-vous s\xfbr de vouloir supprimer ce r\xf4le ?"),e.k0s(),e.j41(4,"div"),e.EFF(5,"Cette action est ir\xe9versible! \xcates vous s\xfbr de proc\xe9der \xe0 la suppression ?"),e.k0s(),e.DNE(6,re,2,1,"div",2),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("id","role-delete-confirm-modal")("modalActionColor","danger-back")("showCloseButton",!0)("modalTitle","Suppression de R\xd4LE: ")("cancelBtnName","Annuler")("submitBtnName","Oui Supprimer")("showBottomElements",!0)("showCancelButton",!0)("reloadApp",!1)("closeAfterSubmited",!1)("processing",t.isProcessing),e.R7$(5),e.Y8G("ngIf",t.message&&""!=t.message)}}function ce(o,r){if(1&o&&(e.j41(0,"span",16),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.JRh(t.message)}}function ae(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",20)(1,"input",21),e.bIt("click",function(){const i=e.eBV(t).$implicit,n=e.XpG(3);return e.Njj(n.addOrRemoveRoute(i))}),e.k0s(),e.j41(2,"label",22),e.EFF(3),e.k0s()()}if(2&o){const t=r.$implicit,s=e.XpG(3);e.R7$(),e.Mz_("id","add-remove-routes-",t.label,""),e.Y8G("checked",s.containsRoute(t)),e.R7$(),e.Mz_("for","add-remove-routes-",t.label,""),e.R7$(),e.JRh(t.label)}}function ue(o,r){if(1&o&&(e.j41(0,"div",17)(1,"div",18)(2,"div",9),e.DNE(3,ae,4,6,"div",19),e.k0s()()()),2&o){const t=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",t.DATAS.routes)}}function de(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",20)(1,"input",25),e.bIt("click",function(){const i=e.eBV(t).$implicit,n=e.XpG(3);return e.Njj(n.addOrRemoveAutorization(i))}),e.k0s(),e.j41(2,"label",22),e.EFF(3),e.k0s()()}if(2&o){const t=r.$implicit,s=e.XpG(3);e.R7$(),e.Mz_("id","add-remove-autorization-",t,""),e.Y8G("checked",s.containsAutorization(t)),e.R7$(),e.Mz_("for","add-remove-autorization-",t,""),e.R7$(),e.JRh(t)}}function _e(o,r){if(1&o&&(e.j41(0,"div",17)(1,"div",23),e.EFF(2,"Authorizations d'actions pour ce role"),e.k0s(),e.j41(3,"div",24)(4,"div",9),e.DNE(5,de,4,6,"div",19),e.k0s()()()),2&o){const t=e.XpG(2);e.R7$(5),e.Y8G("ngForOf",t.DATAS.authorizations)}}function he(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"kossi-modal-layout",4),e.bIt("onSubmit",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.createOrUpdate())}),e.j41(2,"div",5),e.DNE(3,ce,2,1,"span",6),e.k0s(),e.j41(4,"div",7)(5,"form",8)(6,"div",9)(7,"div",10)(8,"span",11),e.nrm(9,"i",12),e.k0s(),e.nrm(10,"input",13),e.k0s()(),e.nrm(11,"br"),e.j41(12,"h2",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleSection("route"))}),e.EFF(13,"1\ufe0f\u20e3 Pages d'acc\xe8s \xe0 celui qui aura ce role"),e.k0s(),e.DNE(14,ue,4,1,"div",15),e.nrm(15,"br"),e.j41(16,"h2",14),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.toggleSection("authorization"))}),e.EFF(17,"2\ufe0f\u20e3 Informations utilisateur"),e.k0s(),e.DNE(18,_e,6,1,"div",15),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("id","user-create-update-modal")("modalContentWidth","large-width")("modalActionColor",t.isEditMode?"warning-back":"success-back")("showCloseButton",!0)("modalTitle",t.isEditMode?"Modifier un R\xd4LE":"Ajouter un R\xd4LE")("cancelBtnName","Annuler")("submitBtnName",t.isEditMode?"Modifier":"Sauvegarder")("showBottomElements",!0)("showCancelButton",!0)("reloadApp",!1)("closeAfterSubmited",!1)("disableSubmitButton",!t.isValidForm())("processing",t.isProcessing),e.R7$(2),e.Y8G("ngIf",t.message&&""!=t.message),e.R7$(2),e.Y8G("formGroup",t.roleForm),e.R7$(9),e.Y8G("ngIf","route"===t.visibleSection),e.R7$(4),e.Y8G("ngIf","authorization"===t.visibleSection)}}let y=(()=>{class o{constructor(t,s,i,n){this.api=t,this.userCtx=s,this.mService=i,this.cst=n,this.DATAS={roles:[],routes:[],authorizations:[],role:null},this.isEditMode=!1,this.isProcessing=!1,this.selectedRoute=[],this.selectedAutorization=[],this.message="",this.APP_LOGO="",this.visibleSection="info",this.APP_LOGO=this.cst.APP_LOGO}ngOnInit(){1==this.IS_CREATE_OR_UPDATE&&(this.DATAS.role&&(this.selectedRoute=this.DATAS.routes.filter(t=>(this.DATAS.role.routes??[]).map(s=>s.path).includes(t.path)),this.selectedAutorization=this.DATAS.authorizations.filter(t=>(this.DATAS.role.authorizations??[]).includes(t))),this.roleForm=this.createFormGroup(this.DATAS.role))}toggleSection(t){this.visibleSection=this.visibleSection===t?"":t}isValidForm(){return""!=(this.roleForm?.value.name??"")&&this.selectedRoute.length>0&&this.selectedAutorization.length>0}containsRoute(t){return null!=this.selectedRoute.find(i=>i.path===t.path)}containsAutorization(t){return this.selectedAutorization.includes(t)}addOrRemoveRoute(t){const[s,i]=(()=>{let n=-1;return[this.selectedRoute.find((d,c)=>d.path===t.path&&(n=c,!0)),n]})();-1!==i?this.selectedRoute.splice(i,1):this.selectedRoute.push(t)}selectAllRoutes(){this.selectedRoute=this.selectedRoute.length==this.DATAS.routes.length?[]:this.DATAS.routes}selectAllAuthorizations(){this.selectedAutorization=this.selectedAutorization.length==this.DATAS.authorizations.length?[]:this.DATAS.authorizations}addOrRemoveAutorization(t){const[s,i]=(()=>{let n=-1;return[this.selectedAutorization.find((d,c)=>d===t&&(n=c,!0)),n]})();-1!==i?this.selectedAutorization.splice(i,1):this.selectedAutorization.push(t)}createFormGroup(t){const s=!!t,i=t?.name??"",n={name:new l.MJ({value:i,disabled:s&&""!=i},[l.k0.required,l.k0.minLength(4)])};return new l.gE(n)}toStringNewLine(t,s){return null!=t?`${t}`.toString().replace(/,/g,"<br>"):""}createOrUpdate(){this.message="",this.isProcessing=!0;const t={id:this.DATAS?.role?.id,name:this.DATAS?.role?.name??this.roleForm.value.name,routes:this.selectedRoute,authorizations:this.selectedAutorization};return(t.name??"").length<4?(this.message="Le nom ne doit pas \xeatre vide.",void(this.isProcessing=!1)):t.routes.length<=0?(this.message="Selectionner au moins une route pour ce roles",void(this.isProcessing=!1)):t.authorizations.length<=0?(this.message="Selectionner au moins une authorizations pour ce roles",void(this.isProcessing=!1)):void(this.DATAS?.role?this.api.UpdateRole(t):this.api.CreateRole(t)).subscribe(i=>{200===i.status?this.mService.close(this.DATAS?.role?{updated:!0}:{created:!0}):(this.message=i.data,this.isProcessing=!1)},i=>{this.message="Erreur inconnue!",this.isProcessing=!1})}delete(){this.message="",this.isProcessing=!0,this.SELECTED_ROLE&&this.SELECTED_ROLE.id?this.api.DeleteRole(this.SELECTED_ROLE).subscribe(t=>{200===t.status?this.mService.close({deleted:!0}):(this.message="Erreur lors de la suppression, reessayez!",this.isProcessing=!1)},t=>{this.message="Erreur lors de la suppression, reessayez!",this.isProcessing=!1}):(this.message="Vous ne pouvez supprimer ce r\xf4le",this.isProcessing=!1)}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(C.G),e.rXU(R.i),e.rXU(b.B),e.rXU(S.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-create-update-delete-roles"]],inputs:{IS_DELETE_MODE:"IS_DELETE_MODE",SELECTED_ROLE:"SELECTED_ROLE",IS_CREATE_OR_UPDATE:"IS_CREATE_OR_UPDATE",DATAS:"DATAS"},standalone:!1,decls:2,vars:2,consts:[[4,"ngIf"],[3,"onSubmit","id","modalActionColor","showCloseButton","modalTitle","cancelBtnName","submitBtnName","showBottomElements","showCancelButton","reloadApp","closeAfterSubmited","processing"],["style","color: rgb(88, 0, 0); text-align: center;",4,"ngIf"],[2,"color","rgb(88, 0, 0)","text-align","center"],[3,"onSubmit","id","modalContentWidth","modalActionColor","showCloseButton","modalTitle","cancelBtnName","submitBtnName","showBottomElements","showCancelButton","reloadApp","closeAfterSubmited","disableSubmitButton","processing"],[2,"min-height","25px","text-align","center","padding","5px 2px"],["style","color: rgb(183, 0, 0);",4,"ngIf"],[1,"user-container"],["autocomplete","off","novalidate","",1,"form-horizontal",3,"formGroup"],[1,"row"],[1,"input-group","col-md-6"],[1,"input-group-icon"],[1,"fas","fa-user"],["type","text","placeholder","Nom du role","formControlName","name"],[3,"click"],["class","section",4,"ngIf"],[2,"color","rgb(183, 0, 0)"],[1,"section"],[1,"role-routes"],["class","custom-checkbox col-md-4",4,"ngFor","ngForOf"],[1,"custom-checkbox","col-md-4"],["type","checkbox",3,"click","id","checked"],[3,"for"],[1,"section-title"],[1,"role-authorizations"],["type","checkbox",3,"click","checked","id"]],template:function(s,i){1&s&&e.DNE(0,le,7,12,"div",0)(1,he,19,17,"div",0),2&s&&(e.Y8G("ngIf",1==i.IS_DELETE_MODE),e.R7$(),e.Y8G("ngIf",1==i.IS_CREATE_OR_UPDATE))},dependencies:[_.G,_.I,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,x.z],styles:[".role-routes[_ngcontent-%COMP%], .role-authorizations[_ngcontent-%COMP%]{overflow-y:auto!important;overflow-x:hidden!important;border:1px darkblue dashed!important;padding:10px!important}.role-routes[_ngcontent-%COMP%]{max-height:300px!important}.role-authorizations[_ngcontent-%COMP%]{max-height:200px!important}.section[_ngcontent-%COMP%]{padding:1rem;border:1px solid #ccc;margin-bottom:1rem;background:#f9f9f9}h2[_ngcontent-%COMP%]{cursor:pointer;background:#eee;padding:.5rem;margin:0}"]})}}return o})();function pe(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",6),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.openCreateOrEditRoleModal())}),e.nrm(1,"i",7),e.EFF(2," Nouveau r\xf4le "),e.k0s()}}function me(o,r){1&o&&(e.j41(0,"th",8),e.EFF(1,"Actions"),e.k0s())}function fe(o,r){if(1&o){const t=e.RV6();e.j41(0,"i",12),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2).$implicit,n=e.XpG();return e.Njj(n.openCreateOrEditRoleModal(i))}),e.k0s()}if(2&o){const t=e.XpG(2).$implicit;e.ZvI("fas fa-edit ",t.isDeleted?"":"update-color","")}}function ge(o,r){if(1&o){const t=e.RV6();e.j41(0,"i",12),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2).$implicit,n=e.XpG();return e.Njj(n.openDeleteRoleModal(i))}),e.k0s()}if(2&o){const t=e.XpG(2).$implicit;e.ZvI("fas fa-trash-alt ",t.isDeleted?"":"delete-color","")}}function ve(o,r){if(1&o&&(e.qex(0),e.j41(1,"td"),e.DNE(2,fe,1,3,"i",11),e.k0s(),e.j41(3,"td"),e.DNE(4,ge,1,3,"i",11),e.k0s(),e.bVm()),2&o){const t=e.XpG().$implicit,s=e.XpG();e.R7$(2),e.Y8G("ngIf",1==(null==s.USER||null==s.USER.role?null:s.USER.role.canUpdateRole)&&!(null!=t.authorizations&&t.authorizations.includes("_superuser"))),e.R7$(2),e.Y8G("ngIf",1==(null==s.USER||null==s.USER.role?null:s.USER.role.canDeleteRole)&&!(null!=t.authorizations&&t.authorizations.includes("_superuser")))}}function Ee(o,r){if(1&o&&(e.j41(0,"tbody")(1,"tr")(2,"td",9),e.EFF(3),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.DNE(6,ve,5,2,"ng-container",10),e.k0s()()),2&o){const t=r.$implicit,s=e.XpG();e.R7$(),e.HbH(t.isDeleted?"deleted-user":"undeleted-user"),e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.name),e.R7$(),e.Y8G("ngIf",1==(null==s.USER||null==s.USER.role?null:s.USER.role.canUpdateRole)||1==(null==s.USER||null==s.USER.role?null:s.USER.role.canDeleteRole))}}let Re=(()=>{class o{constructor(t,s,i,n,u){this.userCtx=t,this.api=s,this.snackbar=i,this.mService=n,this.cst=u,this.roles$=[],this.routes$=[],this.authorizations$=[],this.APP_LOGO="",this.visibleSection="info",this.initializeComponent()}initializeComponent(){var t=this;return(0,g.A)(function*(){t.APP_LOGO=t.cst.APP_LOGO,t.USER=yield t.userCtx.currentUser()})()}toggleSection(t){this.visibleSection=this.visibleSection===t?"":t}ngOnInit(){this.GetRoles(),this.GetUserAuthorizations(),this.GetUserRoutes()}GetRoles(){var t=this;this.api.GetRoles().subscribe(function(){var s=(0,g.A)(function*(i){200==i.status&&(t.roles$=i.data)});return function(i){return s.apply(this,arguments)}}(),s=>{})}GetUserAuthorizations(){var t=this;this.api.UserAuthorizations().subscribe(function(){var s=(0,g.A)(function*(i){200==i.status&&(t.authorizations$=i.data)});return function(i){return s.apply(this,arguments)}}(),s=>{})}GetUserRoutes(){var t=this;this.api.UserRoutes().subscribe(function(){var s=(0,g.A)(function*(i){200==i.status&&(t.routes$=i.data)});return function(i){return s.apply(this,arguments)}}(),s=>{})}generateSelectedRole(t){return{roles:this.roles$,routes:this.routes$,authorizations:this.authorizations$,role:t??null}}openCreateOrEditRoleModal(t){this.mService.open(y,{data:{DATAS:this.generateSelectedRole(t),IS_CREATE_OR_UPDATE:!0}}).subscribe(s=>{if(s){if(1==s.created)return this.GetRoles(),this.snackbar.show({msg:"Sauvegard\xe9 avec succ\xe8s",color:"success",duration:3e3});if(1==s.updated)return this.GetRoles(),this.snackbar.show({msg:"Modifi\xe9 avec succ\xe8s",color:"success",duration:3e3})}})}openDeleteRoleModal(t){this.mService.open(y,{data:{SELECTED_ROLE:t,IS_DELETE_MODE:!0}}).subscribe(s=>{if(s&&1==s.deleted)return this.GetRoles(),this.snackbar.show({msg:"Supprim\xe9 avec succ\xe8s!",color:"success",duration:3e3})})}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(R.i),e.rXU(C.G),e.rXU(L.z),e.rXU(b.B),e.rXU(S.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-roles-view"]],standalone:!1,decls:13,vars:3,consts:[[2,"display","flex","align-items","center","justify-content","space-between","margin","15px 10px 5px 10px"],["style","width: auto; float: right; background: green; color: aliceblue; font-weight: bold; font-size: 14px;","type","button","class","btn",3,"click",4,"ngIf"],[1,"table","table-white"],["scope","col"],["colspan","2","scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button",1,"btn",2,"width","auto","float","right","background","green","color","aliceblue","font-weight","bold","font-size","14px",3,"click"],[1,"fa","fa-add",2,"font-size","15px"],["colspan","2","scope","col"],["scope","row"],[4,"ngIf"],[3,"class","click",4,"ngIf"],[3,"click"]],template:function(s,i){1&s&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Roles d'acc\xe8s"),e.k0s(),e.DNE(3,pe,3,0,"button",1),e.k0s(),e.j41(4,"table",2)(5,"thead")(6,"tr")(7,"th",3),e.EFF(8,"id"),e.k0s(),e.j41(9,"th",3),e.EFF(10,"Name"),e.k0s(),e.DNE(11,me,2,0,"th",4),e.k0s()(),e.DNE(12,Ee,7,6,"tbody",5),e.k0s()),2&s&&(e.R7$(3),e.Y8G("ngIf",1==(null==i.USER||null==i.USER.role?null:i.USER.role.canCreateRole)),e.R7$(8),e.Y8G("ngIf",1==(null==i.USER||null==i.USER.role?null:i.USER.role.canUpdateRole)||1==(null==i.USER||null==i.USER.role?null:i.USER.role.canDeleteRole)),e.R7$(),e.Y8G("ngForOf",i.roles$))},dependencies:[_.G,_.I],encapsulation:2})}}return o})();function Se(o,r){1&o&&(e.j41(0,"button",6),e.EFF(1,"UTILISATEURS"),e.k0s())}function Ue(o,r){1&o&&(e.j41(0,"button",7),e.EFF(1,"ROLES D'ACCES"),e.k0s())}function Ce(o,r){if(1&o&&(e.j41(0,"div",8)(1,"h2"),e.EFF(2,"\u{1f4c8} Utilisateurs de l'application"),e.k0s(),e.nrm(3,"app-users-view",9),e.k0s()),2&o){const t=e.XpG();e.R7$(3),e.Y8G("CHANGE_STATE",t.CHANGE_STATE)}}function be(o,r){if(1&o&&(e.j41(0,"div",10)(1,"h2"),e.EFF(2,"\u{1f4ca} Roles des utilisateurs"),e.k0s(),e.nrm(3,"app-roles-view",9),e.k0s()),2&o){const t=e.XpG();e.R7$(3),e.Y8G("CHANGE_STATE",t.CHANGE_STATE)}}const Te=[{path:"",component:(()=>{class o{constructor(t,s){this.userCtx=t,this.cst=s,this.CHANGE_STATE=null,this.APP_LOGO="",this.initializeComponent()}initializeComponent(){var t=this;return(0,g.A)(function*(){t.APP_LOGO=t.cst.APP_LOGO,t.USER=yield t.userCtx.currentUser(),(0,k.Ey)()})()}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(R.i),e.rXU(S.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["dashboards-view"]],standalone:!1,decls:6,vars:4,consts:[[1,"nav-tabs"],["class","tab-link active","data-target","USERS",4,"ngIf"],["class","tab-link","data-target","ROLES",4,"ngIf"],[1,"tab-content"],["id","USERS","class","view active",4,"ngIf"],["id","ROLES","class","view",4,"ngIf"],["data-target","USERS",1,"tab-link","active"],["data-target","ROLES",1,"tab-link"],["id","USERS",1,"view","active"],[3,"CHANGE_STATE"],["id","ROLES",1,"view"]],template:function(s,i){1&s&&(e.j41(0,"div",0),e.DNE(1,Se,2,0,"button",1)(2,Ue,2,0,"button",2),e.k0s(),e.j41(3,"div",3),e.DNE(4,Ce,4,1,"div",4)(5,be,4,1,"div",5),e.k0s()),2&s&&(e.R7$(),e.Y8G("ngIf",1==(null==i.USER||null==i.USER.role?null:i.USER.role.canViewUsers)),e.R7$(),e.Y8G("ngIf",1==(null==i.USER||null==i.USER.role?null:i.USER.role.canViewRoles)),e.R7$(2),e.Y8G("ngIf",1==(null==i.USER||null==i.USER.role?null:i.USER.role.canViewUsers)),e.R7$(),e.Y8G("ngIf",1==(null==i.USER||null==i.USER.role?null:i.USER.role.canViewRoles)))},dependencies:[_.I,ne,Re],encapsulation:2})}}return o})(),canActivate:[a(3111).d],data:{href:"users",title:"USERS-ROLES",access:["can_view_users"]}}];let Oe=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[p.m.forChild(Te),p.m]})}}return o})();var De=a(3887),je=a(3268);let we=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[_.D,l.X1,Oe,De.G,je.o]})}}return o})()}}]);