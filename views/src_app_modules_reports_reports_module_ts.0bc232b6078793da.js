"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([["src_app_modules_reports_reports_module_ts"],{9757:(_e,$,c)=>{c.r($),c.d($,{ReportsModule:()=>se});var d=c(6610),h=c(7222),j=c(1402),l=c(3308),a=c(3681),t=c(3279),R=c(3366),E=c(7200),p=c(4451),u=c(4796),m=c(2365);function y(o,i){if(1&o&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function D(o,i){if(1&o){const e=t.RV6();t.j41(0,"select",17),t.bIt("change",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.regionsGenerate())}),t.DNE(1,y,2,2,"option",18),t.k0s()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.countries)}}function I(o,i){if(1&o&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function P(o,i){if(1&o){const e=t.RV6();t.j41(0,"select",20),t.bIt("change",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.prefecturesGenerate())}),t.DNE(1,I,2,2,"option",18),t.k0s()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.regions)}}function v(o,i){if(1&o&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function N(o,i){if(1&o){const e=t.RV6();t.j41(0,"select",21),t.bIt("change",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.communesGenerate())}),t.DNE(1,v,2,2,"option",18),t.k0s()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.prefectures)}}function S(o,i){if(1&o&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function H(o,i){if(1&o){const e=t.RV6();t.j41(0,"select",22),t.bIt("change",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.hospitalsGenerate())}),t.DNE(1,S,2,2,"option",18),t.k0s()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.communes)}}function G(o,i){if(1&o&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function J(o,i){if(1&o){const e=t.RV6();t.j41(0,"select",23),t.bIt("change",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.districtsGenerate())}),t.DNE(1,G,2,2,"option",18),t.k0s()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.hospitals)}}function M(o,i){if(1&o&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function w(o,i){if(1&o){const e=t.RV6();t.j41(0,"select",24),t.bIt("change",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.recosGenerate())}),t.DNE(1,M,2,2,"option",18),t.k0s()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.districtQuartiers)}}function L(o,i){if(1&o&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function V(o,i){if(1&o&&(t.j41(0,"select",25),t.DNE(1,L,2,2,"option",18),t.k0s()),2&o){const e=t.XpG();t.FS9("multiple",e.recos.length>1?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.recos)}}function Y(o,i){if(1&o&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function U(o,i){if(1&o&&(t.qex(0),t.DNE(1,Y,2,2,"option",18),t.bVm()),2&o){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.Years$)}}function W(o,i){if(1&o&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&o){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.labelFR," ")}}function B(o,i){if(1&o&&(t.qex(0),t.DNE(1,W,2,2,"option",18),t.bVm()),2&o){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.Months$)}}function X(o,i){1&o&&t.nrm(0,"span",26)}let F=(()=>{class o{constructor(e){this.userCtx=e,this.ON_SHOW_DATA=new t.bkB,this.Months$=[],this.Years$=[],this.Countries$=[],this.Regions$=[],this.Prefectures$=[],this.Communes$=[],this.Hospitals$=[],this.DistrictQuartiers$=[],this.VillageSecteurs$=[],this.Chws$=[],this.Recos$=[],this.countries=[],this.regions=[],this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.villageSecteurs=[],this.chws=[],this.recos=[],this.getCurrentUserCtx()}ngAfterViewInit(){setTimeout(()=>{this.countriesGenerate(),this.regionsGenerate(),this.prefecturesGenerate(),this.communesGenerate(),this.hospitalsGenerate(),this.districtsGenerate(),this.recosGenerate()})}ngOnInit(){this.year$=(0,a.vW)(),this.month$=(0,a.Ej)(),this.Months$=(0,a.kT)().filter(e=>this.month$&&e.uid<=this.month$.uid),this.Years$=(0,a.DE)().filter(e=>this.year$&&e<=this.year$),this._formGroup=this.CreateFormGroup()}getCurrentUserCtx(){const e=this.userCtx.currentUserCtx;this.Countries$.length>0||(this.Countries$=e?.countries??[]),this.Regions$.length>0||(this.Regions$=e?.regions??[]),this.Prefectures$.length>0||(this.Prefectures$=e?.prefectures??[]),this.Communes$.length>0||(this.Communes$=e?.communes??[]),this.Hospitals$.length>0||(this.Hospitals$=e?.hospitals??[]),this.DistrictQuartiers$.length>0||(this.DistrictQuartiers$=e?.districtQuartiers??[]),this.VillageSecteurs$.length>0||(this.VillageSecteurs$=e?.villageSecteurs??[]),this.Chws$.length>0||(this.Chws$=e?.chws??[]),this.Recos$.length>0||(this.Recos$=e?.recos??[])}CreateFormGroup(){const e={year:new h.MJ(this.year$,[h.k0.required]),months:new h.MJ(this.month$.id,[h.k0.required])};return this.Countries$.length>1&&(e.country=new h.MJ("",[h.k0.required])),this.Regions$.length>1&&(e.region=new h.MJ("",[h.k0.required])),this.Prefectures$.length>1&&(e.prefecture=new h.MJ("",[h.k0.required])),this.Communes$.length>1&&(e.commune=new h.MJ("",[h.k0.required])),this.Hospitals$.length>1&&(e.hospital=new h.MJ("",[h.k0.required])),this.DistrictQuartiers$.length>1&&(e.district_quartier=new h.MJ("",[h.k0.required])),this.Recos$.length>1&&(e.recos=new h.MJ("",[h.k0.required])),new h.gE(e)}countriesGenerate(){this.setOrgUnitsValues({country:!0,region:!0,prefecture:!0,commune:!0,hospital:!0,district_quartier:!0,recos:!0}),this.countries=this.Countries$,1===this.countries.length&&(this._formGroup.value.country=this.countries[0].id),this.regionsGenerate()}regionsGenerate(){this.setOrgUnitsValues({region:!0,prefecture:!0,commune:!0,hospital:!0,district_quartier:!0,recos:!0}),this.Countries$.length>0?this.Regions$.length>1&&(0,a.TM)(this._formGroup.value.country)?this.regions=this.Regions$.filter(e=>e.country_id===this._formGroup.value.country):1===this.Regions$.length&&(this.regions=this.Regions$):this.Regions$.length>=1&&(this.regions=this.Regions$),1===this.regions.length&&(this._formGroup.value.region=this.regions[0].id),this.prefecturesGenerate()}prefecturesGenerate(){this.setOrgUnitsValues({prefecture:!0,commune:!0,hospital:!0,district_quartier:!0,recos:!0}),this.Regions$.length>0?this.Prefectures$.length>1&&(0,a.TM)(this._formGroup.value.region)?this.prefectures=this.Prefectures$.filter(e=>e.region_id===this._formGroup.value.region):1===this.Prefectures$.length&&(this.prefectures=this.Prefectures$):this.Prefectures$.length>=1&&(this.prefectures=this.Prefectures$),1===this.prefectures.length&&(this._formGroup.value.prefecture=this.prefectures[0].id),this.communesGenerate()}communesGenerate(){this.setOrgUnitsValues({commune:!0,hospital:!0,district_quartier:!0,recos:!0}),this.Prefectures$.length>0?this.Communes$.length>1&&(0,a.TM)(this._formGroup.value.prefecture)?this.communes=this.Communes$.filter(e=>e.prefecture_id===this._formGroup.value.prefecture):1===this.Communes$.length&&(this.communes=this.Communes$):this.Communes$.length>=1&&(this.communes=this.Communes$),1===this.communes.length&&(this._formGroup.value.commune=this.communes[0].id),this.hospitalsGenerate()}hospitalsGenerate(){this.setOrgUnitsValues({hospital:!0,district_quartier:!0,recos:!0}),this.Communes$.length>0?this.Hospitals$.length>1&&(0,a.TM)(this._formGroup.value.commune)?this.hospitals=this.Hospitals$.filter(e=>e.commune_id===this._formGroup.value.commune):1===this.Hospitals$.length&&(this.hospitals=this.Hospitals$):this.Hospitals$.length>=1&&(this.hospitals=this.Hospitals$),1===this.hospitals.length&&(this._formGroup.value.hospital=this.hospitals[0].id),this.districtsGenerate()}districtsGenerate(){this.setOrgUnitsValues({district_quartier:!0,recos:!0}),this.Hospitals$.length>0?this.DistrictQuartiers$.length>1&&(0,a.TM)(this._formGroup.value.hospital)?this.districtQuartiers=this.DistrictQuartiers$.filter(e=>e.hospital_id===this._formGroup.value.hospital):1===this.DistrictQuartiers$.length&&(this.districtQuartiers=this.DistrictQuartiers$):this.DistrictQuartiers$.length>=1&&(this.districtQuartiers=this.DistrictQuartiers$),1===this.districtQuartiers.length&&(this._formGroup.value.district_quartier=this.districtQuartiers[0].id),this.recosGenerate()}recosGenerate(){this.setOrgUnitsValues({recos:!0}),this.DistrictQuartiers$.length>0?this.Recos$.length>1&&(0,a.TM)(this._formGroup.value.district_quartier)?this.recos=this.Recos$.filter(e=>e.district_quartier_id===this._formGroup.value.district_quartier):1===this.Recos$.length&&(this.recos=this.Recos$):this.Recos$.length>=1&&(this.recos=this.Recos$),1===this.recos.length&&(this._formGroup.value.recos=[this.recos[0].id])}setOrgUnitsValues(e){!0===e.country&&(this.countries=[],this._formGroup.value.country=""),!0===e.region&&(this.regions=[],this._formGroup.value.region=""),!0===e.prefecture&&(this.prefectures=[],this._formGroup.value.prefecture=""),!0===e.commune&&(this.communes=[],this._formGroup.value.commune=""),!0===e.hospital&&(this.hospitals=[],this._formGroup.value.hospital=""),!0===e.district_quartier&&(this.districtQuartiers=[],this._formGroup.value.district_quartier=""),!0===e.recos&&(this.recos=[],this._formGroup.value.recos=[])}SHOW_DATA(e){e.preventDefault(),this.ON_SHOW_DATA&&this.ON_SHOW_DATA.emit(this._formGroup)}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(p.i))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["repports-orgunit-selector"]],inputs:{ON_FETCHING:"ON_FETCHING"},outputs:{ON_SHOW_DATA:"ON_SHOW_DATA"},decls:20,vars:12,consts:[[1,"load-data"],[1,"rounded","p-6"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-6"],["class","orgunit-style mb-1","formControlName","country",3,"change",4,"ngIf"],["class","orgunit-style mb-1","formControlName","region",3,"change",4,"ngIf"],["class","orgunit-style mb-1","formControlName","prefecture",3,"change",4,"ngIf"],["class","orgunit-style mb-1","formControlName","commune",3,"change",4,"ngIf"],["class","orgunit-style mb-1","formControlName","hospital",3,"change",4,"ngIf"],["class","orgunit-style mb-1","formControlName","district_quartier",3,"change",4,"ngIf"],["class","orgunit-style mb-1","formControlName","recos",3,"multiple",4,"ngIf"],["formControlName","year",1,"orgunit-style","mb-1"],[4,"ngIf"],["formControlName","months",1,"orgunit-style","mb-1"],[1,"submitBtn","btn","btn-info",3,"disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],["formControlName","country",1,"orgunit-style","mb-1",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","region",1,"orgunit-style","mb-1",3,"change"],["formControlName","prefecture",1,"orgunit-style","mb-1",3,"change"],["formControlName","commune",1,"orgunit-style","mb-1",3,"change"],["formControlName","hospital",1,"orgunit-style","mb-1",3,"change"],["formControlName","district_quartier",1,"orgunit-style","mb-1",3,"change"],["formControlName","recos",1,"orgunit-style","mb-1",3,"multiple"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"form",2),t.bIt("ngSubmit",function(_){return r.SHOW_DATA(_)}),t.j41(3,"div",3)(4,"div",4),t.DNE(5,D,2,1,"select",5)(6,P,2,1,"select",6)(7,N,2,1,"select",7)(8,H,2,1,"select",8)(9,J,2,1,"select",9)(10,w,2,1,"select",10),t.k0s(),t.j41(11,"div",4),t.DNE(12,V,2,2,"select",11),t.j41(13,"select",12),t.DNE(14,U,2,1,"ng-container",13),t.k0s(),t.j41(15,"select",14),t.DNE(16,B,2,1,"ng-container",13),t.k0s(),t.j41(17,"button",15),t.EFF(18," Charger "),t.DNE(19,X,1,0,"span",16),t.k0s()()()()()()),2&n&&(t.R7$(2),t.Y8G("formGroup",r._formGroup),t.R7$(3),t.Y8G("ngIf",r.Countries$.length>1&&0===r.countries.length||r.countries.length>1),t.R7$(),t.Y8G("ngIf",r.Regions$.length>1&&0===r.regions.length||r.regions.length>1),t.R7$(),t.Y8G("ngIf",r.Prefectures$.length>1&&0===r.prefectures.length||r.prefectures.length>1),t.R7$(),t.Y8G("ngIf",r.Communes$.length>1&&0===r.communes.length||r.communes.length>1),t.R7$(),t.Y8G("ngIf",r.Hospitals$.length>1&&0===r.hospitals.length||r.hospitals.length>1),t.R7$(),t.Y8G("ngIf",r.DistrictQuartiers$.length>1&&0===r.districtQuartiers.length||r.districtQuartiers.length>1),t.R7$(2),t.Y8G("ngIf",r.Recos$.length>1&&0===r.recos.length||r.recos.length>1),t.R7$(2),t.Y8G("ngIf",r.Years$.length>0),t.R7$(2),t.Y8G("ngIf",r.Months$.length>0),t.R7$(),t.Y8G("disabled",r.ON_FETCHING),t.R7$(2),t.Y8G("ngIf",r.ON_FETCHING))},dependencies:[d.Sq,d.bT,h.qT,h.xH,h.y7,h.wz,h.W0,h.BC,h.cb,h.j4,h.JD],styles:[".validate-data[_ngcontent-%COMP%]{width:350px!important;margin:0!important;display:inline-flex!important}.validate-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 3px!important}"]})}return o})();function x(o,i){if(1&o&&(t.j41(0,"p",2)(1,"strong"),t.EFF(2),t.k0s()()),2&o){const e=t.XpG().ngIf;t.R7$(2),t.JRh(e.LOGO_TITLE1)}}function z(o,i){if(1&o&&(t.j41(0,"p",2)(1,"strong"),t.EFF(2),t.k0s()()),2&o){const e=t.XpG().ngIf;t.R7$(2),t.JRh(e.LOGO_TITLE2)}}function Q(o,i){if(1&o&&(t.j41(0,"p",2)(1,"strong"),t.EFF(2),t.k0s()()),2&o){const e=t.XpG().ngIf;t.R7$(2),t.JRh(e.LOGO_TITLE3)}}function q(o,i){if(1&o&&(t.j41(0,"p",8),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(),t.JRh(e.REPPORT_TITLE)}}function K(o,i){if(1&o&&(t.j41(0,"p",8),t.EFF(1),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(),t.JRh(e.REPPORT_SUBTITLE)}}function Z(o,i){if(1&o&&(t.j41(0,"p",9),t.EFF(1," IRS/DRS DE: "),t.nrm(2,"b",10),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(2),t.Y8G("innerHTML",e.REGION_NAME,t.npT)}}function tt(o,i){if(1&o&&(t.j41(0,"p",9),t.EFF(1," DPS/DCS DE: "),t.nrm(2,"b",10),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(2),t.Y8G("innerHTML",e.PREFECTURE_NAME,t.npT)}}function et(o,i){if(1&o&&(t.j41(0,"p",9),t.EFF(1," COMMUNE DE: "),t.nrm(2,"b",10),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(2),t.Y8G("innerHTML",e.COMMUNE_NAME,t.npT)}}function nt(o,i){if(1&o&&(t.j41(0,"p",9),t.EFF(1," CENTRE DE SANTE: "),t.nrm(2,"b",10),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(2),t.Y8G("innerHTML",e.HEALTH_CENTER_NAME,t.npT)}}function ot(o,i){if(1&o&&(t.j41(0,"p",9),t.EFF(1," DISTRICT/QUARTIER: "),t.nrm(2,"b",10),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(2),t.Y8G("innerHTML",e.DISTRICT_QUARTIER_NAME,t.npT)}}function rt(o,i){if(1&o&&(t.j41(0,"p",9),t.EFF(1," VILLAGE/SECTEUR: "),t.nrm(2,"b",10),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(2),t.Y8G("innerHTML",e.VILLAGE_SECTEUR_NAME,t.npT)}}function it(o,i){if(1&o&&(t.j41(0,"p",9),t.EFF(1," NOM CHEF VILLAGE: "),t.nrm(2,"b",10),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(2),t.Y8G("innerHTML",e.VILLAGE_CHIEF_NAME,t.npT)}}function st(o,i){if(1&o&&(t.j41(0,"p",9),t.EFF(1," CONTACT CHEF VILLAGE: "),t.nrm(2,"b",10),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(2),t.Y8G("innerHTML",e.VILLAGE_CHIEF_CONTACT,t.npT)}}function _t(o,i){if(1&o&&(t.j41(0,"p",9),t.EFF(1),t.nrm(2,"b",10),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(),t.SpI(" NOM DU ",e.RECO_ASC_TYPE," "),t.R7$(),t.Y8G("innerHTML",e.RECO_ASC_NAME,t.npT)}}function at(o,i){if(1&o&&(t.j41(0,"p",9),t.EFF(1," MOIS/ANNEE: "),t.nrm(2,"b",10),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(2),t.Y8G("innerHTML",e.MONTH+" / "+e.YEAR,t.npT)}}function ht(o,i){if(1&o&&(t.j41(0,"p",9),t.EFF(1," TEL: "),t.nrm(2,"b",10),t.k0s()),2&o){const e=t.XpG().ngIf;t.R7$(2),t.Y8G("innerHTML",e.RECO_ASC_PHONE,t.npT)}}function ct(o,i){1&o&&t.nrm(0,"span",15)}function dt(o,i){1&o&&t.nrm(0,"span",15)}function lt(o,i){if(1&o){const e=t.RV6();t.j41(0,"button",12),t.bIt("click",function(r){t.eBV(e);const s=t.XpG(3);return t.Njj(s.sendDataToDhis2(r))}),t.EFF(1),t.DNE(2,dt,1,0,"span",13),t.k0s()}if(2&o){const e=t.XpG(2).ngIf;t.ZvI("submitBtn ",e.IS_ALREADY_ON_DHIS2?"btn btn-info":"btn-warning",""),t.Y8G("disabled",e.ON_DHIS2_SENDING||e.IS_ALREADY_ON_DHIS2),t.R7$(),t.SpI(" ",e.IS_ALREADY_ON_DHIS2?"Modifier sur DHIS2":"Envoyer au DHIS2"," "),t.R7$(),t.Y8G("ngIf",e.ON_DHIS2_SENDING)}}function pt(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",11)(1,"button",12),t.bIt("click",function(r){t.eBV(e);const s=t.XpG(2);return t.Njj(s.validateData(r))}),t.EFF(2),t.DNE(3,ct,1,0,"span",13),t.k0s(),t.DNE(4,lt,3,6,"button",14),t.k0s()}if(2&o){const e=t.XpG().ngIf;t.R7$(),t.ZvI("submitBtn ",e.IS_VALIDATED?"btn btn-success":"btn-warning",""),t.Y8G("disabled",e.IS_VALIDATED),t.R7$(),t.SpI(" ",e.IS_VALIDATED?"Rapport deja valid\xe9":"Valider ce rapport"," "),t.R7$(),t.Y8G("ngIf",e.ON_VALIDATION),t.R7$(),t.Y8G("ngIf",e.IS_VALIDATED)}}function Rt(o,i){if(1&o&&(t.j41(0,"div",1)(1,"p",2),t.nrm(2,"img",3),t.k0s(),t.DNE(3,x,3,1,"p",4)(4,z,3,1,"p",4)(5,Q,3,1,"p",4)(6,q,2,1,"p",5)(7,K,2,1,"p",5)(8,Z,3,1,"p",6)(9,tt,3,1,"p",6)(10,et,3,1,"p",6)(11,nt,3,1,"p",6)(12,ot,3,1,"p",6)(13,rt,3,1,"p",6)(14,it,3,1,"p",6)(15,st,3,1,"p",6)(16,_t,3,2,"p",6)(17,at,3,1,"p",6)(18,ht,3,1,"p",6),t.nrm(19,"br"),t.DNE(20,pt,5,7,"div",7),t.k0s()),2&o){const e=i.ngIf;t.R7$(3),t.Y8G("ngIf",e.LOGO_TITLE1),t.R7$(),t.Y8G("ngIf",e.LOGO_TITLE2),t.R7$(),t.Y8G("ngIf",e.LOGO_TITLE3),t.R7$(),t.Y8G("ngIf",e.REPPORT_TITLE),t.R7$(),t.Y8G("ngIf",e.REPPORT_SUBTITLE),t.R7$(),t.Y8G("ngIf",e.CAN_VISIBLE&&e.REGION_NAME),t.R7$(),t.Y8G("ngIf",e.CAN_VISIBLE&&e.PREFECTURE_NAME),t.R7$(),t.Y8G("ngIf",e.CAN_VISIBLE&&e.COMMUNE_NAME),t.R7$(),t.Y8G("ngIf",e.CAN_VISIBLE&&e.HEALTH_CENTER_NAME),t.R7$(),t.Y8G("ngIf",e.CAN_VISIBLE&&e.DISTRICT_QUARTIER_NAME),t.R7$(),t.Y8G("ngIf",e.CAN_VISIBLE&&e.VILLAGE_SECTEUR_NAME),t.R7$(),t.Y8G("ngIf",e.CAN_VISIBLE&&e.VILLAGE_CHIEF_NAME),t.R7$(),t.Y8G("ngIf",e.CAN_VISIBLE&&e.VILLAGE_CHIEF_CONTACT),t.R7$(),t.Y8G("ngIf",e.CAN_VISIBLE&&e.RECO_ASC_TYPE&&e.RECO_ASC_NAME),t.R7$(),t.Y8G("ngIf",e.CAN_VISIBLE&&e.MONTH&&e.YEAR),t.R7$(),t.Y8G("ngIf",e.CAN_VISIBLE&&e.RECO_ASC_PHONE),t.R7$(2),t.Y8G("ngIf",e.CAN_VISIBLE)}}let f=(()=>{class o{constructor(){this.onValidateData=new t.bkB,this.onSendDataToDhis2=new t.bkB,this.WHITE_SPACE="&nbsp;".repeat(5)}validateData(e){var n=this;return(0,l.A)(function*(){e.preventDefault(),n.onValidateData&&n.onValidateData.emit()})()}sendDataToDhis2(e){var n=this;return(0,l.A)(function*(){e.preventDefault(),n.onSendDataToDhis2&&n.onSendDataToDhis2.emit()})()}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["repports-header-selector"]],inputs:{REPPORTS_HEADER:"REPPORTS_HEADER"},outputs:{onValidateData:"onValidateData",onSendDataToDhis2:"onSendDataToDhis2"},decls:1,vars:1,consts:[["style","margin: 0px!important; padding: 0px!important;","class","row",4,"ngIf"],[1,"row",2,"margin","0px!important","padding","0px!important"],[1,"col-12"],["src","assets/logo/guinee.png","alt","GUINEE LOGO",1,"repport-logo"],["class","col-12",4,"ngIf"],["class","repport-title",4,"ngIf"],["class","col-4",4,"ngIf"],["style","text-align: left!important;width: 100%!important;","class","validate-data col-12",4,"ngIf"],[1,"repport-title"],[1,"col-4"],[3,"innerHTML"],[1,"validate-data","col-12",2,"text-align","left!important","width","100%!important"],[2,"width","auto",3,"click","disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],["style","width: auto;",3,"disabled","class","click",4,"ngIf"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"]],template:function(n,r){1&n&&t.DNE(0,Rt,21,17,"div",0),2&n&&t.Y8G("ngIf",r.REPPORTS_HEADER)},dependencies:[d.bT],styles:[".validate-data[_ngcontent-%COMP%]{width:350px!important;margin:0!important;display:inline-flex!important}.validate-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 3px!important}"]})}return o})();function Et(o,i){1&o&&(t.j41(0,"tr",12)(1,"th",13),t.EFF(2,"Section"),t.k0s(),t.j41(3,"th",14),t.EFF(4,"\xc9l\xe9ments de donn\xe9es"),t.k0s(),t.j41(5,"th",15),t.EFF(6,"Nombre"),t.k0s()())}function ut(o,i){if(1&o&&(t.j41(0,"th",19),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2).ngIf;t.Y8G("rowSpan",e.reco_monitoring.data.length),t.R7$(),t.SpI(" ",e.reco_monitoring.group," ")}}function mt(o,i){if(1&o&&(t.j41(0,"tr"),t.DNE(1,ut,2,2,"th",21),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s()()),2&o){const e=i.$implicit,n=i.index;t.R7$(),t.Y8G("ngIf",0==n),t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(e.de_number)}}function Ft(o,i){if(1&o&&(t.j41(0,"th",19),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2).ngIf;t.Y8G("rowSpan",e.demography.data.length),t.R7$(),t.SpI(" ",e.demography.group," ")}}function ft(o,i){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Ft,2,2,"th",21),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s()()),2&o){const e=i.$implicit,n=i.index;t.R7$(),t.Y8G("ngIf",0==n),t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(e.de_number)}}function bt(o,i){if(1&o&&(t.j41(0,"th",19),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2).ngIf;t.Y8G("rowSpan",e.child_health_0_59_months.data.length),t.R7$(),t.SpI(" ",e.child_health_0_59_months.group," ")}}function gt(o,i){if(1&o&&(t.j41(0,"tr"),t.DNE(1,bt,2,2,"th",21),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s()()),2&o){const e=i.$implicit,n=i.index;t.R7$(),t.Y8G("ngIf",0==n),t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(e.de_number)}}function Tt(o,i){if(1&o&&(t.j41(0,"th",19),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2).ngIf;t.Y8G("rowSpan",e.mother_health.data.length),t.R7$(),t.SpI(" ",e.mother_health.group," ")}}function kt(o,i){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Tt,2,2,"th",21),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s()()),2&o){const e=i.$implicit,n=i.index;t.R7$(),t.Y8G("ngIf",0==n),t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(e.de_number)}}function Ot(o,i){if(1&o&&(t.j41(0,"th",19),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2).ngIf;t.Y8G("rowSpan",e.pcimne_activity.data.length),t.R7$(),t.SpI(" ",e.pcimne_activity.group," ")}}function $t(o,i){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Ot,2,2,"th",21),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s()()),2&o){const e=i.$implicit,n=i.index;t.R7$(),t.Y8G("ngIf",0==n),t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(e.de_number)}}function jt(o,i){if(1&o&&(t.j41(0,"th",19),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2).ngIf;t.Y8G("rowSpan",e.morbidity_activities.data.length),t.R7$(),t.SpI(" ",e.morbidity_activities.group," ")}}function At(o,i){if(1&o&&(t.j41(0,"tr"),t.DNE(1,jt,2,2,"th",21),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s()()),2&o){const e=i.$implicit,n=i.index;t.R7$(),t.Y8G("ngIf",0==n),t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(e.de_number)}}function Ct(o,i){if(1&o&&(t.j41(0,"th",19),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2).ngIf;t.Y8G("rowSpan",e.malaria_more_5_years.data.length),t.R7$(),t.SpI(" ",e.malaria_more_5_years.group," ")}}function yt(o,i){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Ct,2,2,"th",21),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s()()),2&o){const e=i.$implicit,n=i.index;t.R7$(),t.Y8G("ngIf",0==n),t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(e.de_number)}}function Dt(o,i){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s()()),2&o){const e=i.$implicit;t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(e.de_number)}}function It(o,i){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s()()),2&o){const e=i.$implicit;t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(e.de_number)}}function Pt(o,i){if(1&o&&(t.j41(0,"th",19),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2).ngIf;t.Y8G("rowSpan",e.developed_areas.data.length),t.R7$(),t.SpI(" ",e.developed_areas.group," ")}}function vt(o,i){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Pt,2,2,"th",21),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s()()),2&o){const e=i.$implicit,n=i.index;t.R7$(),t.Y8G("ngIf",0==n),t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(e.de_number)}}function Nt(o,i){if(1&o&&(t.j41(0,"th",19),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2).ngIf;t.Y8G("rowSpan",e.diseases_alerts.data.length),t.R7$(),t.SpI(" ",e.diseases_alerts.group," ")}}function St(o,i){if(1&o&&(t.j41(0,"tr"),t.DNE(1,Nt,2,2,"th",21),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s()()),2&o){const e=i.$implicit,n=i.index;t.R7$(),t.Y8G("ngIf",0==n),t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(e.de_number)}}function Ht(o,i){if(1&o&&(t.j41(0,"tbody")(1,"tr",16)(2,"th"),t.EFF(3),t.k0s(),t.j41(4,"th",17),t.EFF(5),t.k0s()(),t.DNE(6,mt,6,3,"tr",18),t.j41(7,"tr",16)(8,"th"),t.EFF(9),t.k0s(),t.j41(10,"th",17),t.EFF(11),t.k0s()(),t.DNE(12,ft,6,3,"tr",18),t.j41(13,"tr",16)(14,"th"),t.EFF(15),t.k0s(),t.j41(16,"th",17),t.EFF(17),t.k0s()(),t.DNE(18,gt,6,3,"tr",18),t.j41(19,"tr",16)(20,"th"),t.EFF(21),t.k0s(),t.j41(22,"th",17),t.EFF(23),t.k0s()(),t.DNE(24,kt,6,3,"tr",18),t.j41(25,"tr",16)(26,"th"),t.EFF(27),t.k0s(),t.j41(28,"th",17),t.EFF(29),t.k0s()(),t.DNE(30,$t,6,3,"tr",18),t.j41(31,"tr",16)(32,"th"),t.EFF(33),t.k0s(),t.j41(34,"th",17),t.EFF(35),t.k0s()(),t.DNE(36,At,6,3,"tr",18),t.j41(37,"tr",16)(38,"th"),t.EFF(39),t.k0s(),t.j41(40,"th",17),t.EFF(41),t.k0s()(),t.DNE(42,yt,6,3,"tr",18),t.j41(43,"tr",16)(44,"th"),t.EFF(45),t.k0s(),t.j41(46,"th",17),t.EFF(47),t.k0s()(),t.j41(48,"tr")(49,"th",19),t.EFF(50),t.k0s(),t.j41(51,"th",20),t.EFF(52),t.k0s()(),t.DNE(53,Dt,5,2,"tr",18),t.j41(54,"tr")(55,"th",19),t.EFF(56),t.k0s(),t.j41(57,"th",20),t.EFF(58),t.k0s()(),t.DNE(59,It,5,2,"tr",18),t.j41(60,"tr",16)(61,"th"),t.EFF(62),t.k0s(),t.j41(63,"th",17),t.EFF(64),t.k0s()(),t.DNE(65,vt,6,3,"tr",18),t.j41(66,"tr",16)(67,"th"),t.EFF(68),t.k0s(),t.j41(69,"th",17),t.EFF(70),t.k0s()(),t.DNE(71,St,6,3,"tr",18),t.nrm(72,"tr"),t.k0s()),2&o){const e=i.ngIf;t.R7$(3),t.JRh(e.reco_monitoring.position),t.R7$(2),t.JRh(e.reco_monitoring.group),t.R7$(),t.Y8G("ngForOf",e.reco_monitoring.data),t.R7$(3),t.JRh(e.demography.position),t.R7$(2),t.JRh(e.demography.group),t.R7$(),t.Y8G("ngForOf",e.demography.data),t.R7$(3),t.JRh(e.child_health_0_59_months.position),t.R7$(2),t.JRh(e.child_health_0_59_months.group),t.R7$(),t.Y8G("ngForOf",e.child_health_0_59_months.data),t.R7$(3),t.JRh(e.mother_health.position),t.R7$(2),t.JRh(e.mother_health.group),t.R7$(),t.Y8G("ngForOf",e.mother_health.data),t.R7$(3),t.JRh(e.pcimne_activity.position),t.R7$(2),t.JRh(e.pcimne_activity.group),t.R7$(),t.Y8G("ngForOf",e.pcimne_activity.data),t.R7$(3),t.JRh(e.morbidity_activities.position),t.R7$(2),t.JRh(e.morbidity_activities.group),t.R7$(),t.Y8G("ngForOf",e.morbidity_activities.data),t.R7$(3),t.JRh(e.malaria_more_5_years.position),t.R7$(2),t.JRh(e.malaria_more_5_years.group),t.R7$(),t.Y8G("ngForOf",e.malaria_more_5_years.data),t.R7$(3),t.JRh(e.home_visit.position),t.R7$(2),t.JRh(e.home_visit.bigGroup),t.R7$(2),t.Y8G("rowSpan",e.home_visit.data.length+1),t.R7$(),t.SpI("",e.home_visit.group," "),t.R7$(2),t.SpI(" ",e.home_visit.group," "),t.R7$(),t.Y8G("ngForOf",e.home_visit.data),t.R7$(2),t.Y8G("rowSpan",e.educational_chat.data.length+1),t.R7$(),t.JRh(e.educational_chat.group),t.R7$(2),t.JRh(e.educational_chat.group),t.R7$(),t.Y8G("ngForOf",e.educational_chat.data),t.R7$(3),t.JRh(e.developed_areas.position),t.R7$(2),t.JRh(e.developed_areas.group),t.R7$(),t.Y8G("ngForOf",e.developed_areas.data),t.R7$(3),t.JRh(e.diseases_alerts.position),t.R7$(2),t.JRh(e.diseases_alerts.group),t.R7$(),t.Y8G("ngForOf",e.diseases_alerts.data)}}let Gt=(()=>{class o{constructor(e,n,r,s,_){this.api=e,this.ldbfetch=n,this.userCtx=r,this.auth=s,this.snackbar=_,this.REPPORTS_HEADER={LOGO_TITLE1:"R\xe9publique de Guin\xe9e",LOGO_TITLE2:"MINISTERE DE LA SANTE ET DE L\u2019HYGIENE PUBLIQUE",LOGO_TITLE3:"DIRECTION NATIONALE DE LA SANTE COMMUNAUTAIRE ET DE LA MEDECINE TRADITIONNELLE",REPPORT_TITLE:"RAPPORT D'ACTIVITES MENSUEL",REPPORT_SUBTITLE:void 0,HEALTH_CENTER_NAME:void 0,RECO_ASC_PHONE:void 0},this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4}onResize(e){this.screenWidth=window.innerWidth}validateData(){var e=this;this.REPPORTS_HEADER.ON_VALIDATION=!0,this.api.ValidateChwsRecoReports(this._formGroup.value).subscribe(function(){var n=(0,l.A)(function*(r){200==r.status&&(e.SHOW_DATA(e._formGroup),e.snackbar.show("Validate successfuly",{backgroundColor:"success",position:"TOP"})),e.REPPORTS_HEADER.ON_VALIDATION=!1});return function(r){return n.apply(this,arguments)}}(),n=>{this.REPPORTS_HEADER.ON_VALIDATION=!1})}SHOW_DATA(e){this._formGroup=e,this._formGroup.value.recos.length>0?(0,a.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.REPPORTS_HEADER.ON_FETCHING=!0,this._formGroup.value.months=(0,a.$r)(this._formGroup.value.months),this.ldbfetch.GetChwsRecoReports(this._formGroup.value).then(n=>{this.REPPORTS_HEADER.REGION_NAME=n?.region.name,this.REPPORTS_HEADER.RECO_ASC_TYPE=n?.reco_asc_type,this.REPPORTS_HEADER.RECO_ASC_NAME="RECO"===n?.reco_asc_type?n?.reco?.name:n?.chw.name,this.REPPORTS_HEADER.RECO_ASC_PHONE="RECO"===n?.reco_asc_type?n?.reco?.phone:n?.chw.phone,this.REPPORTS_HEADER.PREFECTURE_NAME=n?.prefecture.name,this.REPPORTS_HEADER.COMMUNE_NAME=n?.commune.name,this.REPPORTS_HEADER.HEALTH_CENTER_NAME=n?.hospital.name,this.REPPORTS_HEADER.MONTH=(0,a.$r)(this._formGroup.value.months).map(r=>(0,a.Ab)(r).labelFR).join(", "),this.REPPORTS_HEADER.YEAR=this._formGroup.value.year,this.REPPORTS_HEADER.CAN_VISIBLE=!0===(n?.data&&this._formGroup.value.recos.length>0),this.REPPORTS_HEADER.IS_VALIDATED=!0===n?.is_validate,this.REPPORTS_HEADER.IS_ALREADY_ON_DHIS2=!0===n?.already_on_dhis2,this.MONTHLY_ACTIVITY$=n?.data,n||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.REPPORTS_HEADER.ON_FETCHING=!1},n=>{this.REPPORTS_HEADER.ON_FETCHING=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}sendDataToDhis2(){if(this.REPPORTS_HEADER.ON_DHIS2_SENDING=!0,this.MONTHLY_ACTIVITY$){const e=this._formGroup.value.months,n={year:this._formGroup.value.year,month:Array.isArray(e)?e[0]:e};this.dataTransformToDhis2(this.MONTHLY_ACTIVITY$,n)}else this.snackbar.show("Invalid Data",{backgroundColor:"warning",position:"TOP"})}dataTransformToDhis2(e,n){return{dataValues:[{dataElement:"reLr94WLodi",period:n?`${n.year}${n.month}`:`${e.year}${e.month}`,orgUnit:e.orgUnit??"erdjSX8MtGO",categoryOptionCombo:"mkALVXEOmPV",value:0}]}}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(R.G),t.rXU(E.F),t.rXU(p.i),t.rXU(u.u),t.rXU(m.z))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["chws-reco"]],hostBindings:function(n,r){1&n&&t.bIt("resize",function(_){return r.onResize(_)},!1,t.tSv)},decls:12,vars:7,consts:[[1,"report-style","row","g-4"],[1,"col-sm-12"],[1,"bg-white","rounded","h-100","p-0"],[3,"ON_SHOW_DATA","id","_formGroup","ON_FETCHING"],[1,"table-responsive"],[1,"table","table-bordered","table-hover"],[1,"no-border","center"],[1,"no-border","org-units","center"],["colspan","4",1,"no-border","org-units","center"],[3,"onValidateData","onSendToDhis2","id","REPPORTS_HEADER"],["class","table-head",4,"ngIf"],[4,"ngIf"],[1,"table-head"],["scope","col",2,"width","15%"],["scope","col",2,"width","60%"],["scope","col",2,"width","13%"],[1,"row-group"],["colspan","3"],[4,"ngFor","ngForOf"],["scope","row",1,"row-first-column",3,"rowSpan"],["colspan","3",1,"row-first-column"],["class","row-first-column","scope","row",3,"rowSpan",4,"ngIf"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"repports-orgunit-selector",3),t.bIt("ON_SHOW_DATA",function(_){return r.SHOW_DATA(_)}),t.k0s(),t.j41(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr",7)(8,"td",8)(9,"repports-header-selector",9),t.bIt("onValidateData",function(){return r.validateData()})("onSendToDhis2",function(){return r.sendDataToDhis2()}),t.k0s()()(),t.DNE(10,Et,7,0,"tr",10),t.k0s(),t.DNE(11,Ht,73,37,"tbody",11),t.k0s()()()()()),2&n&&(t.R7$(3),t.Y8G("id","chws-repports-orgunit")("_formGroup",r._formGroup)("ON_FETCHING",!0===r.REPPORTS_HEADER.ON_FETCHING),t.R7$(6),t.Y8G("id","chws-repports-header")("REPPORTS_HEADER",r.REPPORTS_HEADER),t.R7$(),t.Y8G("ngIf",r.MONTHLY_ACTIVITY$),t.R7$(),t.Y8G("ngIf",r.MONTHLY_ACTIVITY$))},dependencies:[d.Sq,d.bT,F,f],styles:[".row-group[_ngcontent-%COMP%]{background-color:#d3fcfc!important}.row-group-child[_ngcontent-%COMP%]{background-color:#b7fbfb!important}.row-first-column[_ngcontent-%COMP%]{background-color:#eafcfc!important}"]})}return o})();function Jt(o,i){1&o&&(t.j41(0,"thead")(1,"tr",13)(2,"th",14),t.EFF(3,"METHODES"),t.k0s(),t.j41(4,"th",14),t.EFF(5,"Nouveaux utilisateurs"),t.k0s(),t.j41(6,"th",14),t.EFF(7,"Utilisateurs reguliers"),t.k0s(),t.j41(8,"th",14),t.EFF(9,"Total Utilisateurs"),t.k0s(),t.j41(10,"th",14),t.EFF(11,"Quantit\xe9s de produits d\xe9livr\xe9s"),t.k0s(),t.j41(12,"th",14),t.EFF(13,"Quantit\xe9 de produits en stocks"),t.k0s(),t.j41(14,"td",15)(15,"b"),t.EFF(16,"Nombre r\xe9f\xe9r\xe9"),t.k0s()()(),t.j41(17,"tr",16)(18,"th",17),t.EFF(19,"M\xe9thode PF (autre)"),t.k0s(),t.j41(20,"th",17),t.EFF(21,"Effets Secondaires"),t.k0s()()())}function Mt(o,i){if(1&o&&(t.j41(0,"tbody")(1,"tr")(2,"th",18),t.EFF(3,"Pilule - COC"),t.k0s(),t.j41(4,"th"),t.EFF(5),t.k0s(),t.j41(6,"th"),t.EFF(7),t.k0s(),t.j41(8,"th"),t.EFF(9),t.k0s(),t.j41(10,"th"),t.EFF(11),t.k0s(),t.j41(12,"th"),t.EFF(13),t.k0s(),t.j41(14,"th"),t.EFF(15),t.k0s(),t.j41(16,"th"),t.EFF(17),t.k0s()(),t.j41(18,"tr")(19,"th",18),t.EFF(20,"Pilule - COP"),t.k0s(),t.j41(21,"th"),t.EFF(22),t.k0s(),t.j41(23,"th"),t.EFF(24),t.k0s(),t.j41(25,"th"),t.EFF(26),t.k0s(),t.j41(27,"th"),t.EFF(28),t.k0s(),t.j41(29,"th"),t.EFF(30),t.k0s(),t.j41(31,"th"),t.EFF(32),t.k0s(),t.j41(33,"th"),t.EFF(34),t.k0s()(),t.j41(35,"tr")(36,"th",18),t.EFF(37,"Condoms/Preservatif"),t.k0s(),t.j41(38,"th"),t.EFF(39),t.k0s(),t.j41(40,"th"),t.EFF(41),t.k0s(),t.j41(42,"th"),t.EFF(43),t.k0s(),t.j41(44,"th"),t.EFF(45),t.k0s(),t.j41(46,"th"),t.EFF(47),t.k0s(),t.j41(48,"th"),t.EFF(49),t.k0s(),t.j41(50,"th"),t.EFF(51),t.k0s()(),t.j41(52,"tr")(53,"th",18),t.EFF(54,"D\xe9po provera -IM"),t.k0s(),t.j41(55,"th"),t.EFF(56),t.k0s(),t.j41(57,"th"),t.EFF(58),t.k0s(),t.j41(59,"th"),t.EFF(60),t.k0s(),t.j41(61,"th"),t.EFF(62),t.k0s(),t.j41(63,"th"),t.EFF(64),t.k0s(),t.j41(65,"th"),t.EFF(66),t.k0s(),t.j41(67,"th"),t.EFF(68),t.k0s()(),t.j41(69,"tr")(70,"th",18),t.EFF(71,"DMPA-SC"),t.k0s(),t.j41(72,"th"),t.EFF(73),t.k0s(),t.j41(74,"th"),t.EFF(75),t.k0s(),t.j41(76,"th"),t.EFF(77),t.k0s(),t.j41(78,"th"),t.EFF(79),t.k0s(),t.j41(80,"th"),t.EFF(81),t.k0s(),t.j41(82,"th"),t.EFF(83),t.k0s(),t.j41(84,"th"),t.EFF(85),t.k0s()(),t.j41(86,"tr")(87,"th",18),t.EFF(88,"Collier du cycle"),t.k0s(),t.j41(89,"th"),t.EFF(90),t.k0s(),t.j41(91,"th"),t.EFF(92),t.k0s(),t.j41(93,"th"),t.EFF(94),t.k0s(),t.j41(95,"th"),t.EFF(96),t.k0s(),t.j41(97,"th"),t.EFF(98),t.k0s(),t.j41(99,"th"),t.EFF(100),t.k0s(),t.j41(101,"th"),t.EFF(102),t.k0s()(),t.j41(103,"tr")(104,"th",18),t.EFF(105,"DIU"),t.k0s(),t.j41(106,"th"),t.EFF(107),t.k0s(),t.j41(108,"th"),t.EFF(109),t.k0s(),t.j41(110,"th"),t.EFF(111),t.k0s(),t.j41(112,"th"),t.EFF(113),t.k0s(),t.j41(114,"th"),t.EFF(115),t.k0s(),t.j41(116,"th"),t.EFF(117),t.k0s(),t.j41(118,"th"),t.EFF(119),t.k0s()(),t.j41(120,"tr")(121,"th",18),t.EFF(122,"Implant"),t.k0s(),t.j41(123,"th"),t.EFF(124),t.k0s(),t.j41(125,"th"),t.EFF(126),t.k0s(),t.j41(127,"th"),t.EFF(128),t.k0s(),t.j41(129,"th"),t.EFF(130),t.k0s(),t.j41(131,"th"),t.EFF(132),t.k0s(),t.j41(133,"th"),t.EFF(134),t.k0s(),t.j41(135,"th"),t.EFF(136),t.k0s()(),t.j41(137,"tr")(138,"th",18),t.EFF(139,"Ligature des trompes"),t.k0s(),t.j41(140,"th"),t.EFF(141),t.k0s(),t.j41(142,"th"),t.EFF(143),t.k0s(),t.j41(144,"th"),t.EFF(145),t.k0s(),t.j41(146,"th"),t.EFF(147),t.k0s(),t.j41(148,"th"),t.EFF(149),t.k0s(),t.j41(150,"th"),t.EFF(151),t.k0s(),t.j41(152,"th"),t.EFF(153),t.k0s()()()),2&o){const e=i.ngIf;t.R7$(5),t.JRh(e.pill_coc.nbr_new_user),t.R7$(2),t.JRh(e.pill_coc.nbr_regular_user),t.R7$(2),t.JRh(e.pill_coc.nbr_total_user),t.R7$(2),t.JRh(e.pill_coc.nbr_delivered),t.R7$(2),t.JRh(e.pill_coc.nbr_in_stock),t.R7$(2),t.JRh(e.pill_coc.nbr_referred),t.R7$(2),t.JRh(e.pill_coc.nbr_side_effect),t.R7$(5),t.JRh(e.pill_cop.nbr_new_user),t.R7$(2),t.JRh(e.pill_cop.nbr_regular_user),t.R7$(2),t.JRh(e.pill_cop.nbr_total_user),t.R7$(2),t.JRh(e.pill_cop.nbr_delivered),t.R7$(2),t.JRh(e.pill_cop.nbr_in_stock),t.R7$(2),t.JRh(e.pill_cop.nbr_referred),t.R7$(2),t.JRh(e.pill_cop.nbr_side_effect),t.R7$(5),t.JRh(e.condoms.nbr_new_user),t.R7$(2),t.JRh(e.condoms.nbr_regular_user),t.R7$(2),t.JRh(e.condoms.nbr_total_user),t.R7$(2),t.JRh(e.condoms.nbr_delivered),t.R7$(2),t.JRh(e.condoms.nbr_in_stock),t.R7$(2),t.JRh(e.condoms.nbr_referred),t.R7$(2),t.JRh(e.condoms.nbr_side_effect),t.R7$(5),t.JRh(e.depo_provera_im.nbr_new_user),t.R7$(2),t.JRh(e.depo_provera_im.nbr_regular_user),t.R7$(2),t.JRh(e.depo_provera_im.nbr_total_user),t.R7$(2),t.JRh(e.depo_provera_im.nbr_delivered),t.R7$(2),t.JRh(e.depo_provera_im.nbr_in_stock),t.R7$(2),t.JRh(e.depo_provera_im.nbr_referred),t.R7$(2),t.JRh(e.depo_provera_im.nbr_side_effect),t.R7$(5),t.JRh(e.dmpa_sc.nbr_new_user),t.R7$(2),t.JRh(e.dmpa_sc.nbr_regular_user),t.R7$(2),t.JRh(e.dmpa_sc.nbr_total_user),t.R7$(2),t.JRh(e.dmpa_sc.nbr_delivered),t.R7$(2),t.JRh(e.dmpa_sc.nbr_in_stock),t.R7$(2),t.JRh(e.dmpa_sc.nbr_referred),t.R7$(2),t.JRh(e.dmpa_sc.nbr_side_effect),t.R7$(5),t.JRh(e.cycle_necklace.nbr_new_user),t.R7$(2),t.JRh(e.cycle_necklace.nbr_regular_user),t.R7$(2),t.JRh(e.cycle_necklace.nbr_total_user),t.R7$(2),t.JRh(e.cycle_necklace.nbr_delivered),t.R7$(2),t.JRh(e.cycle_necklace.nbr_in_stock),t.R7$(2),t.JRh(e.cycle_necklace.nbr_referred),t.R7$(2),t.JRh(e.cycle_necklace.nbr_side_effect),t.R7$(5),t.JRh(e.diu.nbr_new_user),t.R7$(2),t.JRh(e.diu.nbr_regular_user),t.R7$(2),t.JRh(e.diu.nbr_total_user),t.R7$(2),t.JRh(e.diu.nbr_delivered),t.R7$(2),t.JRh(e.diu.nbr_in_stock),t.R7$(2),t.JRh(e.diu.nbr_referred),t.R7$(2),t.JRh(e.diu.nbr_side_effect),t.R7$(5),t.JRh(e.implant.nbr_new_user),t.R7$(2),t.JRh(e.implant.nbr_regular_user),t.R7$(2),t.JRh(e.implant.nbr_total_user),t.R7$(2),t.JRh(e.implant.nbr_delivered),t.R7$(2),t.JRh(e.implant.nbr_in_stock),t.R7$(2),t.JRh(e.implant.nbr_referred),t.R7$(2),t.JRh(e.implant.nbr_side_effect),t.R7$(5),t.JRh(e.tubal_ligation.nbr_new_user),t.R7$(2),t.JRh(e.tubal_ligation.nbr_regular_user),t.R7$(2),t.JRh(e.tubal_ligation.nbr_total_user),t.R7$(2),t.JRh(e.tubal_ligation.nbr_delivered),t.R7$(2),t.JRh(e.tubal_ligation.nbr_in_stock),t.R7$(2),t.JRh(e.tubal_ligation.nbr_referred),t.R7$(2),t.JRh(e.tubal_ligation.nbr_side_effect)}}let wt=(()=>{class o{constructor(e,n,r,s,_){this.api=e,this.ldbfetch=n,this.userCtx=r,this.auth=s,this.snackbar=_,this.REPPORTS_HEADER={LOGO_TITLE1:void 0,LOGO_TITLE2:void 0,LOGO_TITLE3:void 0,REPPORT_TITLE:"RAPPORT MENSUEL PLANIFICATION FAMILIALE COMMUNAUTAIRE",REPPORT_SUBTITLE:void 0,HEALTH_CENTER_NAME:void 0,RECO_ASC_PHONE:void 0},this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4}onResize(e){this.screenWidth=window.innerWidth}validateData(){var e=this;this.REPPORTS_HEADER.ON_VALIDATION=!0,this.api.ValidateFamilyPlanningReports(this._formGroup.value).subscribe(function(){var n=(0,l.A)(function*(r){200==r.status&&(e.SHOW_DATA(e._formGroup),e.snackbar.show("Validate successfuly",{backgroundColor:"success",position:"TOP"})),e.REPPORTS_HEADER.ON_VALIDATION=!1});return function(r){return n.apply(this,arguments)}}(),n=>{this.REPPORTS_HEADER.ON_VALIDATION=!1})}SHOW_DATA(e){this._formGroup=e,this._formGroup.value.recos.length>0?(0,a.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.REPPORTS_HEADER.ON_FETCHING=!0,this._formGroup.value.months=(0,a.$r)(this._formGroup.value.months),this.ldbfetch.GetFamilyPlanningReports(this._formGroup.value).then(n=>{this.REPPORTS_HEADER.REGION_NAME=n?.region.name,this.REPPORTS_HEADER.RECO_ASC_TYPE=n?.reco_asc_type,this.REPPORTS_HEADER.RECO_ASC_NAME="RECO"===n?.reco_asc_type?n?.reco?.name:n?.chw.name,this.REPPORTS_HEADER.PREFECTURE_NAME=n?.prefecture.name,this.REPPORTS_HEADER.COMMUNE_NAME=n?.commune.name,this.REPPORTS_HEADER.MONTH=(0,a.$r)(this._formGroup.value.months).map(r=>(0,a.Ab)(r).labelFR).join(", "),this.REPPORTS_HEADER.YEAR=this._formGroup.value.year,this.REPPORTS_HEADER.CAN_VISIBLE=!0===(n?.data&&this._formGroup.value.recos.length>0),this.REPPORTS_HEADER.IS_VALIDATED=!0===n?.is_validate,this.REPPORTS_HEADER.IS_ALREADY_ON_DHIS2=!0===n?.already_on_dhis2,this.FAMILY_PLANNING$=n?.data,n||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.REPPORTS_HEADER.ON_FETCHING=!1},n=>{this.REPPORTS_HEADER.ON_FETCHING=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}sendDataToDhis2(){if(this.REPPORTS_HEADER.ON_DHIS2_SENDING=!0,this.FAMILY_PLANNING$){const e=this._formGroup.value.months,n={year:this._formGroup.value.year,month:Array.isArray(e)?e[0]:e};this.dataTransformToDhis2(this.FAMILY_PLANNING$,n)}else this.snackbar.show("Invalid Data",{backgroundColor:"warning",position:"TOP"})}dataTransformToDhis2(e,n){return{dataValues:[{dataElement:"reLr94WLodi",period:n?`${n.year}${n.month}`:`${e.year}${e.month}`,orgUnit:e.orgUnit??"erdjSX8MtGO",categoryOptionCombo:"mkALVXEOmPV",value:0}]}}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(R.G),t.rXU(E.F),t.rXU(p.i),t.rXU(u.u),t.rXU(m.z))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["family-planning"]],hostBindings:function(n,r){1&n&&t.bIt("resize",function(_){return r.onResize(_)},!1,t.tSv)},decls:14,vars:6,consts:[[1,"report-style","row","g-4"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[3,"ON_SHOW_DATA","id","ON_FETCHING"],[1,"table-responsive"],[1,"table","table-bordered","table-hover"],[1,"no-border","center"],[1,"no-border","org-units","center"],["colspan","9",1,"no-border","org-units","center"],[3,"onValidateData","onSendToDhis2","id","REPPORTS_HEADER"],[4,"ngIf"],[1,"no-border"],["colspan","9",1,"separation"],[1,"table-head","fp-header-1"],["rowspan","2","scope","col"],["colspan","3","scope","col"],[1,"table-head","fp-header-2"],["scope","col"],["scope","row"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"repports-orgunit-selector",3),t.bIt("ON_SHOW_DATA",function(_){return r.SHOW_DATA(_)}),t.k0s(),t.j41(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr",7)(8,"td",8)(9,"repports-header-selector",9),t.bIt("onValidateData",function(){return r.validateData()})("onSendToDhis2",function(){return r.sendDataToDhis2()}),t.k0s()()()(),t.DNE(10,Jt,22,0,"thead",10)(11,Mt,154,63,"tbody",10),t.j41(12,"tr",11),t.nrm(13,"td",12),t.k0s()()()()()()),2&n&&(t.R7$(3),t.Y8G("id","fp-repports-orgunit")("ON_FETCHING",!0===r.REPPORTS_HEADER.ON_FETCHING),t.R7$(6),t.Y8G("id","fp-repports-header")("REPPORTS_HEADER",r.REPPORTS_HEADER),t.R7$(),t.Y8G("ngIf",r.FAMILY_PLANNING$),t.R7$(),t.Y8G("ngIf",r.FAMILY_PLANNING$))},dependencies:[d.bT,F,f],styles:[".fp-header-1[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .fp-header-2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:40px!important}"]})}return o})();function Lt(o,i){1&o&&(t.j41(0,"thead")(1,"tr",13)(2,"th",14),t.EFF(3,"N\xb0"),t.k0s(),t.j41(4,"th",15),t.EFF(5,"Problemes de sant\xe9"),t.k0s(),t.j41(6,"th",16),t.EFF(7,"5-14 ans"),t.k0s(),t.j41(8,"th",16),t.EFF(9,"14-24 ans"),t.k0s(),t.j41(10,"th",16),t.EFF(11,"25-59 ans"),t.k0s(),t.j41(12,"th",16),t.EFF(13,"60 ans et Plus"),t.k0s(),t.j41(14,"th",16),t.EFF(15,"Femme enceinte"),t.k0s(),t.j41(16,"th",16),t.EFF(17,"Nombre total"),t.k0s(),t.j41(18,"th",16),t.EFF(19,"Nombre r\xe9f\xe9r\xe9s"),t.k0s()()())}function Vt(o,i){if(1&o&&(t.j41(0,"tbody")(1,"tr")(2,"th",17),t.EFF(3,"01"),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td"),t.EFF(17),t.k0s(),t.j41(18,"td"),t.EFF(19),t.k0s()(),t.j41(20,"tr")(21,"th",17),t.EFF(22,"02"),t.k0s(),t.j41(23,"td"),t.EFF(24),t.k0s(),t.j41(25,"td"),t.EFF(26),t.k0s(),t.j41(27,"td"),t.EFF(28),t.k0s(),t.j41(29,"td"),t.EFF(30),t.k0s(),t.j41(31,"td"),t.EFF(32),t.k0s(),t.j41(33,"td"),t.EFF(34),t.k0s(),t.j41(35,"td"),t.EFF(36),t.k0s(),t.j41(37,"td"),t.EFF(38),t.k0s()(),t.j41(39,"tr")(40,"th",17),t.EFF(41,"03"),t.k0s(),t.j41(42,"td"),t.EFF(43),t.k0s(),t.j41(44,"td"),t.EFF(45),t.k0s(),t.j41(46,"td"),t.EFF(47),t.k0s(),t.j41(48,"td"),t.EFF(49),t.k0s(),t.j41(50,"td"),t.EFF(51),t.k0s(),t.j41(52,"td"),t.EFF(53),t.k0s(),t.j41(54,"td"),t.EFF(55),t.k0s(),t.j41(56,"td"),t.EFF(57),t.k0s()(),t.j41(58,"tr")(59,"th",17),t.EFF(60,"04"),t.k0s(),t.j41(61,"td"),t.EFF(62),t.k0s(),t.j41(63,"td"),t.EFF(64),t.k0s(),t.j41(65,"td"),t.EFF(66),t.k0s(),t.j41(67,"td"),t.EFF(68),t.k0s(),t.j41(69,"td"),t.EFF(70),t.k0s(),t.j41(71,"td"),t.EFF(72),t.k0s(),t.j41(73,"td"),t.EFF(74),t.k0s(),t.j41(75,"td"),t.EFF(76),t.k0s()(),t.j41(77,"tr")(78,"th",17),t.EFF(79,"05"),t.k0s(),t.j41(80,"td"),t.EFF(81),t.k0s(),t.j41(82,"td"),t.EFF(83),t.k0s(),t.j41(84,"td"),t.EFF(85),t.k0s(),t.j41(86,"td"),t.EFF(87),t.k0s(),t.j41(88,"td"),t.EFF(89),t.k0s(),t.j41(90,"td"),t.EFF(91),t.k0s(),t.j41(92,"td"),t.EFF(93),t.k0s(),t.j41(94,"td"),t.EFF(95),t.k0s()(),t.j41(96,"tr")(97,"th",17),t.EFF(98,"06"),t.k0s(),t.j41(99,"td"),t.EFF(100),t.k0s(),t.j41(101,"td"),t.EFF(102),t.k0s(),t.j41(103,"td"),t.EFF(104),t.k0s(),t.j41(105,"td"),t.EFF(106),t.k0s(),t.j41(107,"td"),t.EFF(108),t.k0s(),t.j41(109,"td"),t.EFF(110),t.k0s(),t.j41(111,"td"),t.EFF(112),t.k0s(),t.j41(113,"td"),t.EFF(114),t.k0s()(),t.j41(115,"tr")(116,"th",17),t.EFF(117,"07"),t.k0s(),t.j41(118,"td"),t.EFF(119),t.k0s(),t.j41(120,"td"),t.EFF(121),t.k0s(),t.j41(122,"td"),t.EFF(123),t.k0s(),t.j41(124,"td"),t.EFF(125),t.k0s(),t.j41(126,"td"),t.EFF(127),t.k0s(),t.j41(128,"td"),t.EFF(129),t.k0s(),t.j41(130,"td"),t.EFF(131),t.k0s(),t.j41(132,"td"),t.EFF(133),t.k0s()(),t.j41(134,"tr")(135,"th",17),t.EFF(136,"08"),t.k0s(),t.j41(137,"td"),t.EFF(138),t.k0s(),t.j41(139,"td"),t.EFF(140),t.k0s(),t.j41(141,"td"),t.EFF(142),t.k0s(),t.j41(143,"td"),t.EFF(144),t.k0s(),t.j41(145,"td"),t.EFF(146),t.k0s(),t.j41(147,"td"),t.EFF(148),t.k0s(),t.j41(149,"td"),t.EFF(150),t.k0s(),t.j41(151,"td"),t.EFF(152),t.k0s()(),t.j41(153,"tr")(154,"th",17),t.EFF(155,"09"),t.k0s(),t.j41(156,"td"),t.EFF(157),t.k0s(),t.j41(158,"td"),t.EFF(159),t.k0s(),t.j41(160,"td"),t.EFF(161),t.k0s(),t.j41(162,"td"),t.EFF(163),t.k0s(),t.j41(164,"td"),t.EFF(165),t.k0s(),t.j41(166,"td"),t.EFF(167),t.k0s(),t.j41(168,"td"),t.EFF(169),t.k0s(),t.j41(170,"td"),t.EFF(171),t.k0s()(),t.j41(172,"tr")(173,"th",17),t.EFF(174,"10"),t.k0s(),t.j41(175,"td"),t.EFF(176),t.k0s(),t.j41(177,"td"),t.EFF(178),t.k0s(),t.j41(179,"td"),t.EFF(180),t.k0s(),t.j41(181,"td"),t.EFF(182),t.k0s(),t.j41(183,"td"),t.EFF(184),t.k0s(),t.j41(185,"td"),t.EFF(186),t.k0s(),t.j41(187,"td"),t.EFF(188),t.k0s(),t.j41(189,"td"),t.EFF(190),t.k0s()(),t.j41(191,"tr")(192,"th",17),t.EFF(193,"11"),t.k0s(),t.j41(194,"td"),t.EFF(195),t.k0s(),t.j41(196,"td"),t.EFF(197),t.k0s(),t.j41(198,"td"),t.EFF(199),t.k0s(),t.j41(200,"td"),t.EFF(201),t.k0s(),t.j41(202,"td"),t.EFF(203),t.k0s(),t.j41(204,"td"),t.EFF(205),t.k0s(),t.j41(206,"td"),t.EFF(207),t.k0s(),t.j41(208,"td"),t.EFF(209),t.k0s()(),t.j41(210,"tr")(211,"th",17),t.EFF(212,"12"),t.k0s(),t.j41(213,"td"),t.EFF(214),t.k0s(),t.j41(215,"td"),t.EFF(216),t.k0s(),t.j41(217,"td"),t.EFF(218),t.k0s(),t.j41(219,"td"),t.EFF(220),t.k0s(),t.j41(221,"td"),t.EFF(222),t.k0s(),t.j41(223,"td"),t.EFF(224),t.k0s(),t.j41(225,"td"),t.EFF(226),t.k0s(),t.j41(227,"td"),t.EFF(228),t.k0s()(),t.j41(229,"tr")(230,"th",17),t.EFF(231,"13"),t.k0s(),t.j41(232,"td"),t.EFF(233),t.k0s(),t.j41(234,"td"),t.EFF(235),t.k0s(),t.j41(236,"td"),t.EFF(237),t.k0s(),t.j41(238,"td"),t.EFF(239),t.k0s(),t.j41(240,"td"),t.EFF(241),t.k0s(),t.j41(242,"td"),t.EFF(243),t.k0s(),t.j41(244,"td"),t.EFF(245),t.k0s(),t.j41(246,"td"),t.EFF(247),t.k0s()(),t.j41(248,"tr")(249,"th",17),t.EFF(250,"14"),t.k0s(),t.j41(251,"td"),t.EFF(252),t.k0s(),t.j41(253,"td"),t.EFF(254),t.k0s(),t.j41(255,"td"),t.EFF(256),t.k0s(),t.j41(257,"td"),t.EFF(258),t.k0s(),t.j41(259,"td"),t.EFF(260),t.k0s(),t.j41(261,"td"),t.EFF(262),t.k0s(),t.j41(263,"td"),t.EFF(264),t.k0s(),t.j41(265,"td"),t.EFF(266),t.k0s()(),t.j41(267,"tr")(268,"th",17),t.EFF(269,"15"),t.k0s(),t.j41(270,"td"),t.EFF(271),t.k0s(),t.j41(272,"td"),t.EFF(273),t.k0s(),t.j41(274,"td"),t.EFF(275),t.k0s(),t.j41(276,"td"),t.EFF(277),t.k0s(),t.j41(278,"td"),t.EFF(279),t.k0s(),t.j41(280,"td"),t.EFF(281),t.k0s(),t.j41(282,"td"),t.EFF(283),t.k0s(),t.j41(284,"td"),t.EFF(285),t.k0s()(),t.j41(286,"tr")(287,"th",17),t.EFF(288,"16"),t.k0s(),t.j41(289,"td"),t.EFF(290),t.k0s(),t.j41(291,"td"),t.EFF(292),t.k0s(),t.j41(293,"td"),t.EFF(294),t.k0s(),t.j41(295,"td"),t.EFF(296),t.k0s(),t.j41(297,"td"),t.EFF(298),t.k0s(),t.j41(299,"td"),t.EFF(300),t.k0s(),t.j41(301,"td"),t.EFF(302),t.k0s(),t.j41(303,"td"),t.EFF(304),t.k0s()(),t.j41(305,"tr")(306,"th",17),t.EFF(307,"17"),t.k0s(),t.j41(308,"td"),t.EFF(309),t.k0s(),t.j41(310,"td"),t.EFF(311),t.k0s(),t.j41(312,"td"),t.EFF(313),t.k0s(),t.j41(314,"td"),t.EFF(315),t.k0s(),t.j41(316,"td"),t.EFF(317),t.k0s(),t.j41(318,"td"),t.EFF(319),t.k0s(),t.j41(320,"td"),t.EFF(321),t.k0s(),t.j41(322,"td"),t.EFF(323),t.k0s()()()),2&o){const e=i.ngIf;t.R7$(5),t.JRh(e.hp_circulation_accident.indicator),t.R7$(2),t.JRh(e.hp_circulation_accident.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_circulation_accident.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_circulation_accident.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_circulation_accident.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_circulation_accident.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_circulation_accident.nbr_total),t.R7$(2),t.JRh(e.hp_circulation_accident.nbr_referred),t.R7$(5),t.JRh(e.hp_burn.indicator),t.R7$(2),t.JRh(e.hp_burn.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_burn.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_burn.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_burn.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_burn.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_burn.nbr_total),t.R7$(2),t.JRh(e.hp_burn.nbr_referred),t.R7$(5),t.JRh(e.hp_suspected_tb_cases.indicator),t.R7$(2),t.JRh(e.hp_suspected_tb_cases.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_suspected_tb_cases.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_suspected_tb_cases.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_suspected_tb_cases.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_suspected_tb_cases.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_suspected_tb_cases.nbr_total),t.R7$(2),t.JRh(e.hp_suspected_tb_cases.nbr_referred),t.R7$(5),t.JRh(e.hp_dermatosis.indicator),t.R7$(2),t.JRh(e.hp_dermatosis.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_dermatosis.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_dermatosis.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_dermatosis.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_dermatosis.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_dermatosis.nbr_total),t.R7$(2),t.JRh(e.hp_dermatosis.nbr_referred),t.R7$(5),t.JRh(e.hp_diarrhea.indicator),t.R7$(2),t.JRh(e.hp_diarrhea.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_diarrhea.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_diarrhea.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_diarrhea.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_diarrhea.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_diarrhea.nbr_total),t.R7$(2),t.JRh(e.hp_diarrhea.nbr_referred),t.R7$(5),t.JRh(e.hp_urethral_discharge.indicator),t.R7$(2),t.JRh(e.hp_urethral_discharge.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_urethral_discharge.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_urethral_discharge.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_urethral_discharge.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_urethral_discharge.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_urethral_discharge.nbr_total),t.R7$(2),t.JRh(e.hp_urethral_discharge.nbr_referred),t.R7$(5),t.JRh(e.hp_vaginal_discharge.indicator),t.R7$(2),t.JRh(e.hp_vaginal_discharge.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_vaginal_discharge.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_vaginal_discharge.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_vaginal_discharge.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_vaginal_discharge.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_vaginal_discharge.nbr_total),t.R7$(2),t.JRh(e.hp_vaginal_discharge.nbr_referred),t.R7$(5),t.JRh(e.hp_urinary_loss.indicator),t.R7$(2),t.JRh(e.hp_urinary_loss.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_urinary_loss.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_urinary_loss.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_urinary_loss.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_urinary_loss.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_urinary_loss.nbr_total),t.R7$(2),t.JRh(e.hp_urinary_loss.nbr_referred),t.R7$(5),t.JRh(e.hp_accidental_caustic_products_ingestion.indicator),t.R7$(2),t.JRh(e.hp_accidental_caustic_products_ingestion.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_accidental_caustic_products_ingestion.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_accidental_caustic_products_ingestion.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_accidental_caustic_products_ingestion.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_accidental_caustic_products_ingestion.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_accidental_caustic_products_ingestion.nbr_total),t.R7$(2),t.JRh(e.hp_accidental_caustic_products_ingestion.nbr_referred),t.R7$(5),t.JRh(e.hp_food_poisoning.indicator),t.R7$(2),t.JRh(e.hp_food_poisoning.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_food_poisoning.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_food_poisoning.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_food_poisoning.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_food_poisoning.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_food_poisoning.nbr_total),t.R7$(2),t.JRh(e.hp_food_poisoning.nbr_referred),t.R7$(5),t.JRh(e.hp_oral_diseases.indicator),t.R7$(2),t.JRh(e.hp_oral_diseases.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_oral_diseases.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_oral_diseases.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_oral_diseases.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_oral_diseases.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_oral_diseases.nbr_total),t.R7$(2),t.JRh(e.hp_oral_diseases.nbr_referred),t.R7$(5),t.JRh(e.hp_dog_bite.indicator),t.R7$(2),t.JRh(e.hp_dog_bite.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_dog_bite.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_dog_bite.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_dog_bite.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_dog_bite.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_dog_bite.nbr_total),t.R7$(2),t.JRh(e.hp_dog_bite.nbr_referred),t.R7$(5),t.JRh(e.hp_snake_bite.indicator),t.R7$(2),t.JRh(e.hp_snake_bite.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_snake_bite.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_snake_bite.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_snake_bite.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_snake_bite.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_snake_bite.nbr_total),t.R7$(2),t.JRh(e.hp_snake_bite.nbr_referred),t.R7$(5),t.JRh(e.hp_parasitosis.indicator),t.R7$(2),t.JRh(e.hp_parasitosis.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_parasitosis.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_parasitosis.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_parasitosis.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_parasitosis.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_parasitosis.nbr_total),t.R7$(2),t.JRh(e.hp_parasitosis.nbr_referred),t.R7$(5),t.JRh(e.hp_measles.indicator),t.R7$(2),t.JRh(e.hp_measles.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_measles.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_measles.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_measles.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_measles.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_measles.nbr_total),t.R7$(2),t.JRh(e.hp_measles.nbr_referred),t.R7$(5),t.JRh(e.hp_trauma.indicator),t.R7$(2),t.JRh(e.hp_trauma.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_trauma.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_trauma.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_trauma.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_trauma.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_trauma.nbr_total),t.R7$(2),t.JRh(e.hp_trauma.nbr_referred),t.R7$(5),t.JRh(e.hp_gender_based_violence.indicator),t.R7$(2),t.JRh(e.hp_gender_based_violence.nbr_5_14_years),t.R7$(2),t.JRh(e.hp_gender_based_violence.nbr_14_25_years),t.R7$(2),t.JRh(e.hp_gender_based_violence.nbr_25_60_years),t.R7$(2),t.JRh(e.hp_gender_based_violence.nbr_60_more_years),t.R7$(2),t.JRh(e.hp_gender_based_violence.nbr_pregnant_woman),t.R7$(2),t.JRh(e.hp_gender_based_violence.nbr_total),t.R7$(2),t.JRh(e.hp_gender_based_violence.nbr_referred)}}function Yt(o,i){1&o&&(t.j41(0,"thead")(1,"tr",13)(2,"th",18),t.EFF(3,"N\xb0"),t.k0s(),t.j41(4,"th",18),t.EFF(5,"Paludisme"),t.k0s(),t.j41(6,"th",18),t.EFF(7,"5-14 ans"),t.k0s(),t.j41(8,"th",18),t.EFF(9,"14-24 ans"),t.k0s(),t.j41(10,"th",18),t.EFF(11,"25-59 ans"),t.k0s(),t.j41(12,"th",18),t.EFF(13,"60 ans et Plus"),t.k0s(),t.j41(14,"th",18),t.EFF(15,"Femme enceinte"),t.k0s(),t.j41(16,"th",18),t.EFF(17,"Nombre total"),t.k0s(),t.j41(18,"th",18),t.EFF(19,"Nombre r\xe9f\xe9r\xe9s"),t.k0s()()())}function Ut(o,i){if(1&o&&(t.j41(0,"tbody")(1,"tr")(2,"th",17),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td"),t.EFF(17),t.k0s(),t.j41(18,"td"),t.EFF(19),t.k0s()(),t.j41(20,"tr")(21,"th",17),t.EFF(22),t.k0s(),t.j41(23,"td"),t.EFF(24),t.k0s(),t.j41(25,"td"),t.EFF(26),t.k0s(),t.j41(27,"td"),t.EFF(28),t.k0s(),t.j41(29,"td"),t.EFF(30),t.k0s(),t.j41(31,"td"),t.EFF(32),t.k0s(),t.j41(33,"td",19),t.EFF(34),t.k0s(),t.j41(35,"td"),t.EFF(36),t.k0s(),t.j41(37,"td",19),t.EFF(38),t.k0s()(),t.j41(39,"tr")(40,"th",17),t.EFF(41),t.k0s(),t.j41(42,"td"),t.EFF(43),t.k0s(),t.j41(44,"td"),t.EFF(45),t.k0s(),t.j41(46,"td"),t.EFF(47),t.k0s(),t.j41(48,"td"),t.EFF(49),t.k0s(),t.j41(50,"td"),t.EFF(51),t.k0s(),t.j41(52,"td",19),t.EFF(53),t.k0s(),t.j41(54,"td"),t.EFF(55),t.k0s(),t.j41(56,"td",19),t.EFF(57),t.k0s()(),t.j41(58,"tr")(59,"th",17),t.EFF(60),t.k0s(),t.j41(61,"td"),t.EFF(62),t.k0s(),t.j41(63,"td"),t.EFF(64),t.k0s(),t.j41(65,"td"),t.EFF(66),t.k0s(),t.j41(67,"td"),t.EFF(68),t.k0s(),t.j41(69,"td"),t.EFF(70),t.k0s(),t.j41(71,"td",19),t.EFF(72),t.k0s(),t.j41(73,"td"),t.EFF(74),t.k0s(),t.j41(75,"td",19),t.EFF(76),t.k0s()()()),2&o){const e=i.ngIf;t.R7$(3),t.JRh(1),t.R7$(2),t.JRh(e.malaria_total_cases.indicator),t.R7$(2),t.JRh(e.malaria_total_cases.nbr_5_14_years),t.R7$(2),t.JRh(e.malaria_total_cases.nbr_14_25_years),t.R7$(2),t.JRh(e.malaria_total_cases.nbr_25_60_years),t.R7$(2),t.JRh(e.malaria_total_cases.nbr_60_more_years),t.R7$(2),t.JRh(e.malaria_total_cases.nbr_pregnant_woman),t.R7$(2),t.JRh(e.malaria_total_cases.nbr_total),t.R7$(2),t.JRh(e.malaria_total_cases.nbr_referred),t.R7$(3),t.JRh(1),t.R7$(2),t.JRh(e.malaria_rdt_performed.indicator),t.R7$(2),t.JRh(e.malaria_rdt_performed.nbr_5_14_years),t.R7$(2),t.JRh(e.malaria_rdt_performed.nbr_14_25_years),t.R7$(2),t.JRh(e.malaria_rdt_performed.nbr_25_60_years),t.R7$(2),t.JRh(e.malaria_rdt_performed.nbr_60_more_years),t.R7$(2),t.JRh(e.malaria_rdt_performed.nbr_pregnant_woman),t.R7$(2),t.JRh(e.malaria_rdt_performed.nbr_total),t.R7$(2),t.JRh(e.malaria_rdt_performed.nbr_referred),t.R7$(3),t.JRh(1),t.R7$(2),t.JRh(e.malaria_positive_rdts.indicator),t.R7$(2),t.JRh(e.malaria_positive_rdts.nbr_5_14_years),t.R7$(2),t.JRh(e.malaria_positive_rdts.nbr_14_25_years),t.R7$(2),t.JRh(e.malaria_positive_rdts.nbr_25_60_years),t.R7$(2),t.JRh(e.malaria_positive_rdts.nbr_60_more_years),t.R7$(2),t.JRh(e.malaria_positive_rdts.nbr_pregnant_woman),t.R7$(2),t.JRh(e.malaria_positive_rdts.nbr_total),t.R7$(2),t.JRh(e.malaria_positive_rdts.nbr_referred),t.R7$(3),t.JRh(1),t.R7$(2),t.JRh(e.malaria_cases_treated_with_cta.indicator),t.R7$(2),t.JRh(e.malaria_cases_treated_with_cta.nbr_5_14_years),t.R7$(2),t.JRh(e.malaria_cases_treated_with_cta.nbr_14_25_years),t.R7$(2),t.JRh(e.malaria_cases_treated_with_cta.nbr_25_60_years),t.R7$(2),t.JRh(e.malaria_cases_treated_with_cta.nbr_60_more_years),t.R7$(2),t.JRh(e.malaria_cases_treated_with_cta.nbr_pregnant_woman),t.R7$(2),t.JRh(e.malaria_cases_treated_with_cta.nbr_total),t.R7$(2),t.JRh(e.malaria_cases_treated_with_cta.nbr_referred)}}let Wt=(()=>{class o{constructor(e,n,r,s,_){this.api=e,this.ldbfetch=n,this.userCtx=r,this.auth=s,this.snackbar=_,this.REPPORTS_HEADER={LOGO_TITLE1:void 0,LOGO_TITLE2:void 0,LOGO_TITLE3:void 0,REPPORT_TITLE:"RAPPORT MENSUEL DE MORBIDITE 5 ANS ET PLUS",REPPORT_SUBTITLE:void 0,HEALTH_CENTER_NAME:void 0,RECO_ASC_PHONE:void 0},this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4}onResize(e){this.screenWidth=window.innerWidth}validateData(){var e=this;this.REPPORTS_HEADER.ON_VALIDATION=!0,this.api.ValidateMorbidityReports(this._formGroup.value).subscribe(function(){var n=(0,l.A)(function*(r){200==r.status&&(e.SHOW_DATA(e._formGroup),e.snackbar.show("Validate successfuly",{backgroundColor:"success",position:"TOP"})),e.REPPORTS_HEADER.ON_VALIDATION=!1});return function(r){return n.apply(this,arguments)}}(),n=>{this.REPPORTS_HEADER.ON_VALIDATION=!1})}SHOW_DATA(e){this._formGroup=e,this._formGroup.value.recos.length>0?(0,a.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.REPPORTS_HEADER.ON_FETCHING=!0,this._formGroup.value.months=(0,a.$r)(this._formGroup.value.months),this.ldbfetch.GetMorbidityReports(this._formGroup.value).then(n=>{this.REPPORTS_HEADER.REGION_NAME=n?.region.name,this.REPPORTS_HEADER.RECO_ASC_TYPE=n?.reco_asc_type,this.REPPORTS_HEADER.RECO_ASC_NAME="RECO"===n?.reco_asc_type?n?.reco?.name:n?.chw.name,this.REPPORTS_HEADER.PREFECTURE_NAME=n?.prefecture.name,this.REPPORTS_HEADER.COMMUNE_NAME=n?.commune.name,this.REPPORTS_HEADER.VILLAGE_SECTEUR_NAME=n?.village_secteur.name,this.REPPORTS_HEADER.MONTH=(0,a.$r)(this._formGroup.value.months).map(r=>(0,a.Ab)(r).labelFR).join(","),this.REPPORTS_HEADER.YEAR=this._formGroup.value.year,this.REPPORTS_HEADER.CAN_VISIBLE=!0===(n?.data&&this._formGroup.value.recos.length>0),this.REPPORTS_HEADER.IS_VALIDATED=!0===n?.is_validate,this.REPPORTS_HEADER.IS_ALREADY_ON_DHIS2=!0===n?.already_on_dhis2,this.MORBIDITY$=n?.data,n||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.REPPORTS_HEADER.ON_FETCHING=!1},n=>{this.REPPORTS_HEADER.ON_FETCHING=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}sendDataToDhis2(){if(this.REPPORTS_HEADER.ON_DHIS2_SENDING=!0,this.MORBIDITY$){const e=this._formGroup.value.months,n={year:this._formGroup.value.year,month:Array.isArray(e)?e[0]:e};this.dataTransformToDhis2(this.MORBIDITY$,n)}else this.snackbar.show("Invalid Data",{backgroundColor:"warning",position:"TOP"})}dataTransformToDhis2(e,n){return{dataValues:[{dataElement:"reLr94WLodi",period:n?`${n.year}${n.month}`:`${e.year}${e.month}`,orgUnit:e.orgUnit??"erdjSX8MtGO",categoryOptionCombo:"mkALVXEOmPV",value:0}]}}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(R.G),t.rXU(E.F),t.rXU(p.i),t.rXU(u.u),t.rXU(m.z))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["malaria-morbidity"]],hostBindings:function(n,r){1&n&&t.bIt("resize",function(_){return r.onResize(_)},!1,t.tSv)},decls:18,vars:8,consts:[[1,"report-style","row","g-4"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[3,"ON_SHOW_DATA","id","ON_FETCHING"],[1,"table-responsive"],[1,"table","table-bordered","table-hover"],[1,"no-border","center"],[1,"no-border","org-units","center"],["colspan","9",1,"no-border","org-units","center"],[3,"onValidateData","onSendToDhis2","id","REPPORTS_HEADER"],[4,"ngIf"],[1,"no-border"],["colspan","9",1,"separation"],[1,"table-head"],["scope","col",2,"width","5%"],["scope","col",2,"width","32%"],["scope","col",2,"width","9%"],["scope","row"],["scope","col"],[1,"dark-back"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"repports-orgunit-selector",3),t.bIt("ON_SHOW_DATA",function(_){return r.SHOW_DATA(_)}),t.k0s(),t.j41(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr",7)(8,"td",8)(9,"repports-header-selector",9),t.bIt("onValidateData",function(){return r.validateData()})("onSendToDhis2",function(){return r.sendDataToDhis2()}),t.k0s()()()(),t.DNE(10,Lt,20,0,"thead",10)(11,Vt,324,136,"tbody",10),t.j41(12,"tr",11),t.nrm(13,"td",12),t.k0s(),t.DNE(14,Yt,20,0,"thead",10)(15,Ut,77,36,"tbody",10),t.j41(16,"tr",11),t.nrm(17,"td",12),t.k0s()()()()()()),2&n&&(t.R7$(3),t.Y8G("id","mb-repports-orgunit")("ON_FETCHING",!0===r.REPPORTS_HEADER.ON_FETCHING),t.R7$(6),t.Y8G("id","fp-repports-header")("REPPORTS_HEADER",r.REPPORTS_HEADER),t.R7$(),t.Y8G("ngIf",r.MORBIDITY$),t.R7$(),t.Y8G("ngIf",r.MORBIDITY$),t.R7$(3),t.Y8G("ngIf",r.MORBIDITY$),t.R7$(),t.Y8G("ngIf",r.MORBIDITY$))},dependencies:[d.bT,F,f]})}return o})();const A=()=>[2,3,4,5,6,12,13],O=()=>[5,6,12,13],b=()=>[2,3,4,6,10,12],g=()=>[2,3,4,5,7,10,12,13],T=()=>[2,3,4,5,6,7,10,13];function Bt(o,i){1&o&&(t.j41(0,"thead")(1,"tr",14)(2,"th",15),t.EFF(3,"N\xb0"),t.k0s(),t.j41(4,"th",16),t.EFF(5,"Description"),t.k0s(),t.j41(6,"th",17),t.EFF(7,"Corps chaud/ Paludisme"),t.k0s(),t.j41(8,"th",17),t.EFF(9,"Toux ou difficult\xe9 respiratoire/ Pneumonie simple"),t.k0s(),t.j41(10,"th",17),t.EFF(11,"Diarrh\xe9e simple"),t.k0s(),t.j41(12,"th",17),t.EFF(13,"Malnutrition"),t.k0s(),t.j41(14,"th",18),t.EFF(15,"TOTAL"),t.k0s()(),t.j41(16,"tr",14)(17,"th",19),t.EFF(18,"0-2 mois"),t.k0s(),t.j41(19,"th",19),t.EFF(20,"2- 11 mois"),t.k0s(),t.j41(21,"th",19),t.EFF(22,"12- 59 mois"),t.k0s(),t.j41(23,"th",19),t.EFF(24,"0-2 mois"),t.k0s(),t.j41(25,"th",19),t.EFF(26,"2- 11 mois"),t.k0s(),t.j41(27,"th",19),t.EFF(28,"12- 59 mois"),t.k0s(),t.j41(29,"th",19),t.EFF(30,"0-2 mois"),t.k0s(),t.j41(31,"th",19),t.EFF(32,"2- 11 mois"),t.k0s(),t.j41(33,"th",19),t.EFF(34,"12- 59 mois"),t.k0s(),t.j41(35,"th",19),t.EFF(36,"0-2 mois"),t.k0s(),t.j41(37,"th",19),t.EFF(38,"2- 11 mois"),t.k0s(),t.j41(39,"th",19),t.EFF(40,"12- 59 mois"),t.k0s()(),t.j41(41,"tr",20)(42,"th",21),t.EFF(43,"F"),t.k0s(),t.j41(44,"th",21),t.EFF(45,"M"),t.k0s(),t.j41(46,"th",21),t.EFF(47,"F"),t.k0s(),t.j41(48,"th",21),t.EFF(49,"M"),t.k0s(),t.j41(50,"th",21),t.EFF(51,"F"),t.k0s(),t.j41(52,"th",21),t.EFF(53,"M"),t.k0s(),t.j41(54,"th",21),t.EFF(55,"F"),t.k0s(),t.j41(56,"th",21),t.EFF(57,"M"),t.k0s(),t.j41(58,"th",21),t.EFF(59,"F"),t.k0s(),t.j41(60,"th",21),t.EFF(61,"M"),t.k0s(),t.j41(62,"th",21),t.EFF(63,"F"),t.k0s(),t.j41(64,"th",21),t.EFF(65,"M"),t.k0s(),t.j41(66,"th",21),t.EFF(67,"F"),t.k0s(),t.j41(68,"th",21),t.EFF(69,"M"),t.k0s(),t.j41(70,"th",21),t.EFF(71,"F"),t.k0s(),t.j41(72,"th",21),t.EFF(73,"M"),t.k0s(),t.j41(74,"th",21),t.EFF(75,"F"),t.k0s(),t.j41(76,"th",21),t.EFF(77,"M"),t.k0s(),t.j41(78,"th",21),t.EFF(79,"F"),t.k0s(),t.j41(80,"th",21),t.EFF(81,"M"),t.k0s(),t.j41(82,"th",21),t.EFF(83,"F"),t.k0s(),t.j41(84,"th",21),t.EFF(85,"M"),t.k0s(),t.j41(86,"th",21),t.EFF(87,"F"),t.k0s(),t.j41(88,"th",21),t.EFF(89,"M"),t.k0s()()())}function Xt(o,i){if(1&o&&(t.j41(0,"tr")(1,"th",24),t.EFF(2),t.k0s(),t.j41(3,"th"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s(),t.j41(17,"td"),t.EFF(18),t.k0s(),t.j41(19,"td"),t.EFF(20),t.k0s(),t.j41(21,"td"),t.EFF(22),t.k0s(),t.j41(23,"td"),t.EFF(24),t.k0s(),t.j41(25,"td"),t.EFF(26),t.k0s(),t.j41(27,"td"),t.EFF(28),t.k0s(),t.j41(29,"td"),t.EFF(30),t.k0s(),t.j41(31,"td"),t.EFF(32),t.k0s(),t.j41(33,"td"),t.EFF(34),t.k0s(),t.j41(35,"td"),t.EFF(36),t.k0s(),t.j41(37,"td"),t.EFF(38),t.k0s(),t.j41(39,"td"),t.EFF(40),t.k0s(),t.j41(41,"td"),t.EFF(42),t.k0s(),t.j41(43,"td"),t.EFF(44),t.k0s(),t.j41(45,"td"),t.EFF(46),t.k0s(),t.j41(47,"td"),t.EFF(48),t.k0s(),t.j41(49,"td"),t.EFF(50),t.k0s(),t.j41(51,"td"),t.EFF(52),t.k0s(),t.j41(53,"th"),t.EFF(54),t.k0s()()),2&o){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.index),t.R7$(2),t.JRh(e.indicator),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(99,A),e.index)),t.R7$(),t.JRh(e.nbr_malaria_0_2_months_F),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(100,A),e.index)),t.R7$(),t.JRh(e.nbr_malaria_0_2_months_M),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(101,O),e.index)),t.R7$(),t.JRh(e.nbr_malaria_2_12_months_F),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(102,O),e.index)),t.R7$(),t.JRh(e.nbr_malaria_2_12_months_M),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(103,O),e.index)),t.R7$(),t.JRh(e.nbr_malaria_12_60_months_F),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(104,O),e.index)),t.R7$(),t.JRh(e.nbr_malaria_12_60_months_M),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(105,b),e.index)),t.R7$(),t.JRh(e.nbr_cough_pneumonia_0_2_months_F),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(106,b),e.index)),t.R7$(),t.JRh(e.nbr_cough_pneumonia_0_2_months_M),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(107,b),e.index)),t.R7$(),t.JRh(e.nbr_cough_pneumonia_2_12_months_F),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(108,b),e.index)),t.R7$(),t.JRh(e.nbr_cough_pneumonia_2_12_months_M),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(109,b),e.index)),t.R7$(),t.JRh(e.nbr_cough_pneumonia_12_60_months_F),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(110,b),e.index)),t.R7$(),t.JRh(e.nbr_cough_pneumonia_12_60_months_M),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(111,g),e.index)),t.R7$(),t.JRh(e.nbr_diarrhea_0_2_months_F),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(112,g),e.index)),t.R7$(),t.JRh(e.nbr_diarrhea_0_2_months_M),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(113,g),e.index)),t.R7$(),t.JRh(e.nbr_diarrhea_2_12_months_F),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(114,g),e.index)),t.R7$(),t.JRh(e.nbr_diarrhea_2_12_months_M),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(115,g),e.index)),t.R7$(),t.JRh(e.nbr_diarrhea_12_60_months_F),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(116,g),e.index)),t.R7$(),t.JRh(e.nbr_diarrhea_12_60_months_M),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(117,T),e.index)),t.R7$(),t.JRh(e.nbr_malnutrition_0_2_months_F),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(118,T),e.index)),t.R7$(),t.JRh(e.nbr_malnutrition_0_2_months_M),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(119,T),e.index)),t.R7$(),t.JRh(e.nbr_malnutrition_2_12_months_F),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(120,T),e.index)),t.R7$(),t.JRh(e.nbr_malnutrition_2_12_months_M),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(121,T),e.index)),t.R7$(),t.JRh(e.nbr_malnutrition_12_60_months_F),t.R7$(),t.HbH(n.shawDarkMode(t.lJ4(122,T),e.index)),t.R7$(),t.JRh(e.nbr_malnutrition_12_60_months_M),t.R7$(2),t.JRh(e.nbr_total)}}function xt(o,i){if(1&o&&(t.j41(0,"tbody",22),t.DNE(1,Xt,55,123,"tr",23),t.k0s()),2&o){const e=i.ngIf;t.R7$(),t.Y8G("ngForOf",e.pcimne_newborn)}}let zt=(()=>{class o{constructor(e,n,r,s,_){this.api=e,this.ldbfetch=n,this.userCtx=r,this.auth=s,this.snackbar=_,this.REPPORTS_HEADER={LOGO_TITLE1:void 0,LOGO_TITLE2:void 0,LOGO_TITLE3:void 0,REPPORT_TITLE:"RAPPORT MENSUEL DE PCIMNE",REPPORT_SUBTITLE:void 0,HEALTH_CENTER_NAME:void 0,RECO_ASC_PHONE:void 0},this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4}onResize(e){this.screenWidth=window.innerWidth}validateData(){var e=this;this.REPPORTS_HEADER.ON_VALIDATION=!0,this.api.ValidatePcimneNewbornReports(this._formGroup.value).subscribe(function(){var n=(0,l.A)(function*(r){200==r.status&&(e.SHOW_DATA(e._formGroup),e.snackbar.show("Validate successfuly",{backgroundColor:"success",position:"TOP"})),e.REPPORTS_HEADER.ON_VALIDATION=!1});return function(r){return n.apply(this,arguments)}}(),n=>{this.REPPORTS_HEADER.ON_VALIDATION=!1})}SHOW_DATA(e){this._formGroup=e,this._formGroup.value.recos.length>0?(0,a.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.REPPORTS_HEADER.ON_FETCHING=!0,this._formGroup.value.months=(0,a.$r)(this._formGroup.value.months),this.ldbfetch.GetPcimneNewbornReports(this._formGroup.value).then(n=>{this.REPPORTS_HEADER.REGION_NAME=n?.region.name,this.REPPORTS_HEADER.RECO_ASC_TYPE=n?.reco_asc_type,this.REPPORTS_HEADER.RECO_ASC_NAME="RECO"===n?.reco_asc_type?n?.reco?.name:n?.chw.name,this.REPPORTS_HEADER.PREFECTURE_NAME=n?.prefecture.name,this.REPPORTS_HEADER.COMMUNE_NAME=n?.commune.name,this.REPPORTS_HEADER.VILLAGE_SECTEUR_NAME=n?.village_secteur.name,this.REPPORTS_HEADER.MONTH=(0,a.$r)(this._formGroup.value.months).map(r=>(0,a.Ab)(r).labelFR).join(","),this.REPPORTS_HEADER.YEAR=this._formGroup.value.year,this.REPPORTS_HEADER.CAN_VISIBLE=!0===(n&&this._formGroup.value.recos.length>0),this.REPPORTS_HEADER.IS_VALIDATED=!0===n?.is_validate,this.REPPORTS_HEADER.IS_ALREADY_ON_DHIS2=!0===n?.already_on_dhis2,this.PCIMNE_NEWBORN$=n,n||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.REPPORTS_HEADER.ON_FETCHING=!1},n=>{this.REPPORTS_HEADER.ON_FETCHING=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}sendDataToDhis2(){if(this.REPPORTS_HEADER.ON_DHIS2_SENDING=!0,this.PCIMNE_NEWBORN$){const e=this._formGroup.value.months,n={year:this._formGroup.value.year,month:Array.isArray(e)?e[0]:e};this.dataTransformToDhis2(this.PCIMNE_NEWBORN$,n)}else this.snackbar.show("Invalid Data",{backgroundColor:"warning",position:"TOP"})}dataTransformToDhis2(e,n){return{dataValues:[{dataElement:"reLr94WLodi",period:n?`${n.year}${n.month}`:`${e.year}${e.month}`,orgUnit:e.orgUnit??"erdjSX8MtGO",categoryOptionCombo:"mkALVXEOmPV",value:0}]}}shawDarkMode(e,n){return e.includes(n)?"dark-back":""}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(R.G),t.rXU(E.F),t.rXU(p.i),t.rXU(u.u),t.rXU(m.z))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["pcime"]],hostBindings:function(n,r){1&n&&t.bIt("resize",function(_){return r.onResize(_)},!1,t.tSv)},decls:14,vars:6,consts:[[1,"report-style","row","g-4"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[3,"ON_SHOW_DATA","id","ON_FETCHING"],[1,"table-responsive"],[1,"table","table-bordered","table-hover"],[1,"no-border","center"],[1,"no-border","org-units","center"],["colspan","27",1,"no-border","org-units","center"],[3,"onValidateData","onSendToDhis2","id","REPPORTS_HEADER"],[4,"ngIf"],["class","pcimne-body",4,"ngIf"],[1,"no-border"],["colspan","27",1,"separation"],[1,"table-head"],["rowspan","3","scope","col",1,"indicator-count"],["rowspan","3","scope","col",1,"indicator"],["colspan","6","scope","col"],["rowspan","3","scope","col",1,"indicator-total"],["colspan","2","scope","col"],[1,"table-head","pcimne-count"],["scope","col",1,"indicator-sex"],[1,"pcimne-body"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"repports-orgunit-selector",3),t.bIt("ON_SHOW_DATA",function(_){return r.SHOW_DATA(_)}),t.k0s(),t.j41(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr",7)(8,"td",8)(9,"repports-header-selector",9),t.bIt("onValidateData",function(){return r.validateData()})("onSendToDhis2",function(){return r.sendDataToDhis2()}),t.k0s()()()(),t.DNE(10,Bt,90,0,"thead",10)(11,xt,2,1,"tbody",11),t.j41(12,"tr",12),t.nrm(13,"td",13),t.k0s()()()()()()),2&n&&(t.R7$(3),t.Y8G("id","pm-repports-orgunit")("ON_FETCHING",!0===r.REPPORTS_HEADER.ON_FETCHING),t.R7$(6),t.Y8G("id","fp-repports-header")("REPPORTS_HEADER",r.REPPORTS_HEADER),t.R7$(),t.Y8G("ngIf",r.PCIMNE_NEWBORN$),t.R7$(),t.Y8G("ngIf",r.PCIMNE_NEWBORN$))},dependencies:[d.Sq,d.bT,F,f],styles:["thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1px!important}thead[_ngcontent-%COMP%]   .indicator-count[_ngcontent-%COMP%]{width:30px!important}thead[_ngcontent-%COMP%]   .indicator-total[_ngcontent-%COMP%]{width:25px!important}thead[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{width:300px!important}thead[_ngcontent-%COMP%]   .pcimne-count[_ngcontent-%COMP%]   .indicator-sex[_ngcontent-%COMP%]{width:30px!important}"]})}return o})();function Qt(o,i){1&o&&(t.j41(0,"thead")(1,"tr",11)(2,"th",12),t.EFF(3,"Rubrique B"),t.k0s(),t.j41(4,"th",13),t.EFF(5,"Sexe"),t.k0s(),t.j41(6,"th",14),t.EFF(7,"Nombre de personnes touch\xe9es par les VAD"),t.k0s(),t.j41(8,"th",14),t.EFF(9,"Nombre de personnes touch\xe9es par les CE"),t.k0s(),t.j41(10,"th",15),t.EFF(11,"Nombre Total"),t.k0s()()())}function qt(o,i){if(1&o&&(t.j41(0,"tbody")(1,"tr")(2,"th",16),t.EFF(3,"Paludisme"),t.k0s(),t.j41(4,"td"),t.EFF(5,"F"),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s()(),t.j41(12,"tr")(13,"td"),t.EFF(14,"M"),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s(),t.j41(17,"td"),t.EFF(18),t.k0s(),t.j41(19,"td"),t.EFF(20),t.k0s()(),t.j41(21,"tr")(22,"th",16),t.EFF(23,"Vaccination"),t.k0s(),t.j41(24,"td"),t.EFF(25,"F"),t.k0s(),t.j41(26,"td"),t.EFF(27),t.k0s(),t.j41(28,"td"),t.EFF(29),t.k0s(),t.j41(30,"td"),t.EFF(31),t.k0s()(),t.j41(32,"tr")(33,"td"),t.EFF(34,"M"),t.k0s(),t.j41(35,"td"),t.EFF(36),t.k0s(),t.j41(37,"td"),t.EFF(38),t.k0s(),t.j41(39,"td"),t.EFF(40),t.k0s()(),t.j41(41,"tr")(42,"th",16),t.EFF(43,"Sant\xe9 Enfant"),t.k0s(),t.j41(44,"td"),t.EFF(45,"F"),t.k0s(),t.j41(46,"td"),t.EFF(47),t.k0s(),t.j41(48,"td"),t.EFF(49),t.k0s(),t.j41(50,"td"),t.EFF(51),t.k0s()(),t.j41(52,"tr")(53,"td"),t.EFF(54,"M"),t.k0s(),t.j41(55,"td"),t.EFF(56),t.k0s(),t.j41(57,"td"),t.EFF(58),t.k0s(),t.j41(59,"td"),t.EFF(60),t.k0s()(),t.j41(61,"tr")(62,"th",16),t.EFF(63,"CPN/CPoN"),t.k0s(),t.j41(64,"td"),t.EFF(65,"F"),t.k0s(),t.j41(66,"td"),t.EFF(67),t.k0s(),t.j41(68,"td"),t.EFF(69),t.k0s(),t.j41(70,"td"),t.EFF(71),t.k0s()(),t.j41(72,"tr")(73,"td"),t.EFF(74,"M"),t.k0s(),t.j41(75,"td"),t.EFF(76),t.k0s(),t.j41(77,"td"),t.EFF(78),t.k0s(),t.j41(79,"td"),t.EFF(80),t.k0s()(),t.j41(81,"tr")(82,"th",16),t.EFF(83,"PF"),t.k0s(),t.j41(84,"td"),t.EFF(85,"F"),t.k0s(),t.j41(86,"td"),t.EFF(87),t.k0s(),t.j41(88,"td"),t.EFF(89),t.k0s(),t.j41(90,"td"),t.EFF(91),t.k0s()(),t.j41(92,"tr")(93,"td"),t.EFF(94,"M"),t.k0s(),t.j41(95,"td"),t.EFF(96),t.k0s(),t.j41(97,"td"),t.EFF(98),t.k0s(),t.j41(99,"td"),t.EFF(100),t.k0s()(),t.j41(101,"tr")(102,"th",16),t.EFF(103,"Eau Hygienne Assainissement"),t.k0s(),t.j41(104,"td"),t.EFF(105,"F"),t.k0s(),t.j41(106,"td"),t.EFF(107),t.k0s(),t.j41(108,"td"),t.EFF(109),t.k0s(),t.j41(110,"td"),t.EFF(111),t.k0s()(),t.j41(112,"tr")(113,"td"),t.EFF(114,"M"),t.k0s(),t.j41(115,"td"),t.EFF(116),t.k0s(),t.j41(117,"td"),t.EFF(118),t.k0s(),t.j41(119,"td"),t.EFF(120),t.k0s()(),t.j41(121,"tr")(122,"th",16),t.EFF(123,"Autres Maladies"),t.k0s(),t.j41(124,"td"),t.EFF(125,"F"),t.k0s(),t.j41(126,"td"),t.EFF(127),t.k0s(),t.j41(128,"td"),t.EFF(129),t.k0s(),t.j41(130,"td"),t.EFF(131),t.k0s()(),t.j41(132,"tr")(133,"td"),t.EFF(134,"M"),t.k0s(),t.j41(135,"td"),t.EFF(136),t.k0s(),t.j41(137,"td"),t.EFF(138),t.k0s(),t.j41(139,"td"),t.EFF(140),t.k0s()(),t.j41(141,"tr",17),t.nrm(142,"td",18),t.k0s()()),2&o){const e=i.ngIf;t.R7$(7),t.JRh(e.malaria_nbr_touched_by_VAD_F),t.R7$(2),t.JRh(e.malaria_nbr_touched_by_CE_F),t.R7$(2),t.JRh(e.malaria_nbr_total_F),t.R7$(5),t.JRh(e.malaria_nbr_touched_by_VAD_M),t.R7$(2),t.JRh(e.malaria_nbr_touched_by_CE_M),t.R7$(2),t.JRh(e.malaria_nbr_total_M),t.R7$(7),t.JRh(e.vaccination_nbr_touched_by_VAD_F),t.R7$(2),t.JRh(e.vaccination_nbr_touched_by_CE_F),t.R7$(2),t.JRh(e.vaccination_nbr_total_F),t.R7$(5),t.JRh(e.vaccination_nbr_touched_by_VAD_M),t.R7$(2),t.JRh(e.vaccination_nbr_touched_by_CE_M),t.R7$(2),t.JRh(e.vaccination_nbr_total_M),t.R7$(7),t.JRh(e.child_health_nbr_touched_by_VAD_F),t.R7$(2),t.JRh(e.child_health_nbr_touched_by_CE_F),t.R7$(2),t.JRh(e.child_health_nbr_total_F),t.R7$(5),t.JRh(e.child_health_nbr_touched_by_VAD_M),t.R7$(2),t.JRh(e.child_health_nbr_touched_by_CE_M),t.R7$(2),t.JRh(e.child_health_nbr_total_M),t.R7$(7),t.JRh(e.cpn_cpon_nbr_touched_by_VAD_F),t.R7$(2),t.JRh(e.cpn_cpon_nbr_touched_by_CE_F),t.R7$(2),t.JRh(e.cpn_cpon_nbr_total_F),t.R7$(5),t.JRh(e.cpn_cpon_nbr_touched_by_VAD_M),t.R7$(2),t.JRh(e.cpn_cpon_nbr_touched_by_CE_M),t.R7$(2),t.JRh(e.cpn_cpon_nbr_total_M),t.R7$(7),t.JRh(e.family_planning_nbr_touched_by_VAD_F),t.R7$(2),t.JRh(e.family_planning_nbr_touched_by_CE_F),t.R7$(2),t.JRh(e.family_planning_nbr_total_F),t.R7$(5),t.JRh(e.family_planning_nbr_touched_by_VAD_M),t.R7$(2),t.JRh(e.family_planning_nbr_touched_by_CE_M),t.R7$(2),t.JRh(e.family_planning_nbr_total_M),t.R7$(7),t.JRh(e.hygienic_water_sanitation_nbr_touched_by_VAD_F),t.R7$(2),t.JRh(e.hygienic_water_sanitation_nbr_touched_by_CE_F),t.R7$(2),t.JRh(e.hygienic_water_sanitation_nbr_total_F),t.R7$(5),t.JRh(e.hygienic_water_sanitation_nbr_touched_by_VAD_M),t.R7$(2),t.JRh(e.hygienic_water_sanitation_nbr_touched_by_CE_M),t.R7$(2),t.JRh(e.hygienic_water_sanitation_nbr_total_M),t.R7$(7),t.JRh(e.other_diseases_nbr_touched_by_VAD_F),t.R7$(2),t.JRh(e.other_diseases_nbr_touched_by_CE_F),t.R7$(2),t.JRh(e.other_diseases_nbr_total_F),t.R7$(5),t.JRh(e.other_diseases_nbr_touched_by_VAD_M),t.R7$(2),t.JRh(e.other_diseases_nbr_touched_by_CE_M),t.R7$(2),t.JRh(e.other_diseases_nbr_total_M)}}let Kt=(()=>{class o{constructor(e,n,r,s,_){this.api=e,this.ldbfetch=n,this.userCtx=r,this.auth=s,this.snackbar=_,this.REPPORTS_HEADER={LOGO_TITLE1:void 0,LOGO_TITLE2:void 0,LOGO_TITLE3:void 0,REPPORT_TITLE:"RAPPORT MENSUEL ACTIVIT\xc9S PROMOTIONNELLES",REPPORT_SUBTITLE:void 0,HEALTH_CENTER_NAME:void 0,RECO_ASC_PHONE:void 0},this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4}onResize(e){this.screenWidth=window.innerWidth}validateData(){var e=this;this.REPPORTS_HEADER.ON_VALIDATION=!0,this.api.ValidatePromotionReports(this._formGroup.value).subscribe(function(){var n=(0,l.A)(function*(r){200==r.status&&(e.SHOW_DATA(e._formGroup),e.snackbar.show("Validate successfuly",{backgroundColor:"success",position:"TOP"})),e.REPPORTS_HEADER.ON_VALIDATION=!1});return function(r){return n.apply(this,arguments)}}(),n=>{this.REPPORTS_HEADER.ON_VALIDATION=!1})}SHOW_DATA(e){this._formGroup=e,this._formGroup.value.recos.length>0?(0,a.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.REPPORTS_HEADER.ON_FETCHING=!0,this._formGroup.value.months=(0,a.$r)(this._formGroup.value.months),this.ldbfetch.GetPromotionReports(this._formGroup.value).then(n=>{this.REPPORTS_HEADER.REGION_NAME=n?.region.name,this.REPPORTS_HEADER.RECO_ASC_TYPE=n?.reco_asc_type,this.REPPORTS_HEADER.RECO_ASC_NAME="RECO"===n?.reco_asc_type?n?.reco?.name:n?.chw.name,this.REPPORTS_HEADER.PREFECTURE_NAME=n?.prefecture.name,this.REPPORTS_HEADER.COMMUNE_NAME=n?.commune.name,this.REPPORTS_HEADER.VILLAGE_SECTEUR_NAME=n?.village_secteur.name,this.REPPORTS_HEADER.MONTH=(0,a.$r)(this._formGroup.value.months).map(r=>(0,a.Ab)(r).labelFR).join(","),this.REPPORTS_HEADER.YEAR=this._formGroup.value.year,this.REPPORTS_HEADER.CAN_VISIBLE=!0===(n?.data&&this._formGroup.value.recos.length>0),this.REPPORTS_HEADER.IS_VALIDATED=!0===n?.is_validate,this.REPPORTS_HEADER.IS_ALREADY_ON_DHIS2=!0===n?.already_on_dhis2,this.PROMOTION$=n?.data,n||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.REPPORTS_HEADER.ON_FETCHING=!1},n=>{this.REPPORTS_HEADER.ON_FETCHING=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}sendDataToDhis2(){var e=this;if(this.REPPORTS_HEADER.ON_DHIS2_SENDING=!0,this.PROMOTION$){const n=this._formGroup.value.months,r={year:this._formGroup.value.year,month:Array.isArray(n)?n[0]:n},s=this.dataTransformToDhis2(this.PROMOTION$,r);this.api.SendPromotionActivitiesToDhis2({...this._formGroup.value,dataValues:s}).subscribe(function(){var _=(0,l.A)(function*(C){200==C.status?(e.SHOW_DATA(e._formGroup),e.snackbar.show("Send to DHIS2 successfuly",{backgroundColor:"success",position:"TOP"})):e.snackbar.show("Error when sending data, retry!",{backgroundColor:"warning",position:"TOP"}),e.REPPORTS_HEADER.ON_DHIS2_SENDING=!1});return function(C){return _.apply(this,arguments)}}(),_=>{this.snackbar.show("Error when sending data, retry!",{backgroundColor:"warning",position:"TOP"}),this.REPPORTS_HEADER.ON_DHIS2_SENDING=!1})}else this.snackbar.show("Invalid Data",{backgroundColor:"warning",position:"TOP"})}dataTransformToDhis2(e,n){const r=e.orgUnit??"erdjSX8MtGO",s=n?`${n.year}${n.month}`:`${e.year}${e.month}`;return{dataValues:[{dataElement:"reLr94WLodi",period:s,orgUnit:r,categoryOptionCombo:"mkALVXEOmPV",value:e.malaria_nbr_touched_by_VAD_F},{dataElement:"reLr94WLodi",period:s,orgUnit:r,categoryOptionCombo:"nNLrVZLxiPp",value:e.malaria_nbr_touched_by_CE_F},{dataElement:"reLr94WLodi",period:s,orgUnit:r,categoryOptionCombo:"TSV3DpdA7w9",value:e.malaria_nbr_total_F},{dataElement:"reLr94WLodi",period:s,orgUnit:r,categoryOptionCombo:"eNSkQa5sZHi",value:e.malaria_nbr_touched_by_VAD_M},{dataElement:"reLr94WLodi",period:s,orgUnit:r,categoryOptionCombo:"f3r3iJeHc6u",value:e.malaria_nbr_touched_by_CE_M},{dataElement:"reLr94WLodi",period:s,orgUnit:r,categoryOptionCombo:"PzLTFGsCfaD",value:e.malaria_nbr_total_M},{dataElement:"ZbwvBYb5QIF",period:s,orgUnit:r,categoryOptionCombo:"QJ6Zh1w9Ixo",value:e.vaccination_nbr_touched_by_VAD_F},{dataElement:"ZbwvBYb5QIF",period:s,orgUnit:r,categoryOptionCombo:"FE24CbxVovJ",value:e.vaccination_nbr_touched_by_CE_F},{dataElement:"ZbwvBYb5QIF",period:s,orgUnit:r,categoryOptionCombo:"Lcca81MKeqs",value:e.vaccination_nbr_total_F},{dataElement:"ZbwvBYb5QIF",period:s,orgUnit:r,categoryOptionCombo:"usCbYR0Wy5X",value:e.vaccination_nbr_touched_by_VAD_M},{dataElement:"ZbwvBYb5QIF",period:s,orgUnit:r,categoryOptionCombo:"I6G9oRI644m",value:e.vaccination_nbr_touched_by_CE_M},{dataElement:"ZbwvBYb5QIF",period:s,orgUnit:r,categoryOptionCombo:"kbqK0cKDJmZ",value:e.vaccination_nbr_total_M},{dataElement:"HHtuWuObqJi",period:s,orgUnit:r,categoryOptionCombo:"n7ULwnhPmAr",value:e.child_health_nbr_touched_by_VAD_F},{dataElement:"HHtuWuObqJi",period:s,orgUnit:r,categoryOptionCombo:"aiwbLdNLhzg",value:e.child_health_nbr_touched_by_CE_F},{dataElement:"HHtuWuObqJi",period:s,orgUnit:r,categoryOptionCombo:"pYRwaQnYl5u",value:e.child_health_nbr_total_F},{dataElement:"HHtuWuObqJi",period:s,orgUnit:r,categoryOptionCombo:"vW8kmzUHqwp",value:e.child_health_nbr_touched_by_VAD_M},{dataElement:"HHtuWuObqJi",period:s,orgUnit:r,categoryOptionCombo:"AhtXoBVIobA",value:e.child_health_nbr_touched_by_CE_M},{dataElement:"HHtuWuObqJi",period:s,orgUnit:r,categoryOptionCombo:"T9gCslKL4Ls",value:e.child_health_nbr_total_M},{dataElement:"ChfBVpGkz5M",period:s,orgUnit:r,categoryOptionCombo:"NK69VuTWywA",value:e.cpn_cpon_nbr_touched_by_VAD_F},{dataElement:"ChfBVpGkz5M",period:s,orgUnit:r,categoryOptionCombo:"liQvAH9VUVE",value:e.cpn_cpon_nbr_touched_by_CE_F},{dataElement:"ChfBVpGkz5M",period:s,orgUnit:r,categoryOptionCombo:"nDEFyvuYzdu",value:e.cpn_cpon_nbr_total_F},{dataElement:"ChfBVpGkz5M",period:s,orgUnit:r,categoryOptionCombo:"tILcB42WBVn",value:e.cpn_cpon_nbr_touched_by_VAD_M},{dataElement:"ChfBVpGkz5M",period:s,orgUnit:r,categoryOptionCombo:"iHavRI7a5xI",value:e.cpn_cpon_nbr_touched_by_CE_M},{dataElement:"ChfBVpGkz5M",period:s,orgUnit:r,categoryOptionCombo:"GcCVmDklPK3",value:e.cpn_cpon_nbr_total_M},{dataElement:"OjpoCrL4Tjj",period:s,orgUnit:r,categoryOptionCombo:"G8TURgyVL6d",value:e.family_planning_nbr_touched_by_VAD_F},{dataElement:"OjpoCrL4Tjj",period:s,orgUnit:r,categoryOptionCombo:"vxaeoYOCtoY",value:e.family_planning_nbr_touched_by_CE_F},{dataElement:"OjpoCrL4Tjj",period:s,orgUnit:r,categoryOptionCombo:"ubU9w7O79Lx",value:e.family_planning_nbr_total_F},{dataElement:"OjpoCrL4Tjj",period:s,orgUnit:r,categoryOptionCombo:"Y66GlWSiI1T",value:e.family_planning_nbr_touched_by_VAD_M},{dataElement:"OjpoCrL4Tjj",period:s,orgUnit:r,categoryOptionCombo:"MxvzA5aZkHC",value:e.family_planning_nbr_touched_by_CE_M},{dataElement:"OjpoCrL4Tjj",period:s,orgUnit:r,categoryOptionCombo:"QDWqiGTesvJ",value:e.family_planning_nbr_total_M},{dataElement:"KkmPdIa7V2o",period:s,orgUnit:r,categoryOptionCombo:"vzMCrPXneax",value:e.hygienic_water_sanitation_nbr_touched_by_VAD_F},{dataElement:"KkmPdIa7V2o",period:s,orgUnit:r,categoryOptionCombo:"oVx6d4kyTEu",value:e.hygienic_water_sanitation_nbr_touched_by_CE_F},{dataElement:"KkmPdIa7V2o",period:s,orgUnit:r,categoryOptionCombo:"eaS6K9KtyE1",value:e.hygienic_water_sanitation_nbr_total_F},{dataElement:"KkmPdIa7V2o",period:s,orgUnit:r,categoryOptionCombo:"OOe0cGjJYsh",value:e.hygienic_water_sanitation_nbr_touched_by_VAD_M},{dataElement:"KkmPdIa7V2o",period:s,orgUnit:r,categoryOptionCombo:"DKS0Gy0wi9k",value:e.hygienic_water_sanitation_nbr_touched_by_CE_M},{dataElement:"KkmPdIa7V2o",period:s,orgUnit:r,categoryOptionCombo:"B10GhHIJiz0",value:e.hygienic_water_sanitation_nbr_total_M},{dataElement:"OTn9Yv0V4Hf",period:s,orgUnit:r,categoryOptionCombo:"NoM9m3ccl8q",value:e.other_diseases_nbr_touched_by_VAD_F},{dataElement:"OTn9Yv0V4Hf",period:s,orgUnit:r,categoryOptionCombo:"dGYCxhCzseB",value:e.other_diseases_nbr_touched_by_CE_F},{dataElement:"OTn9Yv0V4Hf",period:s,orgUnit:r,categoryOptionCombo:"PqerZpQPbap",value:e.other_diseases_nbr_total_F},{dataElement:"OTn9Yv0V4Hf",period:s,orgUnit:r,categoryOptionCombo:"IGv6dWZUJPp",value:e.other_diseases_nbr_touched_by_VAD_M},{dataElement:"OTn9Yv0V4Hf",period:s,orgUnit:r,categoryOptionCombo:"Uotr3YNyRpr",value:e.other_diseases_nbr_touched_by_CE_M},{dataElement:"OTn9Yv0V4Hf",period:s,orgUnit:r,categoryOptionCombo:"OGAnbwef45x",value:e.other_diseases_nbr_total_M}]}}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(R.G),t.rXU(E.F),t.rXU(p.i),t.rXU(u.u),t.rXU(m.z))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["promotion"]],hostBindings:function(n,r){1&n&&t.bIt("resize",function(_){return r.onResize(_)},!1,t.tSv)},decls:12,vars:6,consts:[[1,"report-style","row","g-4"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[3,"ON_SHOW_DATA","id","ON_FETCHING"],[1,"table-responsive"],[1,"table","table-bordered","table-hover"],[1,"no-border","center"],[1,"no-border","org-units","center"],["colspan","5",1,"no-border","org-units","center"],[3,"onValidateData","onSendToDhis2","id","REPPORTS_HEADER"],[4,"ngIf"],[1,"table-head"],["scope","col",2,"width","40%!important"],["scope","col",2,"width","10%!important"],["scope","col",2,"width","15%!important"],["scope","col",2,"width","20%!important"],["rowspan","2"],[1,"no-border"],["colspan","5",1,"separation"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"repports-orgunit-selector",3),t.bIt("ON_SHOW_DATA",function(_){return r.SHOW_DATA(_)}),t.k0s(),t.j41(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr",7)(8,"td",8)(9,"repports-header-selector",9),t.bIt("onValidateData",function(){return r.validateData()})("onSendToDhis2",function(){return r.sendDataToDhis2()}),t.k0s()()()(),t.DNE(10,Qt,12,0,"thead",10)(11,qt,143,42,"tbody",10),t.k0s()()()()()),2&n&&(t.R7$(3),t.Y8G("id","pr-repports-orgunit")("ON_FETCHING",!0===r.REPPORTS_HEADER.ON_FETCHING),t.R7$(6),t.Y8G("id","fp-repports-header")("REPPORTS_HEADER",r.REPPORTS_HEADER),t.R7$(),t.Y8G("ngIf",r.PROMOTION$),t.R7$(),t.Y8G("ngIf",r.PROMOTION$))},dependencies:[d.bT,F,f]})}return o})();function Zt(o,i){1&o&&(t.j41(0,"thead")(1,"tr",13)(2,"th",14),t.EFF(3,"N\xb0"),t.k0s(),t.j41(4,"th",15),t.EFF(5,"N\xb0 m\xe9nage"),t.k0s(),t.j41(6,"th",16),t.EFF(7,"Nom M\xe9nage"),t.k0s(),t.j41(8,"th",17),t.EFF(9,"Total membres m\xe9nages"),t.k0s(),t.j41(10,"th",17),t.EFF(11,"Total femmes 15-49 ans"),t.k0s(),t.j41(12,"th",17),t.EFF(13,"Total enfants moins de 5 ans"),t.k0s(),t.j41(14,"th",17),t.EFF(15,"Total enfants de 0-11 mois"),t.k0s(),t.j41(16,"th",17),t.EFF(17,"Total enfants de 12-59 mois"),t.k0s(),t.j41(18,"th",17),t.EFF(19,"Latrine fonctionnelle"),t.k0s(),t.j41(20,"th",17),t.EFF(21,"Acc\xe8s \xe0 l'eau potable"),t.k0s()()())}function te(o,i){if(1&o&&(t.j41(0,"tr")(1,"th",18),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s(),t.j41(17,"td"),t.EFF(18),t.k0s(),t.j41(19,"td"),t.EFF(20),t.k0s()()),2&o){const e=i.$implicit,n=i.index;t.R7$(2),t.JRh(n),t.R7$(2),t.JRh(e.household_code),t.R7$(2),t.JRh(e.household_name),t.R7$(2),t.JRh(e.total_household_members),t.R7$(2),t.JRh(e.total_women_15_50_years),t.R7$(2),t.JRh(e.total_children_under_5_years),t.R7$(2),t.JRh(e.total_children_0_12_months),t.R7$(2),t.JRh(e.total_children_12_60_months),t.R7$(2),t.JRh(!0===e.has_functional_latrine?"OUI":""),t.R7$(2),t.JRh(!0===e.has_drinking_water_access?"OUI":"")}}function ee(o,i){if(1&o&&(t.j41(0,"tr",19)(1,"th",20),t.EFF(2,"TOTAL"),t.k0s(),t.j41(3,"th"),t.EFF(4),t.k0s(),t.j41(5,"th"),t.EFF(6),t.k0s(),t.j41(7,"th"),t.EFF(8),t.k0s(),t.j41(9,"th"),t.EFF(10),t.k0s(),t.j41(11,"th"),t.EFF(12),t.k0s(),t.j41(13,"th"),t.EFF(14),t.k0s(),t.j41(15,"th"),t.EFF(16),t.k0s()()),2&o){const e=i.ngIf;t.R7$(4),t.JRh(e.total_household_members),t.R7$(2),t.JRh(e.total_women_15_50_years),t.R7$(2),t.JRh(e.total_children_under_5_years),t.R7$(2),t.JRh(e.total_children_0_12_months),t.R7$(2),t.JRh(e.total_children_12_60_months),t.R7$(2),t.JRh(e.has_functional_latrine),t.R7$(2),t.JRh(e.has_drinking_water_access)}}let ne=(()=>{class o{constructor(e,n,r,s,_){this.api=e,this.ldbfetch=n,this.userCtx=r,this.auth=s,this.snackbar=_,this.REPPORTS_HEADER={LOGO_TITLE1:void 0,LOGO_TITLE2:void 0,LOGO_TITLE3:void 0,REPPORT_TITLE:"TABLEAU RECAPITULATIF DES MENAGES",REPPORT_SUBTITLE:void 0,HEALTH_CENTER_NAME:void 0,RECO_ASC_PHONE:void 0},this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4}onResize(e){this.screenWidth=window.innerWidth}validateData(){var e=this;this.REPPORTS_HEADER.ON_VALIDATION=!0;const n=this.HOUSE_HOLD_RECAP$?.map(r=>r.id)??[];this.api.ValidateHouseholdRecapReports({...this._formGroup.value,dataIds:n}).subscribe(function(){var r=(0,l.A)(function*(s){200==s.status&&(e.SHOW_DATA(e._formGroup),e.snackbar.show("Validate successfuly",{backgroundColor:"success",position:"TOP"})),e.REPPORTS_HEADER.ON_VALIDATION=!1});return function(s){return r.apply(this,arguments)}}(),r=>{this.REPPORTS_HEADER.ON_VALIDATION=!1})}SHOW_DATA(e){this._formGroup=e,this._formGroup.value.recos.length>0?(0,a.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.REPPORTS_HEADER.ON_FETCHING=!0,this._formGroup.value.months=(0,a.$r)(this._formGroup.value.months),this.ldbfetch.GetHouseholdRecapReports(this._formGroup.value).then(n=>{this.REPPORTS_HEADER.REGION_NAME=n?.out.region.name,this.REPPORTS_HEADER.RECO_ASC_TYPE=n?.out.reco_asc_type,this.REPPORTS_HEADER.RECO_ASC_NAME="RECO"===n?.out.reco_asc_type?n?.out.reco?.name:n?.out.chw.name,this.REPPORTS_HEADER.PREFECTURE_NAME=n?.out.prefecture.name,this.REPPORTS_HEADER.COMMUNE_NAME=n?.out.commune.name,this.REPPORTS_HEADER.DISTRICT_QUARTIER_NAME=n?.out.district_quartier.name,this.REPPORTS_HEADER.VILLAGE_SECTEUR_NAME=n?.out.village_secteur.name,this.REPPORTS_HEADER.MONTH=(0,a.Ab)(this._formGroup.value.month).labelFR,this.REPPORTS_HEADER.YEAR=this._formGroup.value.year,this.REPPORTS_HEADER.CAN_VISIBLE=!0===(n?.out.data&&this._formGroup.value.recos.length>0),this.REPPORTS_HEADER.IS_VALIDATED=!0===n?.out.is_validate,this.REPPORTS_HEADER.IS_ALREADY_ON_DHIS2=!0===n?.out.already_on_dhis2,this.HOUSE_HOLD_RECAP$=n?.out.data,this.HOUSE_HOLD_RECAP_TOTAL$=n?.total,n||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.REPPORTS_HEADER.ON_FETCHING=!1},n=>{this.REPPORTS_HEADER.ON_FETCHING=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}sendDataToDhis2(){if(this.REPPORTS_HEADER.ON_DHIS2_SENDING=!0,this.HOUSE_HOLD_RECAP$){const e=this._formGroup.value.months,n={year:this._formGroup.value.year,month:Array.isArray(e)?e[0]:e};this.dataTransformToDhis2(this.HOUSE_HOLD_RECAP$[0],n)}else this.snackbar.show("Invalid Data",{backgroundColor:"warning",position:"TOP"})}dataTransformToDhis2(e,n){return{dataValues:[{dataElement:"reLr94WLodi",period:n?`${n.year}${n.month}`:`${e.year}${e.month}`,orgUnit:e.orgUnit??"erdjSX8MtGO",categoryOptionCombo:"mkALVXEOmPV",value:0}]}}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(R.G),t.rXU(E.F),t.rXU(p.i),t.rXU(u.u),t.rXU(m.z))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["chws-reco"]],hostBindings:function(n,r){1&n&&t.bIt("resize",function(_){return r.onResize(_)},!1,t.tSv)},decls:15,vars:7,consts:[[1,"report-style","row","g-4"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[3,"ON_SHOW_DATA","id","ON_FETCHING"],[1,"table-responsive"],[1,"table","table-bordered","table-hover"],[1,"no-border","center"],[1,"no-border","org-units","center"],["colspan","9",1,"no-border","org-units","center"],[3,"onValidateData","onSendToDhis2","id","REPPORTS_HEADER"],[4,"ngIf"],[4,"ngFor","ngForOf"],["style","color: rgb(94, 94, 94);",4,"ngIf"],[1,"table-head"],["scope","col",2,"width","2%"],["scope","col",2,"width","2.5%"],["scope","col"],["scope","col",2,"width","9%"],["scope","row"],[2,"color","rgb(94, 94, 94)"],["colspan","3","scope","row"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"repports-orgunit-selector",3),t.bIt("ON_SHOW_DATA",function(_){return r.SHOW_DATA(_)}),t.k0s(),t.j41(4,"div",4)(5,"table",5)(6,"thead",6)(7,"tr",7)(8,"td",8)(9,"repports-header-selector",9),t.bIt("onValidateData",function(){return r.validateData()})("onSendToDhis2",function(){return r.sendDataToDhis2()}),t.k0s()()()(),t.DNE(10,Zt,22,0,"thead",10),t.j41(11,"tbody"),t.DNE(12,te,21,10,"tr",11),t.k0s(),t.j41(13,"tfoot"),t.DNE(14,ee,17,7,"tr",12),t.k0s()()()()()()),2&n&&(t.R7$(3),t.Y8G("id","hh-repports-orgunit")("ON_FETCHING",!0===r.REPPORTS_HEADER.ON_FETCHING),t.R7$(6),t.Y8G("id","fp-repports-header")("REPPORTS_HEADER",r.REPPORTS_HEADER),t.R7$(),t.Y8G("ngIf",r.HOUSE_HOLD_RECAP$),t.R7$(2),t.Y8G("ngForOf",r.HOUSE_HOLD_RECAP$),t.R7$(2),t.Y8G("ngIf",r.HOUSE_HOLD_RECAP_TOTAL$))},dependencies:[d.Sq,d.bT,F,f]})}return o})();var k=c(3111);const oe=[{path:"",redirectTo:"pcime",pathMatch:"full"},{path:"family-planning",component:wt,canActivate:[k.d],data:{href:"reports/family-planning",title:"PLANIFICATION FAMILIALE"}},{path:"morbidity",component:Wt,canActivate:[k.d],data:{href:"reports/morbidity",title:"MORBIDIT\xc9 PALUDISME"}},{path:"pcimne",component:zt,canActivate:[k.d],data:{href:"reports/pcimne",title:"RAPPORT PCIMNE"}},{path:"promotion",component:Kt,canActivate:[k.d],data:{href:"reports/promotion",title:"PROMOTIONS"}},{path:"chw-reco-activity",component:Gt,canActivate:[k.d],data:{href:"reports/chw-reco-activity",title:"RAPPORT MENSUEL D'ACTIVIT\xc9"}},{path:"household-recap",component:ne,canActivate:[k.d],data:{href:"reports/household-recap",title:"TABLEAU RECAPITULATIF DES MENAGES"}}];let re=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.$C({type:o});static#n=this.\u0275inj=t.G2t({imports:[j.iI.forChild(oe),j.iI]})}return o})();var ie=c(5961);let se=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.$C({type:o});static#n=this.\u0275inj=t.G2t({imports:[d.MD,h.X1,re,ie.G]})}return o})()}}]);