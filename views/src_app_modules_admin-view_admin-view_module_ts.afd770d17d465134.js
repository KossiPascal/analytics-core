"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([["src_app_modules_admin-view_admin-view_module_ts"],{3111:(X,x,g)=>{g.d(x,{d:()=>P});var C=g(3308),l=g(6104),F=g(6769),N=g(6098),p=g(8394),t=g(8175),f=g(6167),B=g(4796);let P=(()=>{class D{constructor(k,w,_,y,S){this.titleService=k,this.constants=w,this.router=_,this.userContext=y,this.authService=S,this.destroy$=new l.B}canActivate(k,w){var _=this;return(0,C.A)(function*(){const y=yield _.userContext.currentUser();if(!_.userContext.isLoggedIn()||!y)return _.authService.logout(),!1;const S=k.data?.access??[],O=k.data?.title||_.constants.APP_TITLE,G=new Set;for(const L of y.routes??[])for(const I of L.authorizations??[])G.add(I);return!0===y.role?.isSuperUser||_.hasAnyMatch(G,S)?(_.titleService.setTitle(O),!0):(_.router.navigate(["/errors/unauthorized"]),!1)})()}hasAnyMatch(k,w){return w.some(_=>k.has(_))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(w){return new(w||D)(F.KVO(N.hE),F.KVO(p.D),F.KVO(t.t),F.KVO(f.i),F.KVO(B.u))}}static{this.\u0275prov=F.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},6462:(X,x,g)=>{g.r(x),g.d(x,{AdminViewModule:()=>gt});var C=g(4765),l=g(8832),F=g(6651),N=g(3111),p=g(3691),t=g(6769),f=g(3308),B=g(4796),P=g(3366);function D(r,s){if(1&r){const e=t.RV6();t.j41(0,"tbody")(1,"tr")(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td")(9,"i",39),t.bIt("click",function(){const n=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.EditApi(n))}),t.k0s()(),t.j41(10,"td")(11,"i",40),t.bIt("click",function(){const n=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.ApiSelected(n))}),t.k0s()()()()}if(2&r){const e=s.$implicit;t.R7$(3),t.JRh(e.id),t.R7$(2),t.JRh(e.token),t.R7$(2),t.JRh(e.isActive?"OK":"NO ACCESS")}}function K(r,s){if(1&r&&(t.j41(0,"p",36)(1,"strong"),t.EFF(2),t.k0s()()),2&r){const e=t.XpG();t.R7$(2),t.JRh(e.message)}}function k(r,s){1&r&&(t.j41(0,"h1"),t.EFF(1,"Token"),t.k0s())}let w=(()=>{class r{constructor(e,i){this.auth=e,this.api=i,this.apis$=[],this.isLoading=!1,this.LoadingMsg="Loading...",this.isEditMode=!1,this.message="",this.tokenLenght=0,this.defaultTokenLenght=30}ngOnInit(){this.GetApis(),this.apiForm=this.createFormGroup()}generateTokenLenght(e){const i=e.target;i&&(this.tokenLenght=(i.value??"").length)}GetApis(){var e=this;this.api.ApiTokenAccessAction({action:"list"}).subscribe(function(){var i=(0,f.A)(function*(n){200==n.status&&(e.apis$=n.data)});return function(n){return i.apply(this,arguments)}}(),i=>{})}EditApi(e){this.isEditMode=!0,this.apiForm=this.createFormGroup(e),this.ApiSelected(e)}ApiSelected(e){this.selectedApi=e,this.message=""}DeleteApi(){this.isEditMode=!1,this.selectedApi&&this.api.ApiTokenAccessAction({action:"list",id:this.selectedApi.id}).subscribe(e=>{200===e.status?(this.showModalToast("success","Supprim\xe9 avec success"),this.GetApis(),this.selectedApi=null,this.isLoading=!1,this.message=""):this.message=e.data,console.log(this.message)},e=>{this.message=e,this.isLoading=!1,console.log(this.message)})}CreateApi(){this.isEditMode=!1,this.apiForm=this.createFormGroup(),this.selectedApi=null,this.message=""}createFormGroup(e){const i={token:new l.MJ(null!=e?e.token:"",[l.k0.required,l.k0.minLength(this.defaultTokenLenght),l.k0.maxLength(this.defaultTokenLenght)]),isActive:new l.MJ(null!=e&&e.isActive)};return new l.gE(i)}showModalToast(e,i){showToast(e,i),this.closeModal("close-delete-modal")}closeModal(e="close-modal"){$("#"+e).trigger("click")}CreateOrUpdateApi(){var e;if(this.isEditMode?this.selectedApi&&(e=this.api.ApiTokenAccessAction({action:"update",id:this.selectedApi.id,token:this.apiForm.value.token,isActive:this.apiForm.value.isActive})):e=this.api.ApiTokenAccessAction({action:"create",token:this.apiForm.value.token,isActive:this.apiForm.value.isActive}),e)return e.subscribe(i=>{200===i.status?(this.message="Registed successfully !",this.closeModal(),this.GetApis(),this.selectedApi=null,this.message=""):this.message=i.data,console.log(this.message),this.isLoading=!1},i=>{this.isLoading=!1})}static{this.\u0275fac=function(i){return new(i||r)(t.rXU(B.u),t.rXU(P.G))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-admin-api"]],standalone:!1,decls:76,vars:17,consts:[[1,"page-title","card","card-primary","card-outline"],[1,"card-body"],[1,"fas","fa-user",2,"float","left"],["type","button","data-toggle","modal","data-target","#modal-default",1,"btn","btn-default",2,"float","right",3,"click"],[1,"page-content-wrap"],[1,"row"],[1,"col-md-12"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"panel-body"],[1,"table","datatable"],["colspan","2"],[4,"ngFor","ngForOf"],["id","modal-default",1,"modal","fade"],[1,"modal-dialog"],["novalidate","",1,"form-horizontal",3,"ngSubmit","formGroup"],[1,"modal-content"],[1,"modal-header"],[1,"login-box-msg",2,"text-align","center"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"modal-body"],["class","login-box-msg",4,"ngIf"],[4,"ngIf"],[1,"input-group","mb-3"],["id","api-token","id","token","type","text","placeholder","Token","formControlName","token",1,"form-control",3,"input","maxlength"],[1,"col-6"],[1,"icheck-primary"],["type","checkbox","id","isActive","formControlName","isActive"],["for","isActive"],[1,"modal-footer","justify-content-between"],["id","close-modal","type","button","data-dismiss","modal",1,"btn","btn-default"],["type","submit",3,"disabled"],["id","modal-danger",1,"modal","fade"],[1,"modal-content","bg-danger"],[1,"modal-title"],["id","close-delete-modal","type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"login-box-msg"],["type","button","data-dismiss","modal",1,"btn","btn-default"],["type","button",1,"btn","btn-danger","swalDefaultSuccess",3,"click"],["data-toggle","modal","data-target","#modal-default",1,"btn-warning","fas","fa-edit",3,"click"],["data-toggle","modal","data-target","#modal-danger",1,"btn-danger","fas","fa-trash-alt",3,"click"]],template:function(i,n){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.EFF(3," API List"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return n.CreateApi()}),t.EFF(5," Add API "),t.k0s()()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),t.nrm(10,"div",8),t.j41(11,"div",9)(12,"table",10)(13,"thead")(14,"tr")(15,"th"),t.EFF(16,"id"),t.k0s(),t.j41(17,"th"),t.EFF(18,"Token"),t.k0s(),t.j41(19,"th"),t.EFF(20,"IsActive"),t.k0s(),t.j41(21,"th",11),t.EFF(22,"Actions"),t.k0s()()(),t.DNE(23,D,12,3,"tbody",12),t.k0s()()()()()(),t.j41(24,"div",13)(25,"div",14)(26,"form",15),t.bIt("ngSubmit",function(){return n.CreateOrUpdateApi()}),t.j41(27,"div",16)(28,"div",17)(29,"strong",18)(30,"span"),t.EFF(31),t.k0s()(),t.j41(32,"button",19)(33,"span"),t.EFF(34,"\xd7"),t.k0s()()(),t.j41(35,"div",20),t.DNE(36,K,3,1,"p",21)(37,k,2,0,"h1",22),t.j41(38,"div",23)(39,"input",24),t.bIt("input",function(a){return n.generateTokenLenght(a)}),t.k0s()(),t.j41(40,"p"),t.EFF(41),t.j41(42,"strong"),t.EFF(43),t.k0s()(),t.nrm(44,"br"),t.j41(45,"div",5)(46,"div",25)(47,"div",23)(48,"div",26),t.nrm(49,"input",27),t.j41(50,"label",28),t.EFF(51,"Activer"),t.k0s()()()()()(),t.j41(52,"div",29)(53,"button",30),t.EFF(54,"Close"),t.k0s(),t.j41(55,"button",31),t.EFF(56),t.k0s()()()()()(),t.j41(57,"div",32)(58,"div",14)(59,"div",33)(60,"div",17)(61,"h4",34),t.EFF(62,"Suppression d'utilisateur"),t.k0s(),t.j41(63,"button",35)(64,"span"),t.EFF(65,"\xd7"),t.k0s()()(),t.j41(66,"div",20),t.EFF(67," Cette action est ir\xe9versible! \xcates vous s\xfbr de proc\xe9der \xe0 la suppression ? "),t.j41(68,"p",36)(69,"strong"),t.EFF(70),t.k0s()()(),t.j41(71,"div",29)(72,"button",37),t.EFF(73,"Annuler"),t.k0s(),t.j41(74,"button",38),t.bIt("click",function(){return n.DeleteApi()}),t.EFF(75,"Oui Supprimer !"),t.k0s()()()()()),2&i&&(t.R7$(23),t.Y8G("ngForOf",n.apis$),t.R7$(3),t.Y8G("formGroup",n.apiForm),t.R7$(4),t.ZvI(" btn-",n.isEditMode?"warning":"success",""),t.R7$(),t.SpI(" ",n.isEditMode?"Modifier un utilisateur":"Ajouter un utilisateur",""),t.R7$(5),t.Y8G("ngIf",""!=n.message),t.R7$(),t.Y8G("ngIf",n.isEditMode),t.R7$(2),t.Y8G("maxlength",n.defaultTokenLenght),t.R7$(2),t.SpI("",n.tokenLenght," / "),t.R7$(2),t.JRh(n.defaultTokenLenght),t.R7$(12),t.ZvI("btn btn-",n.isEditMode?"warning":"success",""),t.Y8G("disabled",!n.apiForm.valid),t.R7$(),t.SpI("",n.isEditMode?"Modifier":"Sauvegarder"," "),t.R7$(14),t.JRh(n.message))},dependencies:[C.G,C.I,l.qT,l.me,l.Zm,l.BC,l.cb,l.tU,l.j4,l.JD],encapsulation:2})}}return r})();var _=g(8175);let y=(()=>{class r{constructor(e){this.router=e}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||r)(t.rXU(_.t))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-admin-database"]],standalone:!1,decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return r})();function S(r,s){if(1&r&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&r){const e=s.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function O(r,s){if(1&r&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&r){const e=s.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function G(r,s){if(1&r&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&r){const e=s.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Q(r,s){if(1&r&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&r){const e=s.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function L(r,s){if(1&r&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&r){const e=s.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function I(r,s){if(1&r&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&r){const e=s.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Z(r,s){if(1&r&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&r){const e=s.$implicit;t.FS9("value",e),t.R7$(),t.SpI(" ",e.toUpperCase()," ")}}function J(r,s){if(1&r&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&r){const e=s.$implicit;t.FS9("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function z(r,s){1&r&&t.nrm(0,"i",32)}function tt(r,s){if(1&r){const e=t.RV6();t.j41(0,"tbody")(1,"tr")(2,"th")(3,"input",33),t.bIt("click",function(){const n=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.AddOrRemoveData(n))}),t.k0s()(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s()()()}if(2&r){let e;const i=s.$implicit,n=t.XpG();t.R7$(3),t.Y8G("checked",n.containsData(i)),t.R7$(2),t.JRh(i.id),t.R7$(2),t.JRh(i.rev),t.R7$(2),t.JRh(null!==(e=i.form)&&void 0!==e?e:i.name),t.R7$(2),t.JRh(i.user)}}let et=(()=>{class r{constructor(e){this.api=e,this.responseMsg="",this.foundedDataToDelete=[],this.selectedListToBeDelete=[],this.Countries$=[],this.Regions$=[],this.Prefectures$=[],this.Communes$=[],this.Hospitals$=[],this.DistrictQuartiers$=[],this.VillageSecteurs$=[],this.Families$=[],this.Chws$=[],this.Recos$=[],this.Patients$=[],this.regions$=[],this.prefectures$=[],this.communes$=[],this.hospitals$=[],this.districtQuartiers$=[],this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this.cibles$=[],this.types$=["reco-data","patients","families","chws-data","mentors-data","dashboards","reports"],this.constMsg="Loading...",this.initMsg=this.constMsg}dataListToDeleteFilterFormGroup(){return new l.gE({start_date:new l.MJ("",[l.k0.required,l.k0.minLength(7)]),end_date:new l.MJ("",[l.k0.required,l.k0.minLength(7)]),countries:new l.MJ([],[l.k0.required]),regions:new l.MJ([],[l.k0.required]),prefectures:new l.MJ([],[l.k0.required]),communes:new l.MJ([],[l.k0.required]),hospitals:new l.MJ([],[l.k0.required]),district_quartiers:new l.MJ([],[l.k0.required]),cible:new l.MJ("",[l.k0.required]),type:new l.MJ("",[l.k0.required])})}ngOnInit(){this._formGroup=this.dataListToDeleteFilterFormGroup(),this.initAllData()}initAllData(){var e=this;return(0,f.A)(function*(){e.isLoading=!0,e.initMsg="Chargement des Pays ...",e.api.GetCountries().subscribe(function(){var i=(0,f.A)(function*(n){200==n.status&&(e.Countries$=n.data),e.initMsg="Chargement des Regions ...",e.api.GetRegions().subscribe(function(){var o=(0,f.A)(function*(a){200==a.status&&(e.Regions$=a.data),e.initMsg="Chargement des Prefectures ...",e.api.GetPrefectures().subscribe(function(){var h=(0,f.A)(function*(c){200==c.status&&(e.Prefectures$=c.data),e.initMsg="Chargement des Communes ...",e.api.GetCommunes().subscribe(function(){var u=(0,f.A)(function*(d){200==d.status&&(e.Communes$=d.data),e.initMsg="Chargement des Hospitaux ...",e.api.GetHospitals().subscribe(function(){var m=(0,f.A)(function*(v){200==v.status&&(e.Hospitals$=v.data),e.initMsg="Chargement des Districts/Quartiers ...",e.api.GetDistrictQuartiers().subscribe(function(){var b=(0,f.A)(function*(A){200==A.status&&(e.DistrictQuartiers$=A.data),e.initMsg="Chargement des Villages/Secteurs ...",e.api.GetVillageSecteurs().subscribe(function(){var E=(0,f.A)(function*(T){200==T.status&&(e.VillageSecteurs$=T.data),e.initMsg="Chargement des Familles ...",e.api.GetFamilys().subscribe(function(){var R=(0,f.A)(function*(Y){200==Y.status&&(e.Families$=Y.data),e.initMsg="Chargement des ASC ...",e.api.GetChws().subscribe(function(){var W=(0,f.A)(function*(V){200==V.status&&(e.Chws$=V.data),e.initMsg="Chargement des Reco ...",e.api.GetRecos().subscribe(function(){var H=(0,f.A)(function*(q){200==q.status&&(e.Recos$=q.data),e.isLoading=!1});return function(q){return H.apply(this,arguments)}}(),H=>{e.isLoading=!1,console.log(H.error)})});return function(V){return W.apply(this,arguments)}}(),W=>{e.isLoading=!1,console.log(W.error)})});return function(Y){return R.apply(this,arguments)}}(),R=>{e.isLoading=!1,console.log(R.error)})});return function(T){return E.apply(this,arguments)}}(),E=>{e.isLoading=!1,console.log(E.error)})});return function(A){return b.apply(this,arguments)}}(),b=>{e.isLoading=!1,console.log(b.error)})});return function(v){return m.apply(this,arguments)}}(),m=>{e.isLoading=!1,console.log(m.error)})});return function(d){return u.apply(this,arguments)}}(),u=>{e.isLoading=!1,console.log(u.error)})});return function(c){return h.apply(this,arguments)}}(),h=>{e.isLoading=!1,console.log(h.error)})});return function(a){return o.apply(this,arguments)}}(),o=>{e.isLoading=!1,console.log(o.error)})});return function(n){return i.apply(this,arguments)}}(),i=>{e.isLoading=!1,console.log(i.error)})})()}SelectAllData(){this.selectedListToBeDelete=this.selectedListToBeDelete.length==this.foundedDataToDelete.length?[]:this.foundedDataToDelete.map(e=>({_deleted:!0,_id:e.id,_rev:e.rev,_table:e.table}))}containsData(e){return null!=this.selectedListToBeDelete.find(n=>n._id===e.id)}AddOrRemoveData(e){const[i,n]=(()=>{let o=-1;return[this.selectedListToBeDelete.find((h,c)=>h._id===e.id&&(o=c,!0)),o]})();-1!==n?this.selectedListToBeDelete.splice(n,1):this.selectedListToBeDelete.push({_deleted:!0,_id:e.id,_rev:e.rev,_table:e.table})}getListOfDataToDeleteFromCouchDb(){var e=this;this.initMsg=this.constMsg,this.isLoading=!0,this.foundedDataToDelete=[],this.selectedListToBeDelete=[],this.responseMsg="";const i=(0,p.$r)(this._formGroup.value.cible);var n=[];["reco-data","patients","families"].includes(this._formGroup.value.type)&&(n=this.VillageSecteurs$.filter(a=>i.includes(a.district_quartier_id)).map(a=>a.id));const o={cible:[...i,...n],type:this._formGroup.value.type,start_date:this._formGroup.value.start_date,end_date:this._formGroup.value.end_date};this.api.GetDataToDeleteFromCouchDb(o).subscribe(function(){var a=(0,f.A)(function*(h){console.log(h),200==h.status?e.foundedDataToDelete=h.data.reduce((c,u)=>(u&&!c.find(d=>d.id===u.id)&&c.push(u),c),[]):e.responseMsg=h.data,e.isLoading=!1});return function(h){return a.apply(this,arguments)}}(),a=>{console.log(a.error),this.isLoading=!1,this.responseMsg=a.toString()})}deleteSelectedDataFromCouchDb(){var e=this;this.initMsg=this.constMsg,this.responseMsg="",this.selectedListToBeDelete.length>0?this.api.deleteDataFromCouchDb(this.selectedListToBeDelete,this._formGroup.value.type).subscribe(function(){var i=(0,f.A)(function*(n){200==n.status?(e.responseMsg="Done successfuly !",e.foundedDataToDelete=[],e.selectedListToBeDelete=[]):e.responseMsg="Problem with query, retry!"});return function(n){return i.apply(this,arguments)}}(),i=>{console.log(i),this.responseMsg="Error found when deleting ..."}):this.responseMsg="Not data provied!"}ParamsToFilter(){const e=this._formGroup.value;return{start_date:e.start_date,end_date:e.end_date,countries:(0,p.$r)(e.countries),regions:(0,p.$r)(e.regions),prefectures:(0,p.$r)(e.prefectures),communes:(0,p.$r)(e.communes),hospitals:(0,p.$r)(e.hospitals),district_quartiers:(0,p.$r)(e.district_quartiers),village_secteurs:(0,p.$r)(e.village_secteurs),families:(0,p.$r)(e.families),chws:(0,p.$r)(e.chws),recos:(0,p.$r)(e.recos),patients:(0,p.$r)(e.patients),type:e.type}}genarateRegions(){this.regions$=[],this.prefectures$=[],this.communes$=[],this.hospitals$=[],this.districtQuartiers$=[],this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._formGroup.value.regions=[],this._formGroup.value.prefectures=[],this._formGroup.value.communes=[],this._formGroup.value.hospitals=[],this._formGroup.value.district_quartiers=[],this._formGroup.value.village_secteurs=[],this._formGroup.value.families=[],this._formGroup.value.chws=[],this._formGroup.value.recos=[],this._formGroup.value.patients=[];const e=this.Countries$.map(i=>i.id);this.regions$=this.Regions$.filter(i=>e.includes(i.country_id))}genaratePrefectures(){this.prefectures$=[],this.communes$=[],this.hospitals$=[],this.districtQuartiers$=[],this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._formGroup.value.prefectures=[],this._formGroup.value.communes=[],this._formGroup.value.hospitals=[],this._formGroup.value.district_quartiers=[],this._formGroup.value.village_secteurs=[],this._formGroup.value.families=[],this._formGroup.value.chws=[],this._formGroup.value.recos=[],this._formGroup.value.patients=[];const e=(0,p.$r)(this._formGroup.value.regions);this.prefectures$=this.Prefectures$.filter(i=>e.includes(i.region_id))}genarateCommunes(){this.communes$=[],this.hospitals$=[],this.districtQuartiers$=[],this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._formGroup.value.communes=[],this._formGroup.value.hospitals=[],this._formGroup.value.district_quartiers=[],this._formGroup.value.village_secteurs=[],this._formGroup.value.families=[],this._formGroup.value.chws=[],this._formGroup.value.recos=[],this._formGroup.value.patients=[];const e=(0,p.$r)(this._formGroup.value.prefectures);this.communes$=this.Communes$.filter(i=>e.includes(i.prefecture_id))}genarateHospitals(){this.hospitals$=[],this.districtQuartiers$=[],this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._formGroup.value.hospitals=[],this._formGroup.value.district_quartiers=[],this._formGroup.value.village_secteurs=[],this._formGroup.value.families=[],this._formGroup.value.chws=[],this._formGroup.value.recos=[],this._formGroup.value.patients=[];const e=(0,p.$r)(this._formGroup.value.communes);this.hospitals$=this.Hospitals$.filter(i=>e.includes(i.commune_id))}genarateDistrictQuartiers(){this.districtQuartiers$=[],this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._formGroup.value.district_quartiers=[],this._formGroup.value.village_secteurs=[],this._formGroup.value.families=[],this._formGroup.value.chws=[],this._formGroup.value.recos=[],this._formGroup.value.patients=[];const e=(0,p.$r)(this._formGroup.value.hospitals);this.districtQuartiers$=this.DistrictQuartiers$.filter(i=>e.includes(i.hospital_id))}genarateChws(){this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._formGroup.value.village_secteurs=[],this._formGroup.value.families=[],this._formGroup.value.chws=[],this._formGroup.value.recos=[],this._formGroup.value.patients=[];const e=(0,p.$r)(this._formGroup.value.district_quartiers);this.chws$=this.Chws$.filter(i=>e.includes(i.district_quartier_id))}genarateVillageSecteurs(){this.villageSecteurs$=[],this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._formGroup.value.village_secteurs=[],this._formGroup.value.families=[],this._formGroup.value.chws=[],this._formGroup.value.recos=[],this._formGroup.value.patients=[];const e=(0,p.$r)(this._formGroup.value.district_quartiers);this.villageSecteurs$=this.VillageSecteurs$.filter(i=>e.includes(i.district_quartier_id))}genarateRecos(){this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._formGroup.value.families=[],this._formGroup.value.chws=[],this._formGroup.value.recos=[],this._formGroup.value.patients=[];const e=(0,p.$r)(this._formGroup.value.village_secteurs);this.recos$=this.Recos$.filter(i=>e.includes(i.village_secteur_id))}genarateFamilies(){this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this._formGroup.value.families=[],this._formGroup.value.chws=[],this._formGroup.value.recos=[],this._formGroup.value.patients=[];const e=(0,p.$r)(this._formGroup.value.village_secteurs);this.families$=this.Families$.filter(i=>e.includes(i.village_secteur.id))}genaratePatients({}){this.chws$=[],this.recos$=[],this.patients$=[],this._formGroup.value.families=[],this._formGroup.value.chws=[],this._formGroup.value.recos=[],this._formGroup.value.patients=[];const n=(0,p.$r)(this._formGroup.value.families);this.patients$=this.Patients$.filter(o=>n.includes(o.family.id))}generateCible(){if(this.families$=[],this.chws$=[],this.recos$=[],this.patients$=[],this.villageSecteurs$=[],this._formGroup.value.village_secteurs="",this._formGroup.value.families="",this._formGroup.value.chws="",this._formGroup.value.recos="",this._formGroup.value.patients="",["reco-data","patients","families"].includes(this._formGroup.value.type)){const e=(0,p.$r)(this._formGroup.value.district_quartiers);this.cibles$=this.Recos$.filter(i=>e.includes(i.district_quartier_id))}else if("chws-data"===this._formGroup.value.type){const e=(0,p.$r)(this._formGroup.value.district_quartiers);this.cibles$=this.Chws$.filter(i=>e.includes(i.district_quartier_id))}else if("mentors-data"!==this._formGroup.value.type&&["dashboards","reports"].includes(this._formGroup.value.type)){const e=(0,p.$r)(this._formGroup.value.district_quartiers);this.cibles$=this.Recos$.filter(i=>e.includes(i.district_quartier_id))}}static{this.\u0275fac=function(i){return new(i||r)(t.rXU(P.G))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-admin-delete-couchdb"]],standalone:!1,decls:104,vars:15,consts:[[2,"color","red"],[1,"content-header"],[1,"container-fluid"],[1,"card","card-info"],[1,"overlay-wrapper"],[1,"card-header"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-sm-3","col-6"],[1,"form-group"],["type","date","formControlName","start_date",1,"form-control",2,"background-color","whitesmoke"],["type","date","formControlName","end_date",1,"form-control",2,"background-color","whitesmoke"],["multiple","","formControlName","countries",1,"form-control",2,"background-color","whitesmoke",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["multiple","","formControlName","regions",1,"form-control",2,"background-color","whitesmoke",3,"change"],["multiple","","formControlName","prefectures",1,"form-control",2,"background-color","whitesmoke",3,"change"],["multiple","","formControlName","communes",1,"form-control",2,"background-color","whitesmoke",3,"change"],["multiple","","formControlName","hospitals",1,"form-control",2,"background-color","whitesmoke",3,"change"],["multiple","","formControlName","district_quartiers",1,"form-control",2,"background-color","whitesmoke",3,"change"],["formControlName","type",1,"form-control",2,"background-color","whitesmoke",3,"change"],["multiple","","formControlName","cible",1,"form-control",2,"background-color","whitesmoke"],["type","submit",1,"btn","btn-warning","form-control",3,"disabled"],["style","margin-left: 10px;","class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"panel-body",2,"margin-top","30px"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"table","datatable"],["type","checkbox","name","","id","",2,"zoom","1.5",3,"click","checked"],[4,"ngFor","ngForOf"],[3,"value"],[1,"fas","fa-1x","fa-sync-alt","fa-spin",2,"margin-left","10px"],["type","checkbox","name","","id","",2,"zoom","1.1",3,"click","checked"]],template:function(i,n){1&i&&(t.j41(0,"h1",0),t.EFF(1),t.k0s(),t.j41(2,"section",1)(3,"div",2)(4,"h2"),t.EFF(5,"Delete Chws Data From Couch Database (Tonoudayo App)"),t.k0s(),t.j41(6,"div",3)(7,"div",4)(8,"div",5)(9,"form",6),t.bIt("ngSubmit",function(){return n.getListOfDataToDeleteFromCouchDb()}),t.j41(10,"div",7)(11,"div",8)(12,"div",9)(13,"label"),t.EFF(14,"Date D\xe9but"),t.k0s(),t.nrm(15,"input",10),t.k0s()(),t.j41(16,"div",8)(17,"div",9)(18,"label"),t.EFF(19,"Date Fin"),t.k0s(),t.nrm(20,"input",11),t.k0s()(),t.j41(21,"div",8)(22,"div",9)(23,"label"),t.EFF(24,"Country"),t.k0s(),t.j41(25,"select",12),t.bIt("change",function(){return n.genarateRegions()}),t.nrm(26,"option",13),t.DNE(27,S,2,2,"option",14),t.k0s()()(),t.j41(28,"div",8)(29,"div",9)(30,"label"),t.EFF(31,"Region"),t.k0s(),t.j41(32,"select",15),t.bIt("change",function(){return n.genaratePrefectures()}),t.nrm(33,"option",13),t.DNE(34,O,2,2,"option",14),t.k0s()()(),t.j41(35,"div",8)(36,"div",9)(37,"label"),t.EFF(38,"Prefecture"),t.k0s(),t.j41(39,"select",16),t.bIt("change",function(){return n.genarateCommunes()}),t.nrm(40,"option",13),t.DNE(41,G,2,2,"option",14),t.k0s()()(),t.j41(42,"div",8)(43,"div",9)(44,"label"),t.EFF(45,"Commune"),t.k0s(),t.j41(46,"select",17),t.bIt("change",function(){return n.genarateHospitals()}),t.nrm(47,"option",13),t.DNE(48,Q,2,2,"option",14),t.k0s()()(),t.j41(49,"div",8)(50,"div",9)(51,"label"),t.EFF(52,"Hospital"),t.k0s(),t.j41(53,"select",18),t.bIt("change",function(){return n.genarateDistrictQuartiers()}),t.nrm(54,"option",13),t.DNE(55,L,2,2,"option",14),t.k0s()()(),t.j41(56,"div",8)(57,"div",9)(58,"label"),t.EFF(59,"District/Quartier"),t.k0s(),t.j41(60,"select",19),t.bIt("change",function(){return n.generateCible()}),t.nrm(61,"option",13),t.DNE(62,I,2,2,"option",14),t.k0s()()(),t.j41(63,"div",8)(64,"div",9)(65,"label"),t.EFF(66,"Type"),t.k0s(),t.j41(67,"select",20),t.bIt("change",function(){return n.generateCible()}),t.nrm(68,"option",13),t.DNE(69,Z,2,2,"option",14),t.k0s()()(),t.j41(70,"div",8)(71,"div",9)(72,"label"),t.EFF(73,"Reco/ASC/CountryMger/RegionMger/PrefectureMger/CommuneMger/HospitalMger"),t.k0s(),t.j41(74,"select",21),t.nrm(75,"option",13),t.DNE(76,J,2,2,"option",14),t.k0s()()(),t.j41(77,"div",8)(78,"div",9)(79,"label"),t.EFF(80,"."),t.k0s(),t.j41(81,"button",22),t.EFF(82," Charger les donn\xe9es "),t.DNE(83,z,1,0,"i",23),t.k0s()()()()()()(),t.j41(84,"div",24),t.nrm(85,"div",25),t.j41(86,"div",26)(87,"button",27),t.bIt("click",function(){return n.deleteSelectedDataFromCouchDb()}),t.EFF(88," Delete Selected Data From CouchDb "),t.k0s(),t.nrm(89,"br"),t.j41(90,"table",28)(91,"thead")(92,"tr")(93,"th")(94,"input",29),t.bIt("click",function(){return n.SelectAllData()}),t.k0s()(),t.j41(95,"th"),t.EFF(96,"ID"),t.k0s(),t.j41(97,"th"),t.EFF(98,"REV"),t.k0s(),t.j41(99,"th"),t.EFF(100,"Form / Name"),t.k0s(),t.j41(101,"th"),t.EFF(102,"User"),t.k0s()()(),t.DNE(103,tt,12,5,"tbody",30),t.k0s()()()()()()),2&i&&(t.R7$(),t.SpI(" ",n.responseMsg," "),t.R7$(8),t.Y8G("formGroup",n._formGroup),t.R7$(18),t.Y8G("ngForOf",n.Countries$),t.R7$(7),t.Y8G("ngForOf",n.regions$),t.R7$(7),t.Y8G("ngForOf",n.prefectures$),t.R7$(7),t.Y8G("ngForOf",n.communes$),t.R7$(7),t.Y8G("ngForOf",n.hospitals$),t.R7$(7),t.Y8G("ngForOf",n.districtQuartiers$),t.R7$(7),t.Y8G("ngForOf",n.types$),t.R7$(7),t.Y8G("ngForOf",n.cibles$),t.R7$(5),t.Y8G("disabled",!n._formGroup.valid),t.R7$(2),t.Y8G("ngIf",n.isLoading),t.R7$(4),t.Y8G("disabled",!(n.selectedListToBeDelete.length>0)),t.R7$(7),t.Y8G("checked",n.foundedDataToDelete.length>0&&n.selectedListToBeDelete.length==n.foundedDataToDelete.length),t.R7$(9),t.Y8G("ngForOf",n.foundedDataToDelete))},dependencies:[C.G,C.I,l.qT,l.xH,l.y7,l.me,l.wz,l.W0,l.BC,l.cb,l.j4,l.JD],encapsulation:2})}}return r})(),it=(()=>{class r{constructor(){}ngOnInit(){}OpenPdfFile(){}downloadPdf(){return(0,f.A)(function*(){})()}download(e){const i=document.createElement("a");document.body.appendChild(i),i.style.display="none",i.href=e,i.download="generated.pdf",i.click(),URL.revokeObjectURL(e)}generatePdfCOntentData(){return[{text:"Beautiful PDF with Existing Data",style:"header"},{text:"Name:  + data.name"},{text:"Email:  + data.email"},{text:"Phone:  + data.phone"},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Page 1 Content",style:"header"},{text:"This is page 1",style:"paragraph"},{text:"Page 2 Content",style:"header"},{text:"This is page 2",style:"paragraph"},{text:"Page 3 Content",style:"header"},{text:"This is page 3",style:"paragraph"},{text:"Page 4 Content",style:"header"},{text:"This is page 4",style:"paragraph"},{text:"Beautiful PDF with Existing Data",style:"header"},{text:"Name:  + data.name"},{text:"Email:  + data.email"},{text:"Phone:  + data.phone"},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Page 1 Content",style:"header"},{text:"This is page 1",style:"paragraph"},{text:"Page 2 Content",style:"header"},{text:"This is page 2",style:"paragraph"},{text:"Page 3 Content",style:"header"},{text:"This is page 3",style:"paragraph"},{text:"Page 4 Content",style:"header"},{text:"This is page 4",style:"paragraph"},{text:"Beautiful PDF with Existing Data",style:"header"},{text:"Name: + data.name"},{text:"Email: + data.email"},{text:"Phone: + data.phone"},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Page 1 Content",style:"header"},{text:"This is page 1",style:"paragraph"},{text:"Page 2 Content",style:"header"},{text:"This is page 2",style:"paragraph"},{text:"Page 3 Content",style:"header"},{text:"This is page 3",style:"paragraph"},{text:"Page 4 Content",style:"header"},{text:"This is page 4",style:"paragraph"},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Table:",style:"subheader"},{ul:["Item 1","Item 2","Item 3"]},{text:"Images",style:"header"},{columns:[{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100}]},{columns:[{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100},{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ/M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e/u992bee7tCa00YFsffekFY+nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b/dvE5IWryTt2udLFedwc1+9kLp+vbbpoDh+6TklxBeAi9TL0taeWpdmZzQDry0AcO+jQ12RyohqqoYoo8RDwJrU+qXkjWtfi8Xxt58BdQuwQs9qC/afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx+f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl+TvuiRW1m3n0eDl0vRPcEysqdXn+jsQPsrHMquGeXEaY4Yk4wxWcY5V/9scqOMOVUFthatyTy8QyqwZ+kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO/Mn/m8R+h6rYSUb3ekokRY6f/YukArN979jcW+V/S8g0eT/N3VN3kTqWbQ428m9/8k0P/1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc/TRBG9O5ELC17MmWubD2nKhUKZa26Ba2+D3P+4/MNCFwg59oWVeYhkzgN/JDR8deKBoD7Y+ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ+gqjk8VWFYmHrwBzW/n+uMPFiRwHB2I7ih8ciHFxIkd/3Omk5tCDV1t+2nNu5sxxpDFNx+huNhVT3/zMDz8usXC3ddaHBj1GHj/As08fwTS7Kt1HBTmyN29vdwAw+/wbwLVOJ3uAD1wi/dUH7Qei66PfyuRj4Ik9is+hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu+fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII=",width:100}]},{table:{body:[["Column 1","Column 2","Column 3"],["Row 1, Cell 1","Row 1, Cell 2","Row 1, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"],["Row 2, Cell 1","Row 2, Cell 2","Row 2, Cell 3"]]}},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Table:",style:"subheader"},{style:"table",table:{headerRows:1,widths:["auto","*","auto","auto","auto"],body:[["N\xb0","Designation","Quantity","Unique Price","Total"],["1","Product A","5","$10","$50"],["2","Product B","3","$15","$45"],["3","Product C","2","$20","$40"]]}},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Table:",style:"subheader"},{style:"table",table:{headerRows:1,widths:["auto","*","auto","auto","auto"],body:[["N\xb0","Designation","Quantity","Unique Price","Total"],["1","Product A","5","$10","$50"],["2","Product B","3","$15","$45"],["3","Product C","2","$20","$40"]]}},{text:"Hello, World!",style:"header"},{text:"This is a paragraph",style:"paragraph"},{text:"Table:",style:"subheader"},{style:"table",table:{headerRows:1,widths:["auto","*","auto","auto","auto"],body:[[{text:"N\xb0",style:"tableHeader"},{text:"Designation",style:"tableHeader"},{text:"Quantity",style:"tableHeader"},{text:"Unique Price",style:"tableHeader"},{text:"Total",style:"tableHeader"}],["1","Product A","5","$10","$50"],["2","Product B","3","$15","$45"],["3","Product C","2","$20","$40"]]}}]}getImageData(e){return(0,f.A)(function*(){return""})()}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-admin-pdf-generator"]],standalone:!1,decls:4,vars:0,consts:[[3,"click"]],template:function(i,n){1&i&&(t.j41(0,"button",0),t.bIt("click",function(){return n.OpenPdfFile()}),t.EFF(1,"Open PDF"),t.k0s(),t.j41(2,"button",0),t.bIt("click",function(){return n.downloadPdf()}),t.EFF(3,"downloadPdf PDF"),t.k0s())},encapsulation:2})}}return r})();class j{constructor(s,e,i,n){if(isNaN(s)||isNaN(e))throw new Error(`Point is invalid: (${s}, ${e})`);this.x=+s,this.y=+e,this.pressure=i||0,this.time=n||Date.now()}distanceTo(s){return Math.sqrt(Math.pow(this.x-s.x,2)+Math.pow(this.y-s.y,2))}equals(s){return this.x===s.x&&this.y===s.y&&this.pressure===s.pressure&&this.time===s.time}velocityFrom(s){return this.time!==s.time?this.distanceTo(s)/(this.time-s.time):0}}class U{static fromPoints(s,e){const i=this.calculateControlPoints(s[0],s[1],s[2]).c2,n=this.calculateControlPoints(s[1],s[2],s[3]).c1;return new U(s[1],i,n,s[2],e.start,e.end)}static calculateControlPoints(s,e,i){const n=s.x-e.x,o=s.y-e.y,a=e.x-i.x,h=e.y-i.y,c_x=(s.x+e.x)/2,c_y=(s.y+e.y)/2,u_x=(e.x+i.x)/2,u_y=(e.y+i.y)/2,d=Math.sqrt(n*n+o*o),m=Math.sqrt(a*a+h*h),A=d+m==0?0:m/(d+m),T=e.x-(u_x+(c_x-u_x)*A),R=e.y-(u_y+(c_y-u_y)*A);return{c1:new j(c_x+T,c_y+R),c2:new j(u_x+T,u_y+R)}}constructor(s,e,i,n,o,a){this.startPoint=s,this.control2=e,this.control1=i,this.endPoint=n,this.startWidth=o,this.endWidth=a}length(){let i,n,e=0;for(let o=0;o<=10;o+=1){const a=o/10,h=this.point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),c=this.point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){const u=h-i,d=c-n;e+=Math.sqrt(u*u+d*d)}i=h,n=c}return e}point(s,e,i,n,o){return e*(1-s)*(1-s)*(1-s)+3*i*(1-s)*(1-s)*s+3*n*(1-s)*s*s+o*s*s*s}}class st{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(s,e,i){this._et.addEventListener(s,e,i)}dispatchEvent(s){return this._et.dispatchEvent(s)}removeEventListener(s,e,i){this._et.removeEventListener(s,e,i)}}class M extends st{constructor(s,e={}){var i,n,o;super(),this.canvas=s,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=a=>{!this._isLeftButtonPressed(a,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(a))},this._handleMouseMove=a=>{this._isLeftButtonPressed(a,!0)&&this._drawingStroke?this._strokeMoveUpdate(this._pointerEventToSignatureEvent(a)):this._strokeEnd(this._pointerEventToSignatureEvent(a),!1)},this._handleMouseUp=a=>{this._isLeftButtonPressed(a)||this._strokeEnd(this._pointerEventToSignatureEvent(a))},this._handleTouchStart=a=>{1!==a.targetTouches.length||this._drawingStroke||(a.cancelable&&a.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(a)))},this._handleTouchMove=a=>{if(1===a.targetTouches.length){if(a.cancelable&&a.preventDefault(),!this._drawingStroke)return void this._strokeEnd(this._touchEventToSignatureEvent(a),!1);this._strokeMoveUpdate(this._touchEventToSignatureEvent(a))}},this._handleTouchEnd=a=>{0===a.targetTouches.length&&(a.cancelable&&a.preventDefault(),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this._strokeEnd(this._touchEventToSignatureEvent(a)))},this._handlePointerDown=a=>{!a.isPrimary||!this._isLeftButtonPressed(a)||this._drawingStroke||(a.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(a)))},this._handlePointerMove=a=>{if(a.isPrimary){if(!this._isLeftButtonPressed(a,!0)||!this._drawingStroke)return void this._strokeEnd(this._pointerEventToSignatureEvent(a),!1);a.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(a))}},this._handlePointerUp=a=>{!a.isPrimary||this._isLeftButtonPressed(a)||(a.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(a)))},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle=null!==(i=e.throttle)&&void 0!==i?i:16,this.minDistance=null!==(n=e.minDistance)&&void 0!==n?n:5,this.dotSize=e.dotSize||0,this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=e.compositeOperation||"source-over",this.canvasContextOptions=null!==(o=e.canvasContextOptions)&&void 0!==o?o:{},this._strokeMoveUpdate=this.throttle?function nt(r,s=250){let n,o,a,e=0,i=null;const h=()=>{e=Date.now(),i=null,n=r.apply(o,a),i||(o=null,a=[])};return function(...u){const d=Date.now(),m=s-(d-e);return o=this,a=u,m<=0||m>s?(i&&(clearTimeout(i),i=null),e=d,n=r.apply(o,a),i||(o=null,a=[])):i||(i=window.setTimeout(h,m)),n}}(M.prototype._strokeUpdate,this.throttle):M.prototype._strokeUpdate,this._ctx=s.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){const{_ctx:s,canvas:e}=this;s.fillStyle=this.backgroundColor,s.clearRect(0,0,e.width,e.height),s.fillRect(0,0,e.width,e.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(s,e={}){return new Promise((i,n)=>{const o=new Image,a=e.ratio||window.devicePixelRatio||1,h=e.width||this.canvas.width/a,c=e.height||this.canvas.height/a,u=e.xOffset||0,d=e.yOffset||0;this._reset(this._getPointGroupOptions()),o.onload=()=>{this._ctx.drawImage(o,u,d,h,c),i()},o.onerror=m=>{n(m)},o.crossOrigin="anonymous",o.src=s,this._isEmpty=!1})}toDataURL(s="image/png",e){return"image/svg+xml"===s?("object"!=typeof e&&(e=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(e))}`):("number"!=typeof e&&(e=void 0),this.canvas.toDataURL(s,e))}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const s=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!s?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){var s;const e=window.document===this.canvas.ownerDocument?window:null!==(s=this.canvas.ownerDocument.defaultView)&&void 0!==s?s:this.canvas.ownerDocument;return{addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}_removeMoveUpEventListeners(){const{removeEventListener:s}=this._getListenerFunctions();s("pointermove",this._handlePointerMove),s("pointerup",this._handlePointerUp),s("mousemove",this._handleMouseMove),s("mouseup",this._handleMouseUp),s("touchmove",this._handleTouchMove),s("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(s,{clear:e=!0}={}){e&&this.clear(),this._fromData(s,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(s)}toData(){return this._data}_isLeftButtonPressed(s,e){return e?1===s.buttons:!(1&~s.buttons)}_pointerEventToSignatureEvent(s){return{event:s,type:s.type,x:s.clientX,y:s.clientY,pressure:"pressure"in s?s.pressure:0}}_touchEventToSignatureEvent(s){const e=s.changedTouches[0];return{event:s,type:s.type,x:e.clientX,y:e.clientY,pressure:e.force}}_getPointGroupOptions(s){return{penColor:s&&"penColor"in s?s.penColor:this.penColor,dotSize:s&&"dotSize"in s?s.dotSize:this.dotSize,minWidth:s&&"minWidth"in s?s.minWidth:this.minWidth,maxWidth:s&&"maxWidth"in s?s.maxWidth:this.maxWidth,velocityFilterWeight:s&&"velocityFilterWeight"in s?s.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:s&&"compositeOperation"in s?s.compositeOperation:this.compositeOperation}}_strokeBegin(s){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:s,cancelable:!0})))return;const{addEventListener:i}=this._getListenerFunctions();switch(s.event.type){case"mousedown":i("mousemove",this._handleMouseMove),i("mouseup",this._handleMouseUp);break;case"touchstart":i("touchmove",this._handleTouchMove),i("touchend",this._handleTouchEnd);break;case"pointerdown":i("pointermove",this._handlePointerMove),i("pointerup",this._handlePointerUp)}this._drawingStroke=!0;const n=this._getPointGroupOptions(),o=Object.assign(Object.assign({},n),{points:[]});this._data.push(o),this._reset(n),this._strokeUpdate(s)}_strokeUpdate(s){if(!this._drawingStroke)return;if(0===this._data.length)return void this._strokeBegin(s);this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:s}));const e=this._createPoint(s.x,s.y,s.pressure),i=this._data[this._data.length-1],n=i.points,o=n.length>0&&n[n.length-1],a=!!o&&e.distanceTo(o)<=this.minDistance,h=this._getPointGroupOptions(i);if(!o||!o||!a){const c=this._addPoint(e,h);o?c&&this._drawCurve(c,h):this._drawDot(e,h),n.push({time:e.time,x:e.x,y:e.y,pressure:e.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:s}))}_strokeEnd(s,e=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(e&&this._strokeUpdate(s),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:s})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart)}_reset(s){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(s.minWidth+s.maxWidth)/2,this._ctx.fillStyle=s.penColor,this._ctx.globalCompositeOperation=s.compositeOperation}_createPoint(s,e,i){const n=this.canvas.getBoundingClientRect();return new j(s-n.left,e-n.top,i,(new Date).getTime())}_addPoint(s,e){const{_lastPoints:i}=this;if(i.push(s),i.length>2){3===i.length&&i.unshift(i[0]);const n=this._calculateCurveWidths(i[1],i[2],e),o=U.fromPoints(i,n);return i.shift(),o}return null}_calculateCurveWidths(s,e,i){const n=i.velocityFilterWeight*e.velocityFrom(s)+(1-i.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(n,i),a={end:o,start:this._lastWidth};return this._lastVelocity=n,this._lastWidth=o,a}_strokeWidth(s,e){return Math.max(e.maxWidth/(s+1),e.minWidth)}_drawCurveSegment(s,e,i){const n=this._ctx;n.moveTo(s,e),n.arc(s,e,i,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(s,e){const i=this._ctx,n=s.endWidth-s.startWidth,o=2*Math.ceil(s.length());i.beginPath(),i.fillStyle=e.penColor;for(let a=0;a<o;a+=1){const h=a/o,c=h*h,u=c*h,d=1-h,m=d*d,v=m*d;let b=v*s.startPoint.x;b+=3*m*h*s.control1.x,b+=3*d*c*s.control2.x,b+=u*s.endPoint.x;let A=v*s.startPoint.y;A+=3*m*h*s.control1.y,A+=3*d*c*s.control2.y,A+=u*s.endPoint.y;const E=Math.min(s.startWidth+u*n,e.maxWidth);this._drawCurveSegment(b,A,E)}i.closePath(),i.fill()}_drawDot(s,e){const i=this._ctx,n=e.dotSize>0?e.dotSize:(e.minWidth+e.maxWidth)/2;i.beginPath(),this._drawCurveSegment(s.x,s.y,n),i.closePath(),i.fillStyle=e.penColor,i.fill()}_fromData(s,e,i){for(const n of s){const{points:o}=n,a=this._getPointGroupOptions(n);if(o.length>1)for(let h=0;h<o.length;h+=1){const c=o[h],u=new j(c.x,c.y,c.pressure,c.time);0===h&&this._reset(a);const d=this._addPoint(u,a);d&&e(d,a)}else this._reset(a),i(o[0],a)}}toSVG({includeBackgroundColor:s=!1}={}){const e=this._data,i=Math.max(window.devicePixelRatio||1,1),a=this.canvas.width/i,h=this.canvas.height/i,c=document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.setAttribute("xmlns","http://www.w3.org/2000/svg"),c.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),c.setAttribute("viewBox",`0 0 ${a} ${h}`),c.setAttribute("width",a.toString()),c.setAttribute("height",h.toString()),s&&this.backgroundColor){const u=document.createElement("rect");u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("fill",this.backgroundColor),c.appendChild(u)}return this._fromData(e,(u,{penColor:d})=>{const m=document.createElement("path");if(!(isNaN(u.control1.x)||isNaN(u.control1.y)||isNaN(u.control2.x)||isNaN(u.control2.y))){const v=`M ${u.startPoint.x.toFixed(3)},${u.startPoint.y.toFixed(3)} C ${u.control1.x.toFixed(3)},${u.control1.y.toFixed(3)} ${u.control2.x.toFixed(3)},${u.control2.y.toFixed(3)} ${u.endPoint.x.toFixed(3)},${u.endPoint.y.toFixed(3)}`;m.setAttribute("d",v),m.setAttribute("stroke-width",(2.25*u.endWidth).toFixed(3)),m.setAttribute("stroke",d),m.setAttribute("fill","none"),m.setAttribute("stroke-linecap","round"),c.appendChild(m)}},(u,{penColor:d,dotSize:m,minWidth:v,maxWidth:b})=>{const A=document.createElement("circle");A.setAttribute("r",(m>0?m:(v+b)/2).toString()),A.setAttribute("cx",u.x.toString()),A.setAttribute("cy",u.y.toString()),A.setAttribute("fill",d),c.appendChild(A)}),c.outerHTML}}function at(r,s){if(1&r&&t.nrm(0,"img",14),2&r){const e=t.XpG();t.Y8G("src",e.signatureImage,t.B4B)}}let ot=(()=>{class r{updateMinWidth(e){const i=parseFloat(e.target.value);this.signaturePad.minWidth=i}updateMaxWidth(e){const i=parseFloat(e.target.value);this.signaturePad.maxWidth=i}updateBackgroundColor(e){this.signaturePad.backgroundColor=e.target.value}updatePenColor(e){this.signaturePad.penColor=e.target.value}updateVelocityFilterWeight(e){const i=parseFloat(e.target.value);this.signaturePad.velocityFilterWeight=i}updateThrottle(e){const i=parseFloat(e.target.value);this.signaturePad.throttle=i}updateMinDistance(e){const i=parseFloat(e.target.value);this.signaturePad.minDistance=i}updateDotSize(e){const i=parseFloat(e.target.value);this.signaturePad.dotSize=i}constructor(e){this.router=e,this.signatureImage=null,this.defaultMinWidth=.5,this.defaultMaxWidth=2.5,this.defaultBackgroundColor="rgba(255, 255, 255, 0)",this.defaultPenColor="rgb(0, 0, 0)",this.defaultVelocityFilterWeight=.7,this.defaultThrottle=16,this.defaultMinDistance=5,this.defaultDotSize=1}ngOnInit(){this.InitSignaturePadView()}InitSignaturePadView(){const e=document.getElementById("signature-pad");if(e){this.signaturePad=new M(e,{minWidth:this.defaultMinWidth,maxWidth:this.defaultMaxWidth,backgroundColor:this.defaultBackgroundColor,penColor:this.defaultPenColor,velocityFilterWeight:this.defaultVelocityFilterWeight,throttle:this.defaultThrottle,minDistance:this.defaultMinDistance,dotSize:this.defaultDotSize});var i=document.getElementById("saveAsPNG"),n=document.getElementById("saveAsJPEG"),o=document.getElementById("saveAsJPEG_05"),a=document.getElementById("saveAsSVG"),h=document.getElementById("clear");const c=this;i&&i.addEventListener("click",function(u){var d=c.signaturePad.toDataURL("image/png");c.saveSignature(d)}),n&&n.addEventListener("click",function(u){var d=c.signaturePad.toDataURL("image/jpg");c.saveSignature(d)}),o&&o.addEventListener("click",function(u){var d=c.signaturePad.toDataURL("image/jpg",.5);c.saveSignature(d)}),a&&a.addEventListener("click",function(u){var d=c.signaturePad.toDataURL("image/svg+xml");c.saveSignature(d)}),h&&h.addEventListener("click",function(u){c.signaturePad.clear()})}}SvgStringWithoutBase64Convertion(e){return this.signaturePad.toSVG({includeBackgroundColor:e})}DrawSignatureDataURL(e,i){this.signaturePad.fromDataURL("data:image/png;base64,iVBORw0K...",{ratio:1,width:400,height:200,xOffset:100,yOffset:50})}DrawSignatureFromPointGroup(e,i){return this.signaturePad.fromData(e,{clear:i})}SignaturePointGroupsAsArray(){return this.signaturePad.toData()}isCanvasEmpty(){return this.signaturePad.isEmpty()}UnbindsAllEventHandlers(){this.signaturePad.off()}RebindsAllEventHandlers(){this.signaturePad.on()}clearSignature(){this.signaturePad.clear(),this.signatureImage=null}saveSignature(e){this.signatureImage=e}static{this.\u0275fac=function(i){return new(i||r)(t.rXU(_.t))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-admin-signature"]],standalone:!1,decls:53,vars:9,consts:[[1,"wrapper"],["src","https://preview.ibb.co/jnW4Qz/Grumpy_Cat_920x584.jpg","width","400","height","200"],["id","signature-pad","width","400","height","200",1,"signature-pad"],["id","actionBtn"],["id","saveAsPNG"],["id","saveAsJPEG"],["id","saveAsJPEG_05"],["id","saveAsSVG"],["id","clear"],["alt","Signature",3,"src",4,"ngIf"],[1,"options-container"],[1,"option"],["type","number",3,"change","value"],["type","color",3,"change","value"],["alt","Signature",3,"src"]],template:function(i,n){1&i&&(t.j41(0,"h1"),t.EFF(1," Draw over image\n"),t.k0s(),t.j41(2,"div",0),t.nrm(3,"img",1)(4,"canvas",2),t.k0s(),t.j41(5,"div",3)(6,"button",4),t.EFF(7,"saveAsPNG"),t.k0s(),t.j41(8,"button",5),t.EFF(9,"saveAsJPEG"),t.k0s(),t.j41(10,"button",6),t.EFF(11,"saveAsJPEG_05"),t.k0s(),t.j41(12,"button",7),t.EFF(13,"saveAsSVG"),t.k0s(),t.j41(14,"button",8),t.EFF(15,"Clear"),t.k0s()(),t.nrm(16,"br")(17,"br"),t.j41(18,"div"),t.DNE(19,at,1,1,"img",9),t.k0s(),t.j41(20,"div",10)(21,"div",11)(22,"label"),t.EFF(23,"Min Width:"),t.k0s(),t.j41(24,"input",12),t.bIt("change",function(a){return n.updateMinWidth(a)}),t.k0s()(),t.j41(25,"div",11)(26,"label"),t.EFF(27,"Max Width:"),t.k0s(),t.j41(28,"input",12),t.bIt("change",function(a){return n.updateMaxWidth(a)}),t.k0s()(),t.j41(29,"div",11)(30,"label"),t.EFF(31,"Background Color:"),t.k0s(),t.j41(32,"input",13),t.bIt("change",function(a){return n.updateBackgroundColor(a)}),t.k0s()(),t.j41(33,"div",11)(34,"label"),t.EFF(35,"Pen Color:"),t.k0s(),t.j41(36,"input",13),t.bIt("change",function(a){return n.updatePenColor(a)}),t.k0s()(),t.j41(37,"div",11)(38,"label"),t.EFF(39,"Velocity Filter Weight:"),t.k0s(),t.j41(40,"input",12),t.bIt("change",function(a){return n.updateVelocityFilterWeight(a)}),t.k0s()(),t.j41(41,"div",11)(42,"label"),t.EFF(43,"Throttle:"),t.k0s(),t.j41(44,"input",12),t.bIt("change",function(a){return n.updateThrottle(a)}),t.k0s()(),t.j41(45,"div",11)(46,"label"),t.EFF(47,"Min Distance:"),t.k0s(),t.j41(48,"input",12),t.bIt("change",function(a){return n.updateMinDistance(a)}),t.k0s()(),t.j41(49,"div",11)(50,"label"),t.EFF(51,"Dot Size:"),t.k0s(),t.j41(52,"input",12),t.bIt("change",function(a){return n.updateDotSize(a)}),t.k0s()()()),2&i&&(t.R7$(19),t.Y8G("ngIf",n.signatureImage),t.R7$(5),t.Y8G("value",n.defaultMinWidth),t.R7$(4),t.Y8G("value",n.defaultMaxWidth),t.R7$(4),t.Y8G("value",n.defaultBackgroundColor),t.R7$(4),t.Y8G("value",n.defaultPenColor),t.R7$(4),t.Y8G("value",n.defaultVelocityFilterWeight),t.R7$(4),t.Y8G("value",n.defaultThrottle),t.R7$(4),t.Y8G("value",n.defaultMinDistance),t.R7$(4),t.Y8G("value",n.defaultDotSize))},dependencies:[C.I],styles:[".wrapper[_ngcontent-%COMP%]{position:relative;width:400px;height:200px;-webkit-user-select:none;user-select:none}.wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:0;top:0}.signature-pad[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:400px;height:200px}#actionBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:5px}.options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.option[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;align-items:center}.option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.option[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .option[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{padding:5px;border:1px solid #ccc;border-radius:3px;width:100px}"]})}}return r})();function rt(r,s){if(1&r&&(t.j41(0,"div",17),t.nrm(1,"i",18),t.j41(2,"div",19),t.EFF(3),t.k0s()()),2&r){const e=t.XpG();t.R7$(3),t.SpI(" ",e.initMsg,"")}}function lt(r,s){if(1&r&&(t.j41(0,"option",20),t.EFF(1),t.k0s()),2&r){const e=s.$implicit;t.FS9("value",e.name),t.R7$(),t.SpI(" ",e.table.toLocaleUpperCase().replaceAll("_"," ")," ")}}function ut(r,s){if(1&r&&(t.j41(0,"option",20),t.EFF(1),t.k0s()),2&r){const e=s.$implicit;t.FS9("value",e),t.R7$(),t.SpI(" ",e," ")}}let ct=(()=>{class r{constructor(e){this.api=e,this.responseMsg="",this.constMsg="Loading...",this.initMsg=this.constMsg,this.EntitiesList$=[],this.initEntity=[],this.Actions$=["TRUNCATE","DROP"]}createEntitiesFilterFormGroup(){return new l.gE({entities:new l.MJ([],[l.k0.required]),action:new l.MJ("TRUNCATE",[l.k0.required])})}ngOnInit(){this.EntitiesForm=this.createEntitiesFilterFormGroup(),this.initAllData()}initAllData(){var e=this;return(0,f.A)(function*(){e.isLoading=!0,e.initMsg="Chargement des Entities ...",e.api.getDatabaseEntities().subscribe(function(){var i=(0,f.A)(function*(n){200==n.status&&(e.EntitiesList$=n.data)});return function(n){return i.apply(this,arguments)}}(),i=>{e.isLoading=!1,console.log(i.error)})})()}EntitiesSelectedList(){var e=[];const i=(0,p.$r)(this.EntitiesForm.value.entities);this.initEntity=i;for(let n=0;n<this.EntitiesList$.length;n++){const o=this.EntitiesList$[n];i.includes(o.name)&&e.push(o)}return e}TruncateBd(){var e=this;const i=this.EntitiesSelectedList();i.length>0&&(this.responseMsg="",this.initMsg=this.constMsg,this.isEntityLoading=!0,this.api.truncateDatabase({procide:!0,entities:i,action:this.EntitiesForm.value.action}).subscribe(function(){var n=(0,f.A)(function*(o){e.responseMsg=o.data.toString(),200==o.status&&(e.initEntity=[]),e.isEntityLoading=!1});return function(o){return n.apply(this,arguments)}}(),n=>{console.log(n.error),this.isEntityLoading=!1,this.responseMsg=n.toString()}))}static{this.\u0275fac=function(i){return new(i||r)(t.rXU(P.G))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-admin-truncate-database"]],standalone:!1,decls:32,vars:7,consts:[[2,"color","red"],[1,"content-header"],[1,"container-fluid"],[1,"card","card-info"],[1,"overlay-wrapper"],["class","overlay",4,"ngIf"],[1,"card-header"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-sm-4","col-6"],[1,"form-group"],["formControlName","entities","multiple","multiple",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","action",1,"form-control"],["type","submit",1,"btn","btn-danger","form-control",3,"disabled"],[1,"fa","fa-floppy-o","fa-right"],[1,"overlay"],[1,"fas","fa-3x","fa-sync-alt","fa-spin"],[1,"text-bold","pt-2"],[3,"value"]],template:function(i,n){1&i&&(t.j41(0,"h1",0),t.EFF(1),t.k0s(),t.j41(2,"section",1)(3,"div",2)(4,"h2"),t.EFF(5,"Truncate Database"),t.k0s(),t.j41(6,"div",3)(7,"div",4),t.DNE(8,rt,4,1,"div",5),t.j41(9,"div",6)(10,"form",7),t.bIt("ngSubmit",function(){return n.TruncateBd()}),t.j41(11,"div",8)(12,"div",9)(13,"div",10)(14,"label"),t.EFF(15,"Entities"),t.k0s(),t.j41(16,"select",11),t.nrm(17,"option",12),t.DNE(18,lt,2,2,"option",13),t.k0s()()(),t.j41(19,"div",9)(20,"div",10)(21,"label"),t.EFF(22,"Action"),t.k0s(),t.j41(23,"select",14),t.DNE(24,ut,2,2,"option",13),t.k0s()()(),t.j41(25,"div",9)(26,"div",10)(27,"label"),t.EFF(28,"."),t.k0s(),t.j41(29,"button",15),t.EFF(30),t.nrm(31,"span",16),t.k0s()()()()()()()()()()),2&i&&(t.R7$(),t.SpI(" ",n.responseMsg," "),t.R7$(7),t.Y8G("ngIf",n.isEntityLoading),t.R7$(2),t.Y8G("formGroup",n.EntitiesForm),t.R7$(8),t.Y8G("ngForOf",n.EntitiesList$),t.R7$(6),t.Y8G("ngForOf",n.Actions$),t.R7$(5),t.Y8G("disabled",!n.EntitiesForm.valid&&n.initEntity.length<=0),t.R7$(),t.SpI(" ",""!=n.EntitiesForm.value.action?n.EntitiesForm.value.action:"TRUNCATE"," POSTGRES DATABASE "))},dependencies:[C.G,C.I,l.qT,l.xH,l.y7,l.wz,l.W0,l.BC,l.cb,l.j4,l.JD],encapsulation:2})}}return r})();const ht=[{path:"",component:(()=>{class r{constructor(){this.CHANGE_STATE=null,(0,p.Ey)()}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["dashboards-view"]],standalone:!1,decls:38,vars:6,consts:[[1,"nav-tabs"],["data-target","API_ACCESS",1,"tab-link","active"],["data-target","DATABASE",1,"tab-link"],["data-target","DELETE_COUCHDB_DATA",1,"tab-link"],["data-target","PDF_GENERATOR",1,"tab-link"],["data-target","SIGNATURE",1,"tab-link"],["data-target","TRUNCATE_DATABASE",1,"tab-link"],[1,"tab-content"],["id","API_ACCESS",1,"view","active"],[3,"CHANGE_STATE"],["id","DATABASE",1,"view"],["id","DELETE_COUCHDB_DATA",1,"view"],["id","PDF_GENERATOR",1,"view"],["id","SIGNATURE",1,"view"],["id","TRUNCATE_DATABASE",1,"view"]],template:function(i,n){1&i&&(t.j41(0,"div",0)(1,"button",1),t.EFF(2,"API ACCESS"),t.k0s(),t.j41(3,"button",2),t.EFF(4,"BASE DE DONNEES"),t.k0s(),t.j41(5,"button",3),t.EFF(6,"DELETE COUCHDB DATA"),t.k0s(),t.j41(7,"button",4),t.EFF(8,"PDF GENERATOR"),t.k0s(),t.j41(9,"button",5),t.EFF(10,"SIGNATURE"),t.k0s(),t.j41(11,"button",6),t.EFF(12,"TRUNCATE DATABASE"),t.k0s()(),t.j41(13,"div",7)(14,"div",8)(15,"h2"),t.EFF(16,"\u{1f4c8} API d'acc\xe8s"),t.k0s(),t.nrm(17,"app-admin-api",9),t.k0s(),t.j41(18,"div",10)(19,"h2"),t.EFF(20,"\u{1f4ca} ACTIONS BASE DE DONNEES"),t.k0s(),t.nrm(21,"app-admin-database",9),t.k0s(),t.j41(22,"div",11)(23,"h2"),t.EFF(24,"\u{1f4ca} DELETE COUCHDB DATA"),t.k0s(),t.nrm(25,"app-admin-delete-couchdb",9),t.k0s(),t.j41(26,"div",12)(27,"h2"),t.EFF(28,"\u{1f4ca} PDF GENERATOR"),t.k0s(),t.nrm(29,"app-admin-pdf-generator",9),t.k0s(),t.j41(30,"div",13)(31,"h2"),t.EFF(32,"\u{1f4ca} SIGNATURE"),t.k0s(),t.nrm(33,"app-admin-signature",9),t.k0s(),t.j41(34,"div",14)(35,"h2"),t.EFF(36,"\u{1f4ca} TRUNCATE DATABASE"),t.k0s(),t.nrm(37,"app-admin-truncate-database",9),t.k0s()()),2&i&&(t.R7$(17),t.Y8G("CHANGE_STATE",n.CHANGE_STATE),t.R7$(4),t.Y8G("CHANGE_STATE",n.CHANGE_STATE),t.R7$(4),t.Y8G("CHANGE_STATE",n.CHANGE_STATE),t.R7$(4),t.Y8G("CHANGE_STATE",n.CHANGE_STATE),t.R7$(4),t.Y8G("CHANGE_STATE",n.CHANGE_STATE),t.R7$(4),t.Y8G("CHANGE_STATE",n.CHANGE_STATE))},dependencies:[w,y,et,it,ot,ct],encapsulation:2})}}return r})(),canActivate:[N.d],data:{href:"admin",title:"ADMINISTRATION",access:["_superuser"]}}];let dt=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[F.m.forChild(ht),F.m]})}}return r})();var pt=g(3268),mt=g(3887);let gt=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[C.D,l.X1,dt,l.YN,mt.G,pt.o]})}}return r})()}}]);