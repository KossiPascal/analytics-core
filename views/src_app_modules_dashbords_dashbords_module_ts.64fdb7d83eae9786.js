"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([["src_app_modules_dashbords_dashbords_module_ts"],{9554:(me,C,u)=>{u.r(C),u.d(C,{DashboardsModule:()=>pe});var f=u(6610),r=u(7222),F=u(1402),c=u(3681),t=u(3279),_=u(4434),g=u(7200),v=u(4451),b=u(4796),R=u(2365);function T(i,n){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"country")),t.R7$(),t.SpI(" ",e.name," ")}}function k(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",23)(1,"select",24),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.regionsGenerate())}),t.DNE(2,T,2,3,"option",25),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.countries)}}function y(i,n){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"region")),t.R7$(),t.SpI(" ",e.name," ")}}function E(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",23)(1,"select",27),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.prefecturesGenerate())}),t.DNE(2,y,2,3,"option",25),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.regions)}}function D(i,n){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"prefecture")),t.R7$(),t.SpI(" ",e.name," ")}}function j(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",23)(1,"select",28),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.communesGenerate())}),t.DNE(2,D,2,3,"option",25),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.prefectures)}}function I(i,n){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"commune")),t.R7$(),t.SpI(" ",e.name," ")}}function M(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",23)(1,"select",29),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.hospitalsGenerate())}),t.DNE(2,I,2,3,"option",25),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.communes)}}function Y(i,n){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"hospital")),t.R7$(),t.SpI(" ",e.name," ")}}function P(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",23)(1,"select",30),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.districtsGenerate())}),t.DNE(2,Y,2,3,"option",25),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.hospitals)}}function w(i,n){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"district_quartier")),t.R7$(),t.SpI(" ",e.name," ")}}function S(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",23)(1,"select",31),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.recosGenerate())}),t.DNE(2,w,2,3,"option",25),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.districtQuartiers)}}function O(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",35)(1,"input",36),t.bIt("change",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.selectAllRecos())}),t.k0s(),t.j41(2,"label",37),t.EFF(3," Tout s\xe9lectionner"),t.k0s()()}if(2&i){const e=t.XpG(2);t.R7$(),t.Y8G("checked",e._formGroup.value.recos.length===e.recos.length)}}function H(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",38),t.bIt("click",function(o){const h=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.onCheckboxChange(h.id,o))}),t.EFF(1),t.k0s()}if(2&i){const e=n.$implicit,s=t.XpG(2);t.ZvI("reco-list ",s.isSelected(e.id,"recos")?"reco-selected":"",""),t.R7$(),t.SpI(" ",e.name," ")}}function V(i,n){if(1&i&&(t.j41(0,"div",23)(1,"div",32),t.DNE(2,O,4,1,"div",33)(3,H,2,4,"div",34),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.recos.length>0),t.R7$(),t.Y8G("ngForOf",e.recos)}}function x(i,n){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e)("selected",s.isSelected(e,"year")),t.R7$(),t.SpI(" ",e," ")}}function N(i,n){if(1&i&&(t.j41(0,"div",23)(1,"select",39),t.DNE(2,x,2,3,"option",25),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.Years$)}}function X(i,n){if(1&i&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.HbH(s.isSelected(e.id,"month")?"selected":""),t.Y8G("value",e.id)("selected",s.isSelected(e.id,"month")),t.R7$(),t.SpI(" ",e.labelFR," ")}}function A(i,n){if(1&i&&(t.j41(0,"div",23)(1,"select",40),t.DNE(2,X,2,6,"option",41),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.Months$)}}function Q(i,n){1&i&&t.nrm(0,"span",42)}function q(i,n){if(1&i&&(t.j41(0,"tr")(1,"th",44),t.EFF(2),t.k0s(),t.j41(3,"th"),t.EFF(4),t.k0s(),t.j41(5,"th"),t.EFF(6),t.k0s(),t.j41(7,"th"),t.EFF(8),t.k0s(),t.j41(9,"th"),t.EFF(10),t.k0s(),t.j41(11,"th"),t.EFF(12),t.k0s(),t.j41(13,"th"),t.EFF(14),t.k0s(),t.j41(15,"th"),t.EFF(16),t.k0s(),t.j41(17,"th"),t.EFF(18),t.k0s()()),2&i){const e=n.$implicit,s=t.XpG(2);t.R7$(2),t.JRh(e.index),t.R7$(2),t.JRh(e.label),t.R7$(),t.HbH(s.quantityStyle(e.available_stock)),t.R7$(),t.JRh(e.available_stock),t.R7$(),t.HbH(s.quantityStyle(e.month_stock)),t.R7$(),t.JRh(e.month_stock),t.R7$(),t.HbH(s.quantityStyle(e.consumption)),t.R7$(),t.JRh(e.consumption),t.R7$(),t.HbH(s.quantityStyle(e.loss)),t.R7$(),t.JRh(e.loss),t.R7$(),t.HbH(s.quantityStyle(e.damaged)),t.R7$(),t.JRh(e.damaged),t.R7$(),t.HbH(s.quantityStyle(e.broken)),t.R7$(),t.JRh(e.broken),t.R7$(),t.HbH(s.quantityStyle(e.obselete)),t.R7$(),t.JRh(e.obselete)}}function B(i,n){if(1&i&&(t.j41(0,"tbody"),t.DNE(1,q,19,30,"tr",43),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.RECO_MEG$)}}let J=(()=>{class i{constructor(e,s,o,h,a){this.urlT=e,this.ldbfetch=s,this.userCtx=o,this.auth=h,this.snackbar=a,this.Months$=[],this.Years$=[],this.data_syncing=!1,this.Countries$=[],this.Regions$=[],this.Prefectures$=[],this.Communes$=[],this.Hospitals$=[],this.DistrictQuartiers$=[],this.VillageSecteurs$=[],this.Chws$=[],this.Recos$=[],this.countries=[],this.regions=[],this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.villageSecteurs=[],this.chws=[],this.recos=[],this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4,this.getCurrentUserCtx()}ngAfterViewInit(){setTimeout(()=>{this.countriesGenerate(),this.regionsGenerate(),this.prefecturesGenerate(),this.communesGenerate(),this.hospitalsGenerate(),this.districtsGenerate(),this.recosGenerate()})}onResize(e){this.screenWidth=window.innerWidth}ngOnInit(){this.year$=(0,c.vW)(),this.month$=(0,c.Ej)(),this.Months$=(0,c.kT)().filter(e=>this.month$&&e.uid<=this.month$.uid),this.Years$=(0,c.DE)().filter(e=>this.year$&&e<=this.year$),this._formGroup=this.CreateFormGroup()}getCurrentUserCtx(){const e=this.userCtx.currentUserCtx;this.Countries$.length>0||(this.Countries$=e?.countries??[]),this.Regions$.length>0||(this.Regions$=e?.regions??[]),this.Prefectures$.length>0||(this.Prefectures$=e?.prefectures??[]),this.Communes$.length>0||(this.Communes$=e?.communes??[]),this.Hospitals$.length>0||(this.Hospitals$=e?.hospitals??[]),this.DistrictQuartiers$.length>0||(this.DistrictQuartiers$=e?.districtQuartiers??[]),this.VillageSecteurs$.length>0||(this.VillageSecteurs$=e?.villageSecteurs??[]),this.Chws$.length>0||(this.Chws$=e?.chws??[]),this.Recos$.length>0||(this.Recos$=e?.recos??[])}CreateFormGroup(){const e={year:new r.MJ(this.year$,[r.k0.required]),months:new r.MJ(this.month$.id,[r.k0.required])};return this.Countries$.length>1&&(e.country=new r.MJ("",[r.k0.required])),this.Regions$.length>1&&(e.region=new r.MJ("",[r.k0.required])),this.Prefectures$.length>1&&(e.prefecture=new r.MJ("",[r.k0.required])),this.Communes$.length>1&&(e.commune=new r.MJ("",[r.k0.required])),this.Hospitals$.length>1&&(e.hospital=new r.MJ("",[r.k0.required])),this.DistrictQuartiers$.length>1&&(e.district_quartier=new r.MJ("",[r.k0.required])),this.Recos$.length>1&&(e.recos=new r.MJ("",[r.k0.required])),new r.gE(e)}isSelected(e,s){return"year"===s?this._formGroup.value.year===e:"month"===s?(0,c.$r)(this._formGroup.value.months).includes(`${e}`):"country"===s?this._formGroup.value.country===e:"region"===s?this._formGroup.value.region===e:"prefecture"===s?this._formGroup.value.prefecture===e:"commune"===s?this._formGroup.value.commune===e:"hospital"===s?this._formGroup.value.hospital===e:"district_quartier"===s?this._formGroup.value.district_quartier===e:"recos"===s&&(0,c.$r)(this._formGroup.value.recos).includes(`${e}`)}countriesGenerate(){this.countries=this.Countries$,(1===this.Countries$.length||1===this.countries.length)&&(this._formGroup.value.country=this.Countries$[0].id),this.regionsGenerate()}regionsGenerate(){this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.chws=[],this.villageSecteurs=[],this.recos=[],this.Countries$.length>0?this.Regions$.length>1&&(0,c.TM)(this._formGroup.value.country)?this.regions=this.Regions$.filter(e=>e.country_id===this._formGroup.value.country):1===this.Regions$.length?(this.regions=this.Regions$,this._formGroup.value.region=this.Regions$[0].id):this.regions=[]:this.Regions$.length>=1?(this.regions=this.Regions$,1===this.Regions$.length&&(this._formGroup.value.region=this.Regions$[0].id)):this.regions=[],1===this.regions.length&&(this._formGroup.value.region=this.regions[0].id),this.prefecturesGenerate()}prefecturesGenerate(){this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.chws=[],this.villageSecteurs=[],this.recos=[],this.Regions$.length>0?this.Prefectures$.length>1&&(0,c.TM)(this._formGroup.value.region)?this.prefectures=this.Prefectures$.filter(e=>e.region_id===this._formGroup.value.region):1===this.Prefectures$.length?(this.prefectures=this.Prefectures$,this._formGroup.value.prefecture=this.Prefectures$[0].id):this.prefectures=[]:this.Prefectures$.length>=1?(this.prefectures=this.Prefectures$,1===this.Prefectures$.length&&(this._formGroup.value.prefecture=this.Prefectures$[0].id)):this.prefectures=[],1===this.prefectures.length&&(this._formGroup.value.prefecture=this.prefectures[0].id),this.communesGenerate()}communesGenerate(){this.hospitals=[],this.districtQuartiers=[],this.chws=[],this.villageSecteurs=[],this.recos=[],this.Prefectures$.length>0?this.Communes$.length>1&&(0,c.TM)(this._formGroup.value.prefecture)?this.communes=this.Communes$.filter(e=>e.prefecture_id===this._formGroup.value.prefecture):1===this.Communes$.length?(this.communes=this.Communes$,this._formGroup.value.commune=this.Communes$[0].id):this.communes=[]:this.Communes$.length>=1?(this.communes=this.Communes$,1===this.Communes$.length&&(this._formGroup.value.commune=this.Communes$[0].id)):this.communes=[],1===this.communes.length&&(this._formGroup.value.commune=this.communes[0].id),this.hospitalsGenerate()}hospitalsGenerate(){this.districtQuartiers=[],this.chws=[],this.villageSecteurs=[],this.recos=[],this.Communes$.length>0?this.Hospitals$.length>1&&(0,c.TM)(this._formGroup.value.commune)?this.hospitals=this.Hospitals$.filter(e=>e.commune_id===this._formGroup.value.commune):1===this.Hospitals$.length?(this.hospitals=this.Hospitals$,this._formGroup.value.hospital=this.Hospitals$[0].id):this.hospitals=[]:this.Hospitals$.length>=1?(this.hospitals=this.Hospitals$,1===this.Hospitals$.length&&(this._formGroup.value.hospital=this.Hospitals$[0].id)):this.hospitals=[],1===this.hospitals.length&&(this._formGroup.value.hospital=this.hospitals[0].id),this.districtsGenerate()}districtsGenerate(){this.chws=[],this.villageSecteurs=[],this.recos=[],this.Hospitals$.length>0?this.DistrictQuartiers$.length>1&&(0,c.TM)(this._formGroup.value.hospital)?this.districtQuartiers=this.DistrictQuartiers$.filter(e=>e.hospital_id===this._formGroup.value.hospital):1===this.DistrictQuartiers$.length?(this.districtQuartiers=this.DistrictQuartiers$,this._formGroup.value.district_quartier=this.DistrictQuartiers$[0].id):this.districtQuartiers=[]:this.DistrictQuartiers$.length>=1?(this.districtQuartiers=this.DistrictQuartiers$,1===this.DistrictQuartiers$.length&&(this._formGroup.value.district_quartier=this.DistrictQuartiers$[0].id)):this.districtQuartiers=[],1===this.districtQuartiers.length&&(this._formGroup.value.district_quartier=this.districtQuartiers[0].id),this.recosGenerate()}recosGenerate(){this.recos=this.DistrictQuartiers$.length>0?this.Recos$.length>1&&(0,c.TM)(this._formGroup.value.district_quartier)?this.Recos$.filter(e=>e.district_quartier_id===this._formGroup.value.district_quartier):1===this.Recos$.length?this.Recos$:[]:this.Recos$.length>=1?this.Recos$:[],this.recos.length>0&&(this._formGroup.value.recos=this.recos.map(e=>e.id))}onCheckboxChange(e,s){const o=(0,c.$r)(this._formGroup.value.recos??[]),[h,a]=(()=>{let l=-1;return[o.find((p,m)=>p===e&&(l=m,!0)),l]})();-1!==a?o.splice(a,1):o.push(e),this._formGroup.value.recos=o}selectAllRecos(){this._formGroup.value.recos=this._formGroup.value.recos.length===this.recos.length?[]:this.recos.map(e=>e.id)}quantityStyle(e){return e<0?"quantity-error":e>0?"quantity-up":"quantity-down"}SHOW_DATA(e){e.preventDefault(),this._formGroup.value.recos.length>0?(0,c.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.data_syncing=!0,this._formGroup.value.months=(0,c.$r)(this._formGroup.value.months),this.ldbfetch.GetRecoMegDashboard(this._formGroup.value).then(s=>{this.RECO_MEG$=s?.data,this.MONTH=(0,c.Ab)(this._formGroup.value.month).labelFR,this.YEAR=this._formGroup.value.year,s||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.data_syncing=!1},s=>{this.data_syncing=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(_.h),t.rXU(g.F),t.rXU(v.i),t.rXU(b.u),t.rXU(R.z))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["reco-meg-stock"]],hostBindings:function(s,o){1&s&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},decls:55,vars:15,consts:[[1,"row","g-4",2,"margin","0px 5px 0px 5px"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[1,"rounded","p-6"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],["class","col-sm-2 col-xl-2",4,"ngIf"],[1,"col-sm-3","col-xl-2"],[1,"btn","btn-info",2,"width","100%",3,"disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],[1,"table-responsive",2,"padding-top","20px"],[1,"table","table-bordered","table-hover"],[1,"no-border"],["colspan","9",2,"height","30px!important"],[2,"color","black!important","text-align","left!important"],["colspan","9",1,"separation"],[1,"table-head","fp-header-1"],["rowspan","2","scope","col",2,"width","3%"],["rowspan","2","scope","col"],["rowspan","2","scope","col",2,"width","10%"],["colspan","6",2,"text-align","center"],["scope","col",2,"width","10%"],[4,"ngIf"],[1,"col-sm-2","col-xl-2"],["formControlName","country",1,"orgunit-style","form-select","mb-2",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["formControlName","region",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","prefecture",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","commune",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","hospital",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","district_quartier",1,"orgunit-style","form-select","mb-2",3,"change"],[1,"reco-list-container","orgunit-style","form-selec","mb-2"],["style","color:darkblue; width: 200%; font-weight: bold;",4,"ngIf"],[3,"class","click",4,"ngFor","ngForOf"],[2,"color","darkblue","width","200%","font-weight","bold"],["type","checkbox","id","reco-list-all",3,"change","checked"],["for","reco-list-all"],[3,"click"],["formControlName","year",1,"orgunit-style","form-select","mb-2"],["formControlName","months",1,"orgunit-style","form-select","mb-2"],[3,"class","value","selected",4,"ngFor","ngForOf"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),t.bIt("ngSubmit",function(a){return o.SHOW_DATA(a)}),t.j41(5,"div",5),t.DNE(6,k,3,1,"div",6)(7,E,3,1,"div",6)(8,j,3,1,"div",6)(9,M,3,1,"div",6)(10,P,3,1,"div",6)(11,S,3,1,"div",6)(12,V,4,2,"div",6)(13,N,3,1,"div",6)(14,A,3,1,"div",6),t.j41(15,"div",7)(16,"button",8),t.EFF(17," Charger "),t.DNE(18,Q,1,0,"span",9),t.k0s()()()()(),t.j41(19,"div",10)(20,"table",11)(21,"thead",12)(22,"tr")(23,"td",13)(24,"h5",14),t.EFF(25," SITUATION MEG STOCK DES RECO "),t.k0s()()()(),t.j41(26,"tr",12),t.nrm(27,"td",15),t.k0s(),t.j41(28,"thead")(29,"tr",16)(30,"th",17),t.EFF(31,"N\xb0"),t.k0s(),t.j41(32,"th",18),t.EFF(33,"MEG / INTRANTS"),t.k0s(),t.j41(34,"th",19)(35,"b"),t.EFF(36,"Stock disponible"),t.k0s()(),t.j41(37,"th",20),t.EFF(38,"MOUVEMENT MEG / INTRANTS DE "),t.j41(39,"b"),t.EFF(40),t.k0s()()(),t.j41(41,"tr",16)(42,"th",21),t.EFF(43,"Entr\xe9 en stock"),t.k0s(),t.j41(44,"th",21),t.EFF(45,"Distribu\xe9"),t.k0s(),t.j41(46,"th",21),t.EFF(47,"Perdu"),t.k0s(),t.j41(48,"th",21),t.EFF(49,"Endomag\xe9"),t.k0s(),t.j41(50,"th",21),t.EFF(51,"Cass\xe9"),t.k0s(),t.j41(52,"th",21),t.EFF(53,"P\xe9rim\xe9"),t.k0s()()(),t.DNE(54,B,2,1,"tbody",22),t.k0s()()()()()),2&s&&(t.R7$(4),t.Y8G("formGroup",o._formGroup),t.R7$(2),t.Y8G("ngIf",o.Countries$.length>1&&0===o.countries.length||o.countries.length>1),t.R7$(),t.Y8G("ngIf",o.Regions$.length>1&&0===o.regions.length||o.regions.length>1),t.R7$(),t.Y8G("ngIf",o.Prefectures$.length>1&&0===o.prefectures.length||o.prefectures.length>1),t.R7$(),t.Y8G("ngIf",o.Communes$.length>1&&0===o.communes.length||o.communes.length>1),t.R7$(),t.Y8G("ngIf",o.Hospitals$.length>1&&0===o.hospitals.length||o.hospitals.length>1),t.R7$(),t.Y8G("ngIf",o.DistrictQuartiers$.length>1&&0===o.districtQuartiers.length||o.districtQuartiers.length>1),t.R7$(),t.Y8G("ngIf",o.Recos$.length>1&&0===o.recos.length||o.recos.length>1),t.R7$(),t.Y8G("ngIf",o.Years$.length>0),t.R7$(),t.Y8G("ngIf",o.Months$.length>0),t.R7$(2),t.Y8G("disabled",o.data_syncing),t.R7$(2),t.Y8G("ngIf",o.data_syncing),t.R7$(22),t.Lme("",o.MONTH," / ",o.YEAR,""),t.R7$(14),t.Y8G("ngIf",o.RECO_MEG$))},dependencies:[f.Sq,f.bT,r.qT,r.xH,r.y7,r.wz,r.BC,r.cb,r.j4,r.JD],styles:[".dark-back[_ngcontent-%COMP%]{background-color:#000!important}.no-border[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none!important}.separation[_ngcontent-%COMP%]{border:none!important;height:10px!important}.org-units[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#5e5e5e!important;text-decoration:none;border-bottom:2px dashed!important}.table-head[_ngcontent-%COMP%]{background-color:#dffcf2!important;color:#5e5e5e!important}.quantity-up[_ngcontent-%COMP%]{color:#05002d;font-weight:700}.quantity-down[_ngcontent-%COMP%]{color:#b5b5b5}.quantity-error[_ngcontent-%COMP%]{color:#ff7070}.load-data[_ngcontent-%COMP%]{position:absolute;top:20;right:0;width:300px;margin-right:20px}.selected[_ngcontent-%COMP%]{background-color:#bae5ff!important}.orgunit-style[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}"]})}return i})();var G=u(3111);function L(i,n){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"country")),t.R7$(),t.SpI(" ",e.name," ")}}function U(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",21)(1,"select",22),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.regionsGenerate())}),t.DNE(2,L,2,3,"option",23),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.countries)}}function z(i,n){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"region")),t.R7$(),t.SpI(" ",e.name," ")}}function W(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",21)(1,"select",25),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.prefecturesGenerate())}),t.DNE(2,z,2,3,"option",23),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.regions)}}function Z(i,n){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"prefecture")),t.R7$(),t.SpI(" ",e.name," ")}}function K(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",21)(1,"select",26),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.communesGenerate())}),t.DNE(2,Z,2,3,"option",23),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.prefectures)}}function tt(i,n){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"commune")),t.R7$(),t.SpI(" ",e.name," ")}}function et(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",21)(1,"select",27),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.hospitalsGenerate())}),t.DNE(2,tt,2,3,"option",23),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.communes)}}function it(i,n){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"hospital")),t.R7$(),t.SpI(" ",e.name," ")}}function st(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",21)(1,"select",28),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.districtsGenerate())}),t.DNE(2,it,2,3,"option",23),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.hospitals)}}function ot(i,n){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"district_quartier")),t.R7$(),t.SpI(" ",e.name," ")}}function nt(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",21)(1,"select",29),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.recosGenerate())}),t.DNE(2,ot,2,3,"option",23),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.districtQuartiers)}}function rt(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",33)(1,"input",34),t.bIt("change",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.selectAllRecos())}),t.k0s(),t.j41(2,"label",35),t.EFF(3," Tout s\xe9lectionner"),t.k0s()()}if(2&i){const e=t.XpG(2);t.R7$(),t.Y8G("checked",e._formGroup.value.recos.length===e.recos.length)}}function ct(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",36),t.bIt("click",function(o){const h=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.onCheckboxChange(h.id,o))}),t.EFF(1),t.k0s()}if(2&i){const e=n.$implicit,s=t.XpG(2);t.ZvI("reco-list ",s.isSelected(e.id,"recos")?"reco-selected":"",""),t.R7$(),t.SpI(" ",e.name," ")}}function at(i,n){if(1&i&&(t.j41(0,"div",21)(1,"div",30),t.DNE(2,rt,4,1,"div",31)(3,ct,2,4,"div",32),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.recos.length>0),t.R7$(),t.Y8G("ngForOf",e.recos)}}function ht(i,n){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e)("selected",s.isSelected(e,"year")),t.R7$(),t.SpI(" ",e," ")}}function lt(i,n){if(1&i&&(t.j41(0,"div",21)(1,"select",37),t.DNE(2,ht,2,3,"option",23),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.Years$)}}function ut(i,n){if(1&i&&(t.j41(0,"option",24),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.HbH(s.isSelected(e.id,"month")?"selected":""),t.Y8G("value",e.id)("selected",s.isSelected(e.id,"month")),t.R7$(),t.SpI(" ",e.labelFR," ")}}function dt(i,n){if(1&i&&(t.j41(0,"div",21)(1,"select",38),t.DNE(2,ut,2,6,"option",39),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.Months$)}}function ft(i,n){1&i&&t.nrm(0,"span",40)}function pt(i,n){if(1&i&&(t.j41(0,"div",41)(1,"div",42)(2,"div",43)(3,"h6",44),t.EFF(4,"Total M\xe9nages"),t.k0s(),t.j41(5,"h3",45),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.householdCount)}}function mt(i,n){if(1&i&&(t.j41(0,"div",41)(1,"div",42)(2,"div",46)(3,"h6",44),t.EFF(4,"Total Patients"),t.k0s(),t.j41(5,"h3",45),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.patientCount)}}function _t(i,n){if(1&i&&(t.j41(0,"div",41)(1,"div",42)(2,"div",46)(3,"h6",44),t.EFF(4,"Total 0 \xe0 2 mois"),t.k0s(),t.j41(5,"h3",45),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.newborn0To2MonthsCount)}}function gt(i,n){if(1&i&&(t.j41(0,"div",41)(1,"div",42)(2,"div",46)(3,"h6",44),t.EFF(4,"Total 2 \xe0 60 mois"),t.k0s(),t.j41(5,"h3",45),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.child2To60MonthsCount)}}function $t(i,n){if(1&i&&(t.j41(0,"div",41)(1,"div",42)(2,"div",46)(3,"h6",44),t.EFF(4,"Total 5 \xe0 14 ans"),t.k0s(),t.j41(5,"h3",45),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.child5To14YearsCount)}}function vt(i,n){if(1&i&&(t.j41(0,"div",41)(1,"div",42)(2,"div",46)(3,"h6",44),t.EFF(4,"Total > \xe0 14 ans"),t.k0s(),t.j41(5,"h3",45),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.adultOver14YearsCount)}}function bt(i,n){if(1&i&&(t.j41(0,"div",41)(1,"div",42)(2,"div",46)(3,"h6",44),t.EFF(4,"Total consultations"),t.k0s(),t.j41(5,"h3",45),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.consultationCount)}}function Rt(i,n){if(1&i&&(t.j41(0,"div",41)(1,"div",42)(2,"div",46)(3,"h6",44),t.EFF(4,"Total des suivis"),t.k0s(),t.j41(5,"h3",45),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.followupCount)}}function Gt(i,n){if(1&i&&(t.j41(0,"div",41)(1,"div",42)(2,"div",46)(3,"h6",44),t.EFF(4,"Total des Actions"),t.k0s(),t.j41(5,"h3",45),t.EFF(6),t.k0s()()()()),2&i){const e=t.XpG();t.R7$(6),t.JRh(e.allActionsCount)}}let Ct=(()=>{class i{constructor(e,s,o,h,a){this.urlT=e,this.ldbfetch=s,this.userCtx=o,this.auth=h,this.snackbar=a,this.Months$=[],this.Years$=[],this.data_syncing=!1,this.Countries$=[],this.Regions$=[],this.Prefectures$=[],this.Communes$=[],this.Hospitals$=[],this.DistrictQuartiers$=[],this.VillageSecteurs$=[],this.Chws$=[],this.Recos$=[],this.countries=[],this.regions=[],this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.villageSecteurs=[],this.chws=[],this.recos=[],this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4,this.getCurrentUserCtx()}ngAfterViewInit(){setTimeout(()=>{this.countriesGenerate(),this.regionsGenerate(),this.prefecturesGenerate(),this.communesGenerate(),this.hospitalsGenerate(),this.districtsGenerate(),this.recosGenerate()})}onResize(e){this.screenWidth=window.innerWidth}ngOnInit(){this.year$=(0,c.vW)(),this.month$=(0,c.Ej)(),this.Months$=(0,c.kT)().filter(e=>this.month$&&e.uid<=this.month$.uid),this.Years$=(0,c.DE)().filter(e=>this.year$&&e<=this.year$),this._formGroup=this.CreateFormGroup()}getCurrentUserCtx(){const e=this.userCtx.currentUserCtx;this.Countries$.length>0||(this.Countries$=e?.countries??[]),this.Regions$.length>0||(this.Regions$=e?.regions??[]),this.Prefectures$.length>0||(this.Prefectures$=e?.prefectures??[]),this.Communes$.length>0||(this.Communes$=e?.communes??[]),this.Hospitals$.length>0||(this.Hospitals$=e?.hospitals??[]),this.DistrictQuartiers$.length>0||(this.DistrictQuartiers$=e?.districtQuartiers??[]),this.VillageSecteurs$.length>0||(this.VillageSecteurs$=e?.villageSecteurs??[]),this.Chws$.length>0||(this.Chws$=e?.chws??[]),this.Recos$.length>0||(this.Recos$=e?.recos??[])}CreateFormGroup(){const e={year:new r.MJ(this.year$,[r.k0.required]),months:new r.MJ(this.month$.id,[r.k0.required])};return this.Countries$.length>1&&(e.country=new r.MJ("",[r.k0.required])),this.Regions$.length>1&&(e.region=new r.MJ("",[r.k0.required])),this.Prefectures$.length>1&&(e.prefecture=new r.MJ("",[r.k0.required])),this.Communes$.length>1&&(e.commune=new r.MJ("",[r.k0.required])),this.Hospitals$.length>1&&(e.hospital=new r.MJ("",[r.k0.required])),this.DistrictQuartiers$.length>1&&(e.district_quartier=new r.MJ("",[r.k0.required])),this.Recos$.length>1&&(e.recos=new r.MJ("",[r.k0.required])),new r.gE(e)}isSelected(e,s){return"year"===s?this._formGroup.value.year===e:"month"===s?(0,c.$r)(this._formGroup.value.months).includes(`${e}`):"country"===s?this._formGroup.value.country===e:"region"===s?this._formGroup.value.region===e:"prefecture"===s?this._formGroup.value.prefecture===e:"commune"===s?this._formGroup.value.commune===e:"hospital"===s?this._formGroup.value.hospital===e:"district_quartier"===s?this._formGroup.value.district_quartier===e:"recos"===s&&(0,c.$r)(this._formGroup.value.recos).includes(`${e}`)}countriesGenerate(){this.countries=this.Countries$,(1===this.Countries$.length||1===this.countries.length)&&(this._formGroup.value.country=this.Countries$[0].id),this.regionsGenerate()}regionsGenerate(){this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.chws=[],this.villageSecteurs=[],this.recos=[],this.Countries$.length>0?this.Regions$.length>1&&(0,c.TM)(this._formGroup.value.country)?this.regions=this.Regions$.filter(e=>e.country_id===this._formGroup.value.country):1===this.Regions$.length?(this.regions=this.Regions$,this._formGroup.value.region=this.Regions$[0].id):this.regions=[]:this.Regions$.length>=1?(this.regions=this.Regions$,1===this.Regions$.length&&(this._formGroup.value.region=this.Regions$[0].id)):this.regions=[],1===this.regions.length&&(this._formGroup.value.region=this.regions[0].id),this.prefecturesGenerate()}prefecturesGenerate(){this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.chws=[],this.villageSecteurs=[],this.recos=[],this.Regions$.length>0?this.Prefectures$.length>1&&(0,c.TM)(this._formGroup.value.region)?this.prefectures=this.Prefectures$.filter(e=>e.region_id===this._formGroup.value.region):1===this.Prefectures$.length?(this.prefectures=this.Prefectures$,this._formGroup.value.prefecture=this.Prefectures$[0].id):this.prefectures=[]:this.Prefectures$.length>=1?(this.prefectures=this.Prefectures$,1===this.Prefectures$.length&&(this._formGroup.value.prefecture=this.Prefectures$[0].id)):this.prefectures=[],1===this.prefectures.length&&(this._formGroup.value.prefecture=this.prefectures[0].id),this.communesGenerate()}communesGenerate(){this.hospitals=[],this.districtQuartiers=[],this.chws=[],this.villageSecteurs=[],this.recos=[],this.Prefectures$.length>0?this.Communes$.length>1&&(0,c.TM)(this._formGroup.value.prefecture)?this.communes=this.Communes$.filter(e=>e.prefecture_id===this._formGroup.value.prefecture):1===this.Communes$.length?(this.communes=this.Communes$,this._formGroup.value.commune=this.Communes$[0].id):this.communes=[]:this.Communes$.length>=1?(this.communes=this.Communes$,1===this.Communes$.length&&(this._formGroup.value.commune=this.Communes$[0].id)):this.communes=[],1===this.communes.length&&(this._formGroup.value.commune=this.communes[0].id),this.hospitalsGenerate()}hospitalsGenerate(){this.districtQuartiers=[],this.chws=[],this.villageSecteurs=[],this.recos=[],this.Communes$.length>0?this.Hospitals$.length>1&&(0,c.TM)(this._formGroup.value.commune)?this.hospitals=this.Hospitals$.filter(e=>e.commune_id===this._formGroup.value.commune):1===this.Hospitals$.length?(this.hospitals=this.Hospitals$,this._formGroup.value.hospital=this.Hospitals$[0].id):this.hospitals=[]:this.Hospitals$.length>=1?(this.hospitals=this.Hospitals$,1===this.Hospitals$.length&&(this._formGroup.value.hospital=this.Hospitals$[0].id)):this.hospitals=[],1===this.hospitals.length&&(this._formGroup.value.hospital=this.hospitals[0].id),this.districtsGenerate()}districtsGenerate(){this.chws=[],this.villageSecteurs=[],this.recos=[],this.Hospitals$.length>0?this.DistrictQuartiers$.length>1&&(0,c.TM)(this._formGroup.value.hospital)?this.districtQuartiers=this.DistrictQuartiers$.filter(e=>e.hospital_id===this._formGroup.value.hospital):1===this.DistrictQuartiers$.length?(this.districtQuartiers=this.DistrictQuartiers$,this._formGroup.value.district_quartier=this.DistrictQuartiers$[0].id):this.districtQuartiers=[]:this.DistrictQuartiers$.length>=1?(this.districtQuartiers=this.DistrictQuartiers$,1===this.DistrictQuartiers$.length&&(this._formGroup.value.district_quartier=this.DistrictQuartiers$[0].id)):this.districtQuartiers=[],1===this.districtQuartiers.length&&(this._formGroup.value.district_quartier=this.districtQuartiers[0].id),this.recosGenerate()}recosGenerate(){this.recos=this.DistrictQuartiers$.length>0?this.Recos$.length>1&&(0,c.TM)(this._formGroup.value.district_quartier)?this.Recos$.filter(e=>e.district_quartier_id===this._formGroup.value.district_quartier):1===this.Recos$.length?this.Recos$:[]:this.Recos$.length>=1?this.Recos$:[],this.recos.length>0&&(this._formGroup.value.recos=this.recos.map(e=>e.id))}onCheckboxChange(e,s){const o=(0,c.$r)(this._formGroup.value.recos??[]),[h,a]=(()=>{let l=-1;return[o.find((p,m)=>p===e&&(l=m,!0)),l]})();-1!==a?o.splice(a,1):o.push(e),this._formGroup.value.recos=o}selectAllRecos(){this._formGroup.value.recos=this._formGroup.value.recos.length===this.recos.length?[]:this.recos.map(e=>e.id)}quantityStyle(e){return e<0?"quantity-error":e>0?"quantity-up":"quantity-down"}SHOW_DATA(e){e.preventDefault(),this._formGroup.value.recos.length>0?(0,c.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.data_syncing=!0,this._formGroup.value.months=(0,c.$r)(this._formGroup.value.months),this.ldbfetch.GetRecoPerformanceDashboard(this._formGroup.value).then(s=>{this.householdCount=s?.data.householdCount??0,this.patientCount=s?.data.patientCount??0,this.newborn0To2MonthsCount=s?.data.newborn0To2MonthsCount??0,this.child2To60MonthsCount=s?.data.child2To60MonthsCount??0,this.child5To14YearsCount=s?.data.child5To14YearsCount??0,this.adultOver14YearsCount=s?.data.adultOver14YearsCount??0,this.consultationCount=s?.data.consultationCount??0,this.followupCount=s?.data.followupCount??0,this.allActionsCount=s?.data.allActionsCount??0;const o=s?.data.barChart,h=s?.data.yearBarChart,a=s?.data.yearLineChart;o&&(this.BAR_TITLE=o.title,this.generateChart({cibleId:"bar-chart",type:"bar",absisseLabels:o.absisseLabels,datasets:o.datasets})),a&&(this.YEAR_LINE_TITLE=a.title,this.generateChart({cibleId:"year-line-chart",type:"line",absisseLabels:a.absisseLabels,datasets:a.datasets})),h&&(this.YEAR_BAR_TITLE=h.title,this.generateChart({cibleId:"year-bar-chart",type:"bar",absisseLabels:h.absisseLabels,datasets:h.datasets})),this.MONTH=(0,c.Ab)(this._formGroup.value.month).labelFR,this.YEAR=this._formGroup.value.year,s||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.data_syncing=!1},s=>{console.log(s),this.data_syncing=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}generateChart(e){const s=$("#"+e.cibleId).get(0);s&&s.chart&&s.chart.destroy(),Chart.defaults.color="#6C7293",Chart.defaults.borderColor="#000000";var o=[];for(const l of e.datasets){const d={label:l.label,backgroundColor:l.backgroundColor,data:l.data,borderWidth:"bar"!==e.type?3:0,pointBorderColor:"#000",pointBorderWidth:3,pointRadius:4,pointHoverBackgroundColor:"#fff",pointHoverBorderWidth:2};l.fill&&(d.fill=!0===l.fill),l.borderColor&&(d.borderColor=l.borderColor),l.pointBackgroundColor&&(d.pointBackgroundColor=l.pointBackgroundColor),l.pointHoverBorderColor&&(d.pointHoverBorderColor=l.pointHoverBorderColor),o.push(d)}const h=s.getContext("2d"),a=new Chart(h,{type:e.type,data:{labels:e.absisseLabels,datasets:o},options:{responsive:!0,maintainAspectRatio:!0,hover:{mode:"nearest",intersect:!0},title:{display:!0,text:"REOC DATA",fontSize:16,fontColor:"#333",fontFamily:"Arial",fontStyle:"bold"},legend:{display:!0,position:"top",labels:{fontSize:12,fontColor:"#666",fontFamily:"Arial",fontStyle:"normal"}},tooltips:{enabled:!0,mode:"label",backgroundColor:"rgba(0,0,0,0.2)",titleFontFamily:"Arial",titleFontSize:14,titleFontStyle:"normal",titleFontColor:"#fff",bodyFontFamily:"Arial",bodyFontSize:12,bodyFontStyle:"normal",bodyFontColor:"#fff",displayColors:!1},scales:{x:{display:!0,ticks:{beginAtZero:!0,fontSize:12,fontColor:"#666",fontFamily:"Arial",fontStyle:"normal"},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)",offsetGridLines:!0},scaleLabel:{display:!0,labelString:"Value"}},y:{display:!0,ticks:{beginAtZero:!0,fontSize:12,fontColor:"#666",fontFamily:"Arial",fontStyle:"normal"},grid:{display:!0,color:"rgba(0, 0, 0, 0.1)",offsetGridLines:!0},scaleLabel:{display:!0,labelString:"Value"}}}}});s.chart=a}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(_.h),t.rXU(g.F),t.rXU(v.i),t.rXU(b.u),t.rXU(R.z))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["reco-performance"]],hostBindings:function(s,o){1&s&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},decls:58,vars:37,consts:[[1,"row","g-4",2,"margin","0px 5px 0px 5px"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[1,"rounded","p-6"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],["class","col-sm-2 col-xl-2",4,"ngIf"],[1,"col-sm-3","col-xl-2"],[1,"btn","btn-info",2,"width","100%",3,"disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],[1,"table-responsive",2,"padding-top","20px"],[2,"color","black"],[1,"container-fluid","pt-4","px-4"],[1,"row","g-4"],["class","col-sm-3 col-xl-3",4,"ngIf"],[1,"col-sm-12","col-xl-12"],[1,"mb-4","dark-color"],["id","bar-chart"],["id","year-line-chart"],["id","year-bar-chart"],["id","line-chart"],[1,"col-sm-2","col-xl-2"],["formControlName","country",1,"orgunit-style","form-select","mb-2",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["formControlName","region",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","prefecture",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","commune",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","hospital",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","district_quartier",1,"orgunit-style","form-select","mb-2",3,"change"],[1,"reco-list-container","orgunit-style","form-selec","mb-2"],["style","color:darkblue; width: 200%; font-weight: bold;",4,"ngIf"],[3,"class","click",4,"ngFor","ngForOf"],[2,"color","darkblue","width","200%","font-weight","bold"],["type","checkbox","id","reco-list-all",3,"change","checked"],["for","reco-list-all"],[3,"click"],["formControlName","year",1,"orgunit-style","form-select","mb-2"],["formControlName","months",1,"orgunit-style","form-select","mb-2"],[3,"class","value","selected",4,"ngFor","ngForOf"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"],[1,"col-sm-3","col-xl-3"],[1,"bg-chart","rounded","d-flex","align-items-center","justify-content-between","p-2"],[1,"ms-3"],[1,"mb-2","black-color"],[1,"mb-0","dark-color"],[1,"ms-2"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"form",4),t.bIt("ngSubmit",function(a){return o.SHOW_DATA(a)}),t.j41(6,"div",5),t.DNE(7,U,3,1,"div",6)(8,W,3,1,"div",6)(9,K,3,1,"div",6)(10,et,3,1,"div",6)(11,st,3,1,"div",6)(12,nt,3,1,"div",6)(13,at,4,2,"div",6)(14,lt,3,1,"div",6)(15,dt,3,1,"div",6),t.j41(16,"div",7)(17,"button",8),t.EFF(18," Charger "),t.DNE(19,ft,1,0,"span",9),t.k0s()()()()()(),t.j41(20,"div",10)(21,"h3",11),t.EFF(22,"PERFORMANCE DES RECOS"),t.k0s(),t.j41(23,"div",12)(24,"div",13),t.DNE(25,pt,7,1,"div",14)(26,mt,7,1,"div",14)(27,_t,7,1,"div",14)(28,gt,7,1,"div",14)(29,$t,7,1,"div",14)(30,vt,7,1,"div",14)(31,bt,7,1,"div",14)(32,Rt,7,1,"div",14)(33,Gt,7,1,"div",14),t.k0s()(),t.j41(34,"div",12)(35,"div",13)(36,"div",12)(37,"div",13)(38,"div",15)(39,"div")(40,"h6",16),t.EFF(41),t.k0s(),t.nrm(42,"canvas",17),t.k0s()(),t.j41(43,"div",15)(44,"div")(45,"h6",16),t.EFF(46),t.k0s(),t.nrm(47,"canvas",18),t.k0s()(),t.j41(48,"div",15)(49,"div")(50,"h6",16),t.EFF(51),t.k0s(),t.nrm(52,"canvas",19),t.k0s()(),t.j41(53,"div",15)(54,"div")(55,"h6",16),t.EFF(56),t.k0s(),t.nrm(57,"canvas",20),t.k0s()()()()()()()()()()),2&s&&(t.R7$(5),t.Y8G("formGroup",o._formGroup),t.R7$(2),t.Y8G("ngIf",o.Countries$.length>1&&0===o.countries.length||o.countries.length>1),t.R7$(),t.Y8G("ngIf",o.Regions$.length>1&&0===o.regions.length||o.regions.length>1),t.R7$(),t.Y8G("ngIf",o.Prefectures$.length>1&&0===o.prefectures.length||o.prefectures.length>1),t.R7$(),t.Y8G("ngIf",o.Communes$.length>1&&0===o.communes.length||o.communes.length>1),t.R7$(),t.Y8G("ngIf",o.Hospitals$.length>1&&0===o.hospitals.length||o.hospitals.length>1),t.R7$(),t.Y8G("ngIf",o.DistrictQuartiers$.length>1&&0===o.districtQuartiers.length||o.districtQuartiers.length>1),t.R7$(),t.Y8G("ngIf",o.Recos$.length>1&&0===o.recos.length||o.recos.length>1),t.R7$(),t.Y8G("ngIf",o.Years$.length>0),t.R7$(),t.Y8G("ngIf",o.Months$.length>0),t.R7$(2),t.Y8G("disabled",o.data_syncing),t.R7$(2),t.Y8G("ngIf",o.data_syncing),t.R7$(6),t.Y8G("ngIf",o.householdCount>=0),t.R7$(),t.Y8G("ngIf",o.patientCount>=0),t.R7$(),t.Y8G("ngIf",o.newborn0To2MonthsCount>=0),t.R7$(),t.Y8G("ngIf",o.child2To60MonthsCount>=0),t.R7$(),t.Y8G("ngIf",o.child5To14YearsCount>=0),t.R7$(),t.Y8G("ngIf",o.adultOver14YearsCount>=0),t.R7$(),t.Y8G("ngIf",o.consultationCount>=0),t.R7$(),t.Y8G("ngIf",o.followupCount>=0),t.R7$(),t.Y8G("ngIf",o.allActionsCount>=0),t.R7$(6),t.ZvI("",o.BAR_TITLE&&""!==o.BAR_TITLE?"bg-chart":"bg-white"," rounded h-100 p-4"),t.R7$(2),t.JRh(o.BAR_TITLE),t.R7$(3),t.ZvI("",o.YEAR_LINE_TITLE&&""!==o.YEAR_LINE_TITLE?"bg-chart":"bg-white"," rounded h-100 p-4"),t.R7$(2),t.JRh(o.YEAR_LINE_TITLE),t.R7$(3),t.ZvI("",o.YEAR_BAR_TITLE&&""!==o.YEAR_BAR_TITLE?"bg-chart":"bg-white"," rounded h-100 p-4"),t.R7$(2),t.JRh(o.YEAR_BAR_TITLE),t.R7$(3),t.ZvI("",o.LINE_TITLE&&""!==o.LINE_TITLE?"bg-chart":"bg-white"," rounded h-100 p-4"),t.R7$(2),t.JRh(o.LINE_TITLE))},dependencies:[f.Sq,f.bT,r.qT,r.xH,r.y7,r.wz,r.BC,r.cb,r.j4,r.JD],styles:[".org-units[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#5e5e5e!important;text-decoration:none;border-bottom:2px dashed!important}.selected[_ngcontent-%COMP%]{background-color:#bae5ff!important}.bg-chart[_ngcontent-%COMP%]{background-color:azure;border:1px solid rgb(209,243,255)!important}.dark-color[_ngcontent-%COMP%]{color:#00008b!important}.black-color[_ngcontent-%COMP%]{color:#797979!important}.show[_ngcontent-%COMP%]{visibility:visible}.hide[_ngcontent-%COMP%]{visibility:hidden;background-color:#fff}.orgunit-style[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}"]})}return i})();var Ft=u(6098);let Tt=(()=>{class i{constructor(e){this.sanitizer=e}transform(e,s){switch(s){case"html":default:return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e)}}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(Ft.up,16))};static#e=this.\u0275pipe=t.EJ8({name:"safeHtml",type:i,pure:!0});static#i=this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const kt=()=>[];function yt(i,n){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"country")),t.R7$(),t.SpI(" ",e.name," ")}}function Et(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",24)(1,"select",25),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.regionsGenerate())}),t.DNE(2,yt,2,3,"option",26),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.countries)}}function Dt(i,n){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"region")),t.R7$(),t.SpI(" ",e.name," ")}}function jt(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",24)(1,"select",28),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.prefecturesGenerate())}),t.DNE(2,Dt,2,3,"option",26),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.regions)}}function It(i,n){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"prefecture")),t.R7$(),t.SpI(" ",e.name," ")}}function Mt(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",24)(1,"select",29),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.communesGenerate())}),t.DNE(2,It,2,3,"option",26),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.prefectures)}}function Yt(i,n){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"commune")),t.R7$(),t.SpI(" ",e.name," ")}}function Pt(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",24)(1,"select",30),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.hospitalsGenerate())}),t.DNE(2,Yt,2,3,"option",26),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.communes)}}function wt(i,n){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"hospital")),t.R7$(),t.SpI(" ",e.name," ")}}function St(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",24)(1,"select",31),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.districtsGenerate())}),t.DNE(2,wt,2,3,"option",26),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.hospitals)}}function Ot(i,n){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e.id)("selected",s.isSelected(e.id,"district_quartier")),t.R7$(),t.SpI(" ",e.name," ")}}function Ht(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",24)(1,"select",32),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.recosGenerate())}),t.DNE(2,Ot,2,3,"option",26),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.districtQuartiers)}}function Vt(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",36)(1,"input",37),t.bIt("change",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.selectAllRecos())}),t.k0s(),t.j41(2,"label",38),t.EFF(3," Tout s\xe9lectionner"),t.k0s()()}if(2&i){const e=t.XpG(2);t.R7$(),t.Y8G("checked",e._formGroup.value.recos.length===e.recos.length)}}function xt(i,n){if(1&i){const e=t.RV6();t.j41(0,"div",39),t.bIt("click",function(o){const h=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.onCheckboxChange(h.id,o))}),t.EFF(1),t.k0s()}if(2&i){const e=n.$implicit,s=t.XpG(2);t.ZvI("reco-list ",s.isSelected(e.id,"recos")?"reco-selected":"",""),t.R7$(),t.SpI(" ",e.name," ")}}function Nt(i,n){if(1&i&&(t.j41(0,"div",24)(1,"div",33),t.DNE(2,Vt,4,1,"div",34)(3,xt,2,4,"div",35),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.recos.length>0),t.R7$(),t.Y8G("ngForOf",e.recos)}}function Xt(i,n){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.Y8G("value",e)("selected",s.isSelected(e,"year")),t.R7$(),t.SpI(" ",e," ")}}function At(i,n){if(1&i&&(t.j41(0,"div",24)(1,"select",40),t.DNE(2,Xt,2,3,"option",26),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.Years$)}}function Qt(i,n){if(1&i&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&i){const e=n.$implicit,s=t.XpG(2);t.HbH(s.isSelected(e.id,"month")?"selected":""),t.Y8G("value",e.id)("selected",s.isSelected(e.id,"month")),t.R7$(),t.SpI(" ",e.labelFR," ")}}function qt(i,n){if(1&i&&(t.j41(0,"div",24)(1,"select",41),t.DNE(2,Qt,2,6,"option",42),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.Months$)}}function Bt(i,n){1&i&&t.nrm(0,"span",43)}function Jt(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Lt(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Ut(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function zt(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Wt(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Zt(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function Kt(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function te(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function ee(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function ie(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function se(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function oe(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function ne(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function re(i,n){if(1&i&&(t.j41(0,"th"),t.nrm(1,"span",49),t.nI1(2,"safeHtml"),t.k0s()),2&i){const e=n.ngIf;t.HbH(e.class),t.R7$(),t.Y8G("innerHTML",t.bMT(2,4,e.action),t.npT)}}function ce(i,n){if(1&i&&(t.qex(0),t.j41(1,"th",47),t.EFF(2),t.k0s(),t.j41(3,"th",47),t.EFF(4),t.k0s(),t.j41(5,"th",47),t.EFF(6),t.k0s(),t.j41(7,"th",47),t.EFF(8),t.k0s(),t.j41(9,"th",47),t.EFF(10),t.k0s(),t.DNE(11,Jt,3,6,"th",48)(12,Lt,3,6,"th",48)(13,Ut,3,6,"th",48)(14,zt,3,6,"th",48)(15,Wt,3,6,"th",48)(16,Zt,3,6,"th",48)(17,Kt,3,6,"th",48)(18,te,3,6,"th",48)(19,ee,3,6,"th",48)(20,ie,3,6,"th",48)(21,se,3,6,"th",48)(22,oe,3,6,"th",48)(23,ne,3,6,"th",48)(24,re,3,6,"th",48),t.bVm()),2&i){const e=n.$implicit,s=t.XpG(3);t.R7$(2),t.JRh(e.child_name),t.R7$(2),t.JRh(e.child_sex),t.R7$(2),t.JRh(e.child_age_str),t.R7$(2),t.JRh(e.child_code),t.R7$(2),t.JRh(e.child_phone),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_BCG,e.child_age_in_days,0)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VPO_0,e.child_age_in_days,0)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_PENTA_1,e.child_age_in_days,42)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VPO_1,e.child_age_in_days,42)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_PENTA_2,e.child_age_in_days,70)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VPO_2,e.child_age_in_days,70)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_PENTA_3,e.child_age_in_days,98)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VPO_3,e.child_age_in_days,98)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VPI_1,e.child_age_in_days,98)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VAR_1,e.child_age_in_months,9)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VAA,e.child_age_in_months,9)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VPI_2,e.child_age_in_months,9)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_MEN_A,e.child_age_in_months,15)),t.R7$(),t.Y8G("ngIf",s.vaccineUtils(e.vaccine_VAR_2,e.child_age_in_months,15))}}function ae(i,n){if(1&i&&(t.j41(0,"tr")(1,"th",45),t.EFF(2),t.k0s(),t.j41(3,"th",46),t.EFF(4),t.k0s(),t.DNE(5,ce,25,19,"ng-container",44),t.k0s()),2&i){const e=n.$implicit;t.R7$(),t.Y8G("rowSpan",e.data.length),t.R7$(),t.JRh(e.family_code),t.R7$(),t.Y8G("rowSpan",e.data.length),t.R7$(),t.JRh(e.family_fullname.replaceAll(e.family_code+" - ","")),t.R7$(),t.Y8G("ngForOf",e.data)}}function he(i,n){if(1&i&&(t.j41(0,"tbody",16),t.DNE(1,ae,6,5,"tr",44),t.k0s()),2&i){const e=n.$implicit;t.R7$(),t.Y8G("ngForOf",e.children_vaccines)}}const ue=[{path:"",redirectTo:"reco-performance-dashboard",pathMatch:"full"},{path:"reco-performance-dashboard",component:Ct,canActivate:[G.d],data:{href:"dashboards/reco-performance-dashboard",title:"Performance des Reco"}},{path:"reco-vaccination-dashboard",component:(()=>{class i{constructor(e,s,o,h,a){this.urlT=e,this.ldbfetch=s,this.userCtx=o,this.auth=h,this.snackbar=a,this.Months$=[],this.Years$=[],this.data_syncing=!1,this.Countries$=[],this.Regions$=[],this.Prefectures$=[],this.Communes$=[],this.Hospitals$=[],this.DistrictQuartiers$=[],this.VillageSecteurs$=[],this.Chws$=[],this.Recos$=[],this.countries=[],this.regions=[],this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.villageSecteurs=[],this.chws=[],this.recos=[],this.screenWidth=window.innerWidth,this.COLUMN_WIDTH=(window.innerWidth-600)/4,this.getCurrentUserCtx()}ngAfterViewInit(){setTimeout(()=>{this.countriesGenerate(),this.regionsGenerate(),this.prefecturesGenerate(),this.communesGenerate(),this.hospitalsGenerate(),this.districtsGenerate(),this.recosGenerate()})}onResize(e){this.screenWidth=window.innerWidth}ngOnInit(){this.year$=(0,c.vW)(),this.month$=(0,c.Ej)(),this.Months$=(0,c.kT)().filter(e=>this.month$&&e.uid<=this.month$.uid),this.Years$=(0,c.DE)().filter(e=>this.year$&&e<=this.year$),this._formGroup=this.CreateFormGroup()}vaccineUtils(e,s,o){return s>=o?{class:!0===e?"vaccine-on":"vaccine-off",action:!0===e?"&#10003;":"&times;"}:{class:"vaccine-NA",action:"NA"}}getCurrentUserCtx(){const e=this.userCtx.currentUserCtx;this.Countries$.length>0||(this.Countries$=e?.countries??[]),this.Regions$.length>0||(this.Regions$=e?.regions??[]),this.Prefectures$.length>0||(this.Prefectures$=e?.prefectures??[]),this.Communes$.length>0||(this.Communes$=e?.communes??[]),this.Hospitals$.length>0||(this.Hospitals$=e?.hospitals??[]),this.DistrictQuartiers$.length>0||(this.DistrictQuartiers$=e?.districtQuartiers??[]),this.VillageSecteurs$.length>0||(this.VillageSecteurs$=e?.villageSecteurs??[]),this.Chws$.length>0||(this.Chws$=e?.chws??[]),this.Recos$.length>0||(this.Recos$=e?.recos??[])}CreateFormGroup(){const e={year:new r.MJ(this.year$,[r.k0.required]),months:new r.MJ(this.month$.id,[r.k0.required])};return this.Countries$.length>1&&(e.country=new r.MJ("",[r.k0.required])),this.Regions$.length>1&&(e.region=new r.MJ("",[r.k0.required])),this.Prefectures$.length>1&&(e.prefecture=new r.MJ("",[r.k0.required])),this.Communes$.length>1&&(e.commune=new r.MJ("",[r.k0.required])),this.Hospitals$.length>1&&(e.hospital=new r.MJ("",[r.k0.required])),this.DistrictQuartiers$.length>1&&(e.district_quartier=new r.MJ("",[r.k0.required])),this.Recos$.length>1&&(e.recos=new r.MJ("",[r.k0.required])),new r.gE(e)}isSelected(e,s){return"year"===s?this._formGroup.value.year===e:"month"===s?(0,c.$r)(this._formGroup.value.months).includes(`${e}`):"country"===s?this._formGroup.value.country===e:"region"===s?this._formGroup.value.region===e:"prefecture"===s?this._formGroup.value.prefecture===e:"commune"===s?this._formGroup.value.commune===e:"hospital"===s?this._formGroup.value.hospital===e:"district_quartier"===s?this._formGroup.value.district_quartier===e:"recos"===s&&(0,c.$r)(this._formGroup.value.recos).includes(`${e}`)}countriesGenerate(){this.countries=this.Countries$,(1===this.Countries$.length||1===this.countries.length)&&(this._formGroup.value.country=this.Countries$[0].id),this.regionsGenerate()}regionsGenerate(){this.prefectures=[],this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.chws=[],this.villageSecteurs=[],this.recos=[],this.Countries$.length>0?this.Regions$.length>1&&(0,c.TM)(this._formGroup.value.country)?this.regions=this.Regions$.filter(e=>e.country_id===this._formGroup.value.country):1===this.Regions$.length?(this.regions=this.Regions$,this._formGroup.value.region=this.Regions$[0].id):this.regions=[]:this.Regions$.length>=1?(this.regions=this.Regions$,1===this.Regions$.length&&(this._formGroup.value.region=this.Regions$[0].id)):this.regions=[],1===this.regions.length&&(this._formGroup.value.region=this.regions[0].id),this.prefecturesGenerate()}prefecturesGenerate(){this.communes=[],this.hospitals=[],this.districtQuartiers=[],this.chws=[],this.villageSecteurs=[],this.recos=[],this.Regions$.length>0?this.Prefectures$.length>1&&(0,c.TM)(this._formGroup.value.region)?this.prefectures=this.Prefectures$.filter(e=>e.region_id===this._formGroup.value.region):1===this.Prefectures$.length?(this.prefectures=this.Prefectures$,this._formGroup.value.prefecture=this.Prefectures$[0].id):this.prefectures=[]:this.Prefectures$.length>=1?(this.prefectures=this.Prefectures$,1===this.Prefectures$.length&&(this._formGroup.value.prefecture=this.Prefectures$[0].id)):this.prefectures=[],1===this.prefectures.length&&(this._formGroup.value.prefecture=this.prefectures[0].id),this.communesGenerate()}communesGenerate(){this.hospitals=[],this.districtQuartiers=[],this.chws=[],this.villageSecteurs=[],this.recos=[],this.Prefectures$.length>0?this.Communes$.length>1&&(0,c.TM)(this._formGroup.value.prefecture)?this.communes=this.Communes$.filter(e=>e.prefecture_id===this._formGroup.value.prefecture):1===this.Communes$.length?(this.communes=this.Communes$,this._formGroup.value.commune=this.Communes$[0].id):this.communes=[]:this.Communes$.length>=1?(this.communes=this.Communes$,1===this.Communes$.length&&(this._formGroup.value.commune=this.Communes$[0].id)):this.communes=[],1===this.communes.length&&(this._formGroup.value.commune=this.communes[0].id),this.hospitalsGenerate()}hospitalsGenerate(){this.districtQuartiers=[],this.chws=[],this.villageSecteurs=[],this.recos=[],this.Communes$.length>0?this.Hospitals$.length>1&&(0,c.TM)(this._formGroup.value.commune)?this.hospitals=this.Hospitals$.filter(e=>e.commune_id===this._formGroup.value.commune):1===this.Hospitals$.length?(this.hospitals=this.Hospitals$,this._formGroup.value.hospital=this.Hospitals$[0].id):this.hospitals=[]:this.Hospitals$.length>=1?(this.hospitals=this.Hospitals$,1===this.Hospitals$.length&&(this._formGroup.value.hospital=this.Hospitals$[0].id)):this.hospitals=[],1===this.hospitals.length&&(this._formGroup.value.hospital=this.hospitals[0].id),this.districtsGenerate()}districtsGenerate(){this.chws=[],this.villageSecteurs=[],this.recos=[],this.Hospitals$.length>0?this.DistrictQuartiers$.length>1&&(0,c.TM)(this._formGroup.value.hospital)?this.districtQuartiers=this.DistrictQuartiers$.filter(e=>e.hospital_id===this._formGroup.value.hospital):1===this.DistrictQuartiers$.length?(this.districtQuartiers=this.DistrictQuartiers$,this._formGroup.value.district_quartier=this.DistrictQuartiers$[0].id):this.districtQuartiers=[]:this.DistrictQuartiers$.length>=1?(this.districtQuartiers=this.DistrictQuartiers$,1===this.DistrictQuartiers$.length&&(this._formGroup.value.district_quartier=this.DistrictQuartiers$[0].id)):this.districtQuartiers=[],1===this.districtQuartiers.length&&(this._formGroup.value.district_quartier=this.districtQuartiers[0].id),this.recosGenerate()}recosGenerate(){this.recos=this.DistrictQuartiers$.length>0?this.Recos$.length>1&&(0,c.TM)(this._formGroup.value.district_quartier)?this.Recos$.filter(e=>e.district_quartier_id===this._formGroup.value.district_quartier):1===this.Recos$.length?this.Recos$:[]:this.Recos$.length>=1?this.Recos$:[],this.recos.length>0&&(this._formGroup.value.recos=this.recos.map(e=>e.id))}onCheckboxChange(e,s){const o=(0,c.$r)(this._formGroup.value.recos??[]),[h,a]=(()=>{let l=-1;return[o.find((p,m)=>p===e&&(l=m,!0)),l]})();-1!==a?o.splice(a,1):o.push(e),this._formGroup.value.recos=o}selectAllRecos(){this._formGroup.value.recos=this._formGroup.value.recos.length===this.recos.length?[]:this.recos.map(e=>e.id)}quantityStyle(e){return e<0?"quantity-error":e>0?"quantity-up":"quantity-down"}SHOW_DATA(e){e.preventDefault(),this._formGroup.value.recos.length>0?(0,c.$r)(this._formGroup.value.months).length>0?this._formGroup.value.year>0?(this.data_syncing=!0,this._formGroup.value.months=(0,c.$r)(this._formGroup.value.months),this.ldbfetch.GetRecoVaccinationDashboard(this._formGroup.value).then(s=>{this.RECO_VACCINES$=s?.data,this.MONTH=(0,c.Ab)(this._formGroup.value.month).labelFR,this.YEAR=this._formGroup.value.year,s||this.snackbar.show("No data found for this RECO with informations you provide!\nYou can sync data from cloud and retry!",{backgroundColor:"info",position:"TOP",duration:5e3}),this.data_syncing=!1},s=>{this.data_syncing=!1})):this.snackbar.show("You don't provide year, please select year!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide month, please select month!",{backgroundColor:"warning",position:"TOP"}):this.snackbar.show("You don't provide recos, please select reco!",{backgroundColor:"warning",position:"TOP"})}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(_.h),t.rXU(g.F),t.rXU(v.i),t.rXU(b.u),t.rXU(R.z))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["reco-vaccination"]],hostBindings:function(s,o){1&s&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},decls:86,vars:27,consts:[[1,"row","g-4",2,"margin","0px 5px 0px 5px"],[1,"col-12"],[1,"bg-white","rounded","h-100","p-0"],[1,"rounded","p-6"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],["class","col-sm-2 col-xl-2",4,"ngIf"],[1,"col-sm-3","col-xl-2"],[1,"btn","btn-info",2,"width","100%",3,"disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],[1,"table-responsive",2,"padding-top","20px"],[1,"table","table-bordered","table-hover"],[1,"no-border"],["colspan","21",2,"height","30px!important"],[2,"color","black!important","text-align","left!important"],["colspan","21",1,"separation"],[2,"font-size","14px!important"],[1,"table-head","fp-header-1"],["scope","col",2,"width","5px",3,"rowSpan"],["scope","col",1,"vaccine-big-head",3,"rowSpan"],["scope","col",1,"vaccine-big-head",2,"width","5px",3,"rowSpan"],["scope","col",1,"vaccine-big-head",3,"colSpan"],["scope","col",1,"vaccine-head"],["style","font-size: 14px!important;",4,"ngFor","ngForOf"],[1,"col-sm-2","col-xl-2"],["formControlName","country",1,"orgunit-style","form-select","mb-2",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["formControlName","region",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","prefecture",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","commune",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","hospital",1,"orgunit-style","form-select","mb-2",3,"change"],["formControlName","district_quartier",1,"orgunit-style","form-select","mb-2",3,"change"],[1,"reco-list-container","orgunit-style","form-selec","mb-2"],["style","color:darkblue; width: 200%; font-weight: bold;",4,"ngIf"],[3,"class","click",4,"ngFor","ngForOf"],[2,"color","darkblue","width","200%","font-weight","bold"],["type","checkbox","id","reco-list-all",3,"change","checked"],["for","reco-list-all"],[3,"click"],["formControlName","year",1,"orgunit-style","form-select","mb-2"],["formControlName","months",1,"orgunit-style","form-select","mb-2"],[3,"class","value","selected",4,"ngFor","ngForOf"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"],[4,"ngFor","ngForOf"],["scope","row",2,"padding","2px",3,"rowSpan"],[2,"padding","2px",3,"rowSpan"],[2,"padding","2px"],[3,"class",4,"ngIf"],[3,"innerHTML"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),t.bIt("ngSubmit",function(a){return o.SHOW_DATA(a)}),t.j41(5,"div",5),t.DNE(6,Et,3,1,"div",6)(7,jt,3,1,"div",6)(8,Mt,3,1,"div",6)(9,Pt,3,1,"div",6)(10,St,3,1,"div",6)(11,Ht,3,1,"div",6)(12,Nt,4,2,"div",6)(13,At,3,1,"div",6)(14,qt,3,1,"div",6),t.j41(15,"div",7)(16,"button",8),t.EFF(17," Charger "),t.DNE(18,Bt,1,0,"span",9),t.k0s()()()()(),t.j41(19,"div",10)(20,"table",11)(21,"thead",12)(22,"tr")(23,"td",13)(24,"h5",14),t.EFF(25," LIST DES MOINS DE 5 ANS AVEC VACCINS NON A JOUR "),t.k0s()()()(),t.j41(26,"tr",12),t.nrm(27,"td",15),t.k0s(),t.j41(28,"thead",16)(29,"tr",17)(30,"th",18),t.EFF(31,"N\xb0"),t.k0s(),t.j41(32,"th",19),t.EFF(33,"M\xe9nage"),t.k0s(),t.j41(34,"th",19),t.EFF(35,"Nom"),t.k0s(),t.j41(36,"th",20),t.EFF(37,"Sexe"),t.k0s(),t.j41(38,"th",19),t.EFF(39,"Age"),t.k0s(),t.j41(40,"th",20),t.EFF(41,"Code"),t.k0s(),t.j41(42,"th",20),t.EFF(43,"Phone"),t.k0s(),t.j41(44,"th",21),t.EFF(45,"Naissance"),t.k0s(),t.j41(46,"th",21),t.EFF(47,"6 semaines"),t.k0s(),t.j41(48,"th",21),t.EFF(49,"10 semaines"),t.k0s(),t.j41(50,"th",21),t.EFF(51,"14 semaines"),t.k0s(),t.j41(52,"th",21),t.EFF(53,"9 mois"),t.k0s(),t.j41(54,"th",21),t.EFF(55,"15 mois"),t.k0s()(),t.j41(56,"tr",17)(57,"th",22),t.EFF(58,"BCG"),t.k0s(),t.j41(59,"th",22),t.EFF(60,"VPO_0"),t.k0s(),t.j41(61,"th",22),t.EFF(62,"PENTA_1"),t.k0s(),t.j41(63,"th",22),t.EFF(64,"VPO_1"),t.k0s(),t.j41(65,"th",22),t.EFF(66,"PENTA_2"),t.k0s(),t.j41(67,"th",22),t.EFF(68,"VPO_2"),t.k0s(),t.j41(69,"th",22),t.EFF(70,"PENTA_3"),t.k0s(),t.j41(71,"th",22),t.EFF(72,"VPO_3"),t.k0s(),t.j41(73,"th",22),t.EFF(74,"VPI_1"),t.k0s(),t.j41(75,"th",22),t.EFF(76,"VAR_1"),t.k0s(),t.j41(77,"th",22),t.EFF(78,"VAA"),t.k0s(),t.j41(79,"th",22),t.EFF(80,"VPI_2"),t.k0s(),t.j41(81,"th",22),t.EFF(82,"MEN_A"),t.k0s(),t.j41(83,"th",22),t.EFF(84,"VAR_2"),t.k0s()()(),t.DNE(85,he,2,1,"tbody",23),t.k0s()()()()()),2&s){let h;t.R7$(4),t.Y8G("formGroup",o._formGroup),t.R7$(2),t.Y8G("ngIf",o.Countries$.length>1&&0===o.countries.length||o.countries.length>1),t.R7$(),t.Y8G("ngIf",o.Regions$.length>1&&0===o.regions.length||o.regions.length>1),t.R7$(),t.Y8G("ngIf",o.Prefectures$.length>1&&0===o.prefectures.length||o.prefectures.length>1),t.R7$(),t.Y8G("ngIf",o.Communes$.length>1&&0===o.communes.length||o.communes.length>1),t.R7$(),t.Y8G("ngIf",o.Hospitals$.length>1&&0===o.hospitals.length||o.hospitals.length>1),t.R7$(),t.Y8G("ngIf",o.DistrictQuartiers$.length>1&&0===o.districtQuartiers.length||o.districtQuartiers.length>1),t.R7$(),t.Y8G("ngIf",o.Recos$.length>1&&0===o.recos.length||o.recos.length>1),t.R7$(),t.Y8G("ngIf",o.Years$.length>0),t.R7$(),t.Y8G("ngIf",o.Months$.length>0),t.R7$(2),t.Y8G("disabled",o.data_syncing),t.R7$(2),t.Y8G("ngIf",o.data_syncing),t.R7$(12),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("rowSpan",2),t.R7$(2),t.Y8G("colSpan",2),t.R7$(2),t.Y8G("colSpan",2),t.R7$(2),t.Y8G("colSpan",2),t.R7$(2),t.Y8G("colSpan",3),t.R7$(2),t.Y8G("colSpan",3),t.R7$(2),t.Y8G("colSpan",2),t.R7$(31),t.Y8G("ngForOf",null!==(h=o.RECO_VACCINES$)&&void 0!==h?h:t.lJ4(26,kt))}},dependencies:[f.Sq,f.bT,r.qT,r.xH,r.y7,r.wz,r.BC,r.cb,r.j4,r.JD,Tt],styles:[".dark-back[_ngcontent-%COMP%]{background-color:#000!important}.no-border[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .no-border[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none!important}.separation[_ngcontent-%COMP%]{border:none!important;height:10px!important}.org-units[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#5e5e5e!important;text-decoration:none;border-bottom:2px dashed!important}.table-head[_ngcontent-%COMP%]{background-color:#dffcf2!important;color:#5e5e5e!important}.load-data[_ngcontent-%COMP%]{position:absolute;top:20;right:0;width:300px;margin-right:20px}.selected[_ngcontent-%COMP%]{background-color:#bae5ff!important}.vaccine-big-head[_ngcontent-%COMP%]{padding:2px!important;text-align:center!important}.vaccine-head[_ngcontent-%COMP%]{font-size:14px!important;width:50px!important;padding:2px!important}.vaccine-on[_ngcontent-%COMP%]{text-align:center!important;font-size:18px!important;font-weight:700!important;color:green!important;padding:2px 0 0!important}.vaccine-off[_ngcontent-%COMP%]{text-align:center!important;font-size:20px!important;font-weight:700!important;color:brown!important;padding:0!important}.vaccine-NA[_ngcontent-%COMP%]{text-align:center!important;font-size:14px!important;font-weight:700!important;color:#d7d7d7!important;padding:5px 0 0!important}.orgunit-style[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}"]})}return i})(),canActivate:[G.d],data:{href:"dashboards/reco-vaccination-dashboard",title:"Vaccination des enfants"}},{path:"reco-meg-dashboard",component:J,canActivate:[G.d],data:{href:"dashboards/reco-meg-dashboard",title:"Reco Meg Dashboard"}}];let de=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.$C({type:i});static#i=this.\u0275inj=t.G2t({imports:[F.iI.forChild(ue),F.iI]})}return i})();var fe=u(5961);let pe=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.$C({type:i});static#i=this.\u0275inj=t.G2t({imports:[f.MD,r.X1,de,fe.G]})}return i})()}}]);