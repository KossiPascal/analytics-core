"use strict";(self.webpackChunkwebapp=self.webpackChunkwebapp||[]).push([["src_app_modules_reports-view_reports_module_ts"],{3780:(He,G,p)=>{p.r(G),p.d(G,{ReportsModule:()=>ye});var R=p(4765),F=p(8832),H=p(6651),E=p(3308),S=p(3691),w=p(6104),u=p(6340),t=p(6769),A=p(3366),b=p(3348),m=p(6167),T=p(2365),f=p(5065),g=p(3122),J=p(5981),k=p(8240),j=p(9697);let D=(()=>{class o{constructor(e,n,r,a,c){this.userCtx=e,this.conn=n,this.fGroup=r,this.api=a,this.ldbfetch=c,this.dhis2SendingSubject=new J.t(void 0),this.isOnline=!1,this.destroy$=new w.B,this.REPORTS_HEADER={ON_FETCHING:{},IS_VALIDATED:{},IS_ON_DHIS2:{},ON_VALIDATION:{},ON_CANCEL_VALIDATION:{},ON_DHIS2_SENDING:{},ON_DHIS2_SENDING_ERROR:{}},this.REPORTS_DATA={MONTHLY_ACTIVITY:void 0,FAMILY_PLANNING:void 0,HOUSE_HOLD_RECAP:void 0,MORBIDITY:void 0,PCIMNE_NEWBORN:void 0,PROMOTION:void 0,RECO_MEG_QUANTITIES:void 0},this.getCurrentUser(),this.conn.onlineStatus$.pipe((0,u.Q)(this.destroy$)).subscribe(l=>{this.isOnline=l}),this.fGroup.REPORTS_HEADER$.pipe((0,u.Q)(this.destroy$)).subscribe(l=>{l&&Object.entries(this.REPORTS_HEADER).forEach(([h,_])=>{this.REPORTS_HEADER[h]=l[h]??(Array.isArray(_)?[]:{})})}),this.fGroup.REPORTS_DATA$.pipe((0,u.Q)(this.destroy$)).subscribe(l=>{l&&Object.keys(this.REPORTS_DATA).forEach(h=>{this.REPORTS_DATA[h]=l[h]})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getDhis2SendingStatus(){return this.dhis2SendingSubject.asObservable()}sendReportsToDhis2(e){var n=this;return(0,E.A)(function*(){if(e.onError({msg:"D\xe9marrage de l'envoi au DHIS2 ...",color:"default"}),!(e.form?.valid&&e.dhis2Form?.valid&&n.Recos$?.length&&e.reportNames?.length))return void e.onError({msg:"Informations non suffisante pour l'envoi des donn\xe9es au DHIS2",color:"danger",position:"TOP"});const r=e.form.value.year,a=(0,S.$r)(e.form.value.months),c=e.dhis2Form.value.dhis2_orgunits??[],l=e.dhis2Form.value.dhis2_username,h=e.dhis2Form.value.dhis2_password;if(r&&a.length&&c.length&&l&&h)for(const _ of e.reportNames){yield n.updateReportHeader(_,!0,!1);for(const i of a)for(const d of c){const y=n.Recos$.filter(O=>O.hospital_id===d.id).map(O=>O.id);if(0==(y??[]).length){yield n.updateReportHeader(_,!1,!0),e.onError({msg:`Pas de RECO trouv\xe9s pour: [${_}, ${d.name}]`,color:"danger"});continue}const ve={months:[i],year:parseInt(r),recos:y},L=(0,k.H)(n.getFetchMethod(_,ve,!0));L?L.subscribe({next:function(){var O=(0,E.A)(function*(I){if(!I||!I?.data)return yield n.updateReportHeader(_,!1,!0),void e.onWarning({msg:`Donn\xe9es non trouv\xe9s pour: [${_}, ${d.name}]`,color:"warning"});const v={months:[i],year:parseInt(r),recos:y,username:l,password:h,data:I?.data,period:{year:r,month:i},orgunit:d.id},x=n.getSendMethod(_,v);if(!x)return yield n.updateReportHeader(_,!1,!0),void e.onWarning({msg:`Impossible d'effectuer l'envoi pour: [${_}, ${d.name}]`,color:"warning"});var P;x.subscribe({next:(P=(0,E.A)(function*(V){200===V.status?(yield n.updateReportHeader(_,!1,!1),e.onSuccess({msg:`Donn\xe9es ${_} pour ${d.name} envoy\xe9es avec succ\xe8s au DHIS2`,color:"success"})):(yield n.updateReportHeader(_,!1,!0),e.onError({msg:`Oups!!! Donn\xe9es ${_} pour ${d.name} non envoy\xe9es au DHIS2`,color:"danger"}))}),function(Ge){return P.apply(this,arguments)}),error:function(){var P=(0,E.A)(function*(V){yield n.updateReportHeader(_,!1,!0),e.onError({msg:`Erreur inconnue avec ${_} pour ${d.name}`,color:"danger"})});return function(Ge){return P.apply(this,arguments)}}(),complete:function(){var P=(0,E.A)(function*(){});return function(){return P.apply(this,arguments)}}()})});return function(v){return O.apply(this,arguments)}}(),error:function(){var O=(0,E.A)(function*(I){yield n.updateReportHeader(_,!1,!0),e.onError({msg:`Erreur lors de la r\xe9cup\xe9ration des donn\xe9es avec ${_} pour ${d.name}: ${I.message}`,color:"danger"})});return function(v){return O.apply(this,arguments)}}(),complete:function(){var O=(0,E.A)(function*(){});return function(){return O.apply(this,arguments)}}()}):(yield n.updateReportHeader(_,!1,!0),e.onError({msg:`Informations invalides pour: [${_}, ${d.name}]`,color:"danger"}))}}else e.onWarning({msg:"Informations invalides pour l'envoi au DHIS2",color:"warning"})})()}getCurrentUser(){var e=this;return(0,E.A)(function*(){const n=yield e.userCtx.currentUser();(!e.Recos$||0==e.Recos$.length)&&(e.Recos$=n?.recos??[])})()}updateReportHeader(e,n,r){var a=this;return(0,E.A)(function*(){a.REPORTS_HEADER.ON_DHIS2_SENDING[e]=n,a.REPORTS_HEADER.ON_DHIS2_SENDING_ERROR[e]=r,yield a.fGroup.SET_REPORTS_HEADER(a.REPORTS_HEADER)})()}getFetchMethod(e,n,r=!0){var a=this;return(0,E.A)(function*(){return{MONTHLY_ACTIVITY:a.ldbfetch.GetChwsRecoReports(n,r),FAMILY_PLANNING:a.ldbfetch.GetFamilyPlanningReports(n,r),HOUSE_HOLD_RECAP:a.ldbfetch.GetHouseholdRecapReports(n,r),MORBIDITY:a.ldbfetch.GetMorbidityReports(n,r),PCIMNE_NEWBORN:a.ldbfetch.GetPcimneNewbornReports(n,r),PROMOTION:a.ldbfetch.GetPromotionReports(n,r),RECO_MEG_QUANTITIES:a.ldbfetch.GetRecoMegSituationReports(n,r)}[e]})()}getSendMethod(e,n){return{MONTHLY_ACTIVITY:this.api.SendChwsRecoReportsToDhis2(n),FAMILY_PLANNING:this.api.SendFamilyPlanningActivitiesToDhis2(n),HOUSE_HOLD_RECAP:this.api.SendHouseholdActivitiesToDhis2(n),MORBIDITY:this.api.SendMorbidityActivitiesToDhis2(n),PCIMNE_NEWBORN:this.api.SendPcimneNewbornActivitiesToDhis2(n),PROMOTION:this.api.SendPromotionActivitiesToDhis2(n),RECO_MEG_QUANTITIES:this.api.SendRecoMegSituationActivitiesToDhis2(n)}[e]}static{this.\u0275fac=function(n){return new(n||o)(t.KVO(m.i),t.KVO(f.T),t.KVO(g.z),t.KVO(A.G),t.KVO(j.F))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var X=p(4155),M=p(5455);function U(o,s){1&o&&t.nrm(0,"span",14)}function Y(o,s){1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o&&(t.R7$(),t.JRh("Rapport d\xe9ja valid\xe9"))}function B(o,s){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=t.XpG(3);t.R7$(),t.SpI(" ",e.IS_ALL_REPPORTS_VALIDATED?"Annuler toute validation":"Valider tous les rapport"," ")}}function Z(o,s){1&o&&t.nrm(0,"span",14)}function z(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",15),t.bIt("click",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.IS_ALL_REPPORTS_VALIDATED?a.CancelAllValidation(r):a.ValidateAllReports(r))}),t.DNE(1,Y,2,1,"span",0)(2,B,2,1,"span",0)(3,Z,1,0,"span",3),t.k0s()}if(2&o){const e=t.XpG(2);t.ZvI("submitBtn btn ",e.IS_ALL_REPPORTS_VALIDATED?"btn-info":"btn-warning",""),t.Y8G("disabled",e.ON_ALL_VALIDATION||e.ON_ALL_CANCEL_VALIDATION||e.ON_ALL_DHIS2_SENDING||e.IS_ALL_ON_DHIS2),t.R7$(),t.Y8G("ngIf",e.ON_ALL_DHIS2_SENDING||e.IS_ALL_ON_DHIS2),t.R7$(),t.Y8G("ngIf",!(e.ON_ALL_DHIS2_SENDING||e.IS_ALL_ON_DHIS2)),t.R7$(),t.Y8G("ngIf",e.ON_ALL_VALIDATION||e.ON_ALL_CANCEL_VALIDATION)}}function Q(o,s){1&o&&t.nrm(0,"span",14)}function W(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",16),t.bIt("click",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.openAllSendReportsToDhis2Modal(r))}),t.EFF(1),t.DNE(2,Q,1,0,"span",3),t.k0s()}if(2&o){const e=t.XpG(2);t.Y8G("disabled",e.ON_ALL_DHIS2_SENDING||e.IS_ALL_ON_DHIS2),t.R7$(),t.SpI(" ",e.IS_ALL_ON_DHIS2?"D\xe9ja envoy\xe9 au DHIS2":"Tout Envoyer Au DHIS2"," "),t.R7$(),t.Y8G("ngIf",e.ON_ALL_DHIS2_SENDING)}}function q(o,s){if(1&o&&(t.j41(0,"option",22),t.EFF(1),t.k0s()),2&o){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function K(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",17)(1,"label",18),t.EFF(2),t.j41(3,"input",19),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("country",r))}),t.k0s()(),t.j41(4,"select",20),t.bIt("change",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.regionsGenerate())}),t.DNE(5,q,2,2,"option",21),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" Pays :(",e.selectedLength("country"),") "),t.R7$(),t.Y8G("checked",e.isChecked("country")),t.R7$(),t.FS9("multiple",e.countries.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.countries)}}function tt(o,s){if(1&o&&(t.j41(0,"option",22),t.EFF(1),t.k0s()),2&o){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function et(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",17)(1,"label",23),t.EFF(2),t.j41(3,"input",24),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("region",r))}),t.k0s()(),t.j41(4,"select",25),t.bIt("change",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.prefecturesGenerate())}),t.DNE(5,tt,2,2,"option",21),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" R\xe9gions :(",e.selectedLength("region"),") "),t.R7$(),t.Y8G("checked",e.isChecked("region")),t.R7$(),t.FS9("multiple",e.regions.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.regions)}}function nt(o,s){if(1&o&&(t.j41(0,"option",22),t.EFF(1),t.k0s()),2&o){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function ot(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",17)(1,"label",26),t.EFF(2),t.j41(3,"input",27),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("prefecture",r))}),t.k0s()(),t.j41(4,"select",28),t.bIt("change",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.communesGenerate())}),t.DNE(5,nt,2,2,"option",21),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" Pr\xe9fectures :(",e.selectedLength("prefecture"),") "),t.R7$(),t.Y8G("checked",e.isChecked("prefecture")),t.R7$(),t.FS9("multiple",e.prefectures.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.prefectures)}}function rt(o,s){if(1&o&&(t.j41(0,"option",22),t.EFF(1),t.k0s()),2&o){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function at(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",17)(1,"label",29),t.EFF(2),t.j41(3,"input",30),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("commune",r))}),t.k0s()(),t.j41(4,"select",31),t.bIt("change",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.hospitalsGenerate())}),t.DNE(5,rt,2,2,"option",21),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" Communes :(",e.selectedLength("commune"),") "),t.R7$(),t.Y8G("checked",e.isChecked("commune")),t.R7$(),t.FS9("multiple",e.communes.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.communes)}}function st(o,s){if(1&o&&(t.j41(0,"option",22),t.EFF(1),t.k0s()),2&o){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function it(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",17)(1,"label",32),t.EFF(2),t.j41(3,"input",33),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("hospital",r))}),t.k0s()(),t.j41(4,"select",34),t.bIt("change",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.districtsGenerate())}),t.DNE(5,st,2,2,"option",21),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" Centre de sant\xe9 :(",e.selectedLength("hospital"),") "),t.R7$(),t.Y8G("checked",e.isChecked("hospital")),t.R7$(),t.FS9("multiple",e.hospitals.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.hospitals)}}function _t(o,s){if(1&o&&(t.j41(0,"option",22),t.EFF(1),t.k0s()),2&o){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function lt(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",17)(1,"label",35),t.EFF(2),t.j41(3,"input",36),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("district_quartier",r))}),t.k0s()(),t.j41(4,"select",37),t.bIt("change",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.recosGenerate())}),t.DNE(5,_t,2,2,"option",21),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" Districts/Quartiers :(",e.selectedLength("district_quartier"),") "),t.R7$(),t.Y8G("checked",e.isChecked("district_quartier")),t.R7$(),t.FS9("multiple",e.districtQuartiers.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.districtQuartiers)}}function ct(o,s){if(1&o&&(t.j41(0,"option",22),t.EFF(1),t.k0s()),2&o){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function ht(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",17)(1,"label",38),t.EFF(2),t.j41(3,"input",39),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.selectAll("recos",r))}),t.k0s()(),t.j41(4,"select",40),t.DNE(5,ct,2,2,"option",21),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(2),t.SpI(" Recos :(",e.selectedLength("recos"),") "),t.R7$(),t.Y8G("checked",e.isChecked("recos")),t.R7$(),t.FS9("multiple",e.recos.length>0?"multiple":""),t.R7$(),t.Y8G("ngForOf",e.recos)}}function dt(o,s){1&o&&(t.j41(0,"label",43),t.EFF(1," Ann\xe9es : "),t.k0s())}function pt(o,s){if(1&o&&(t.j41(0,"option",22),t.EFF(1),t.k0s()),2&o){const e=s.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function Rt(o,s){if(1&o&&(t.qex(0),t.DNE(1,pt,2,2,"option",21),t.bVm()),2&o){const e=t.XpG(3);t.R7$(),t.Y8G("ngForOf",e.Years$)}}function ut(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",17),t.DNE(1,dt,2,0,"label",41),t.j41(2,"select",42),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.initMonths(r))}),t.DNE(3,Rt,2,1,"ng-container",0),t.k0s()()}if(2&o){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.Years$.length>0),t.R7$(2),t.Y8G("ngIf",e.Years$.length>0)}}function Et(o,s){if(1&o){const e=t.RV6();t.qex(0),t.EFF(1),t.j41(2,"input",47),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(4);return t.Njj(a.selectAll("months",r))}),t.k0s(),t.bVm()}if(2&o){const e=t.XpG(4);t.R7$(),t.SpI(" (",e.selectedLength("months"),") "),t.R7$(),t.Y8G("checked",e.isChecked("months"))}}function Ft(o,s){if(1&o&&(t.j41(0,"label",46),t.EFF(1," Mois : "),t.DNE(2,Et,3,2,"ng-container",0),t.k0s()),2&o){const e=t.XpG(3);t.R7$(2),t.Y8G("ngIf",e.showMultipleSelectionMonth)}}function mt(o,s){if(1&o&&(t.j41(0,"option",22),t.EFF(1),t.k0s()),2&o){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.labelFR," ")}}function gt(o,s){if(1&o&&(t.qex(0),t.DNE(1,mt,2,2,"option",21),t.bVm()),2&o){const e=t.XpG(3);t.R7$(),t.Y8G("ngForOf",e.Months$)}}function Tt(o,s){if(1&o&&(t.j41(0,"div",17),t.DNE(1,Ft,3,1,"label",44),t.j41(2,"select",45),t.DNE(3,gt,2,1,"ng-container",0),t.k0s()()),2&o){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.Months$.length>0),t.R7$(),t.FS9("multiple",e.Months$.length>0&&e.showMultipleSelectionMonth?"multiple":""),t.R7$(),t.Y8G("ngIf",e.Months$.length>0)}}function ft(o,s){1&o&&t.nrm(0,"span",14)}function At(o,s){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"div",1)(2,"button",2),t.EFF(3," \u{1f50d} Filtrer "),t.DNE(4,U,1,0,"span",3),t.k0s(),t.DNE(5,z,4,7,"button",4)(6,W,3,3,"button",5),t.k0s(),t.nrm(7,"div",6),t.j41(8,"div",7)(9,"div",8)(10,"span",9),t.EFF(11,"\xd7"),t.k0s(),t.j41(12,"h2"),t.EFF(13,"\u{1f50d} Filtrer les donn\xe9es"),t.k0s()(),t.j41(14,"div",10)(15,"form",11),t.bIt("ngSubmit",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.START_ORGUNIT_FILTER(r))}),t.DNE(16,K,6,4,"div",12)(17,et,6,4,"div",12)(18,ot,6,4,"div",12)(19,at,6,4,"div",12)(20,it,6,4,"div",12)(21,lt,6,4,"div",12)(22,ht,6,4,"div",12)(23,ut,4,2,"div",12)(24,Tt,4,3,"div",12),t.j41(25,"button",13),t.EFF(26," Appliquer le filtre "),t.DNE(27,ft,1,0,"span",3),t.k0s()()()(),t.bVm()}if(2&o){const e=t.XpG();t.R7$(2),t.Y8G("disabled",e.ON_ALL_FETCHING||e.ON_ALL_VALIDATION||e.ON_ALL_CANCEL_VALIDATION||e.ON_ALL_DHIS2_SENDING),t.R7$(2),t.Y8G("ngIf",e.ON_ALL_FETCHING),t.R7$(),t.Y8G("ngIf",e.CAN_ALL_VALIDATE_REPORTS),t.R7$(),t.Y8G("ngIf",e.CAN_ALL_VALIDATE_REPORTS&&e.CAN_SEND_TO_DHIS2),t.R7$(9),t.Y8G("formGroup",e.form),t.R7$(),t.Y8G("ngIf",e.Countries$.length>1&&0===e.countries.length||e.countries.length>1),t.R7$(),t.Y8G("ngIf",e.Regions$.length>1&&0===e.regions.length||e.regions.length>1),t.R7$(),t.Y8G("ngIf",e.Prefectures$.length>1&&0===e.prefectures.length||e.prefectures.length>1),t.R7$(),t.Y8G("ngIf",e.Communes$.length>1&&0===e.communes.length||e.communes.length>1),t.R7$(),t.Y8G("ngIf",e.Hospitals$.length>1&&0===e.hospitals.length||e.hospitals.length>1),t.R7$(),t.Y8G("ngIf",e.DistrictQuartiers$.length>1&&0===e.districtQuartiers.length||e.districtQuartiers.length>1),t.R7$(),t.Y8G("ngIf",e.Recos$.length>1&&0===e.recos.length||e.recos.length>1),t.R7$(),t.Y8G("ngIf",e.showYearsSelection),t.R7$(),t.Y8G("ngIf",e.showMonthsSelection),t.R7$(),t.Y8G("disabled",e.ON_ALL_FETCHING||!e.form.valid),t.R7$(2),t.Y8G("ngIf",e.ON_ALL_FETCHING)}}let bt=(()=>{class o extends X.m{constructor(e,n,r,a){super(e,n,r,a),this.showMultipleSelectionMonth=!1}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(m.i),t.rXU(g.z),t.rXU(M.B),t.rXU(T.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["reports-orgunits-filter"]],standalone:!1,features:[t.Vt3],decls:1,vars:1,consts:[[4,"ngIf"],[1,"orgunit-filter"],[1,"open-modal-button",2,"width","auto",3,"disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],["style","width: auto!important;",3,"disabled","class","click",4,"ngIf"],["style","width: auto;","class","btn btn-warning",3,"disabled","click",4,"ngIf"],["id","overlay",1,"overlay"],["id","modal-container",1,"modal"],[1,"modal-container-header"],[1,"close"],[1,"modal-container-content"],["id","filterForm","novalidate","",3,"ngSubmit","formGroup"],["class","form-group",4,"ngIf"],["id","modal-validate",1,"btn","btn-primary","modal-validate",3,"disabled"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"],[2,"width","auto!important",3,"click","disabled"],[1,"btn","btn-warning",2,"width","auto",3,"click","disabled"],[1,"form-group"],["for","country"],["id","all-country","type","checkbox",3,"change","checked"],["id","country","formControlName","country",1,"form-control",3,"change","multiple"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","region"],["id","all-region","type","checkbox",3,"change","checked"],["id","region","formControlName","region",1,"form-control",3,"change","multiple"],["for","prefecture"],["id","all-prefecture","type","checkbox",3,"change","checked"],["id","prefecture","formControlName","prefecture",1,"form-control",3,"change","multiple"],["for","commune"],["id","all-commune","type","checkbox",3,"change","checked"],["id","commune","formControlName","commune",1,"form-control",3,"change","multiple"],["for","hospital"],["id","all-hospital","type","checkbox",3,"change","checked"],["id","hospital","formControlName","hospital",1,"form-control",3,"change","multiple"],["for","district_quartier"],["id","all-district_quartier","type","checkbox",3,"change","checked"],["id","district_quartier","formControlName","district_quartier",1,"form-control",3,"change","multiple"],["for","recos"],["id","all-recos","type","checkbox",3,"change","checked"],["id","recos","formControlName","recos",1,"form-control",3,"multiple"],["for","year",4,"ngIf"],["id","year","formControlName","year",1,"form-control",3,"change"],["for","year"],["for","months",4,"ngIf"],["id","months","formControlName","months",1,"form-control",3,"multiple"],["for","months"],["id","all-months","type","checkbox",3,"change","checked"]],template:function(n,r){1&n&&t.DNE(0,At,28,16,"ng-container",0),2&n&&t.Y8G("ngIf",r.REPORTS_HEADER)},dependencies:[R.G,R.I,F.qT,F.xH,F.y7,F.wz,F.W0,F.BC,F.cb,F.j4,F.JD],styles:[".orgunit-filter[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:10px}.open-modal-button[_ngcontent-%COMP%]{background-color:#fff;color:#042;padding:10px 15px;cursor:pointer;border:1px solid #004422;border-radius:5px;width:120px;font-weight:700}.open-modal-button[_ngcontent-%COMP%]:hover{background-color:#05a;color:#fff}.orgunit-style[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important;padding:0 2px 0 5px!important;border-radius:3px!important;width:130px!important}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#036}button[_ngcontent-%COMP%]{margin:0 10px}"]})}}return o})();const Dt=new t.nKC("FETCH_REPORTS"),Ot=new t.nKC("VALIDATE_REPORT"),kt=new t.nKC("CANCEL_VALIDATION_REPORT"),jt=new t.nKC("SEND_REPORT_TO_DHIS2");let C=(()=>{class o{constructor(e,n,r,a,c,l,h,_,i,d){this.fGroup=e,this.db=n,this.userCtx=r,this.conn=a,this.snackbar=c,this.dhis2Service=l,this.fetchReports=h,this.validateReport=_,this.cancelValidationReport=i,this.sendReportToDhis2=d,this.REPPORT_NAME="REPORT",this.isOnline=!1,this.destroy$=new w.B,this.REPORTS_DATA={MONTHLY_ACTIVITY:void 0,FAMILY_PLANNING:void 0,HOUSE_HOLD_RECAP:void 0,MORBIDITY:void 0,PCIMNE_NEWBORN:void 0,PROMOTION:void 0,RECO_MEG_QUANTITIES:void 0},this.REPORTS_HEADER={ON_FETCHING:{},IS_VALIDATED:{},IS_ON_DHIS2:{},ON_VALIDATION:{},ON_CANCEL_VALIDATION:{},ON_DHIS2_SENDING:{},ON_DHIS2_SENDING_ERROR:{}},this.REPORTS_FILTER={RECOS_NEEDED:[],RECOS_SELECTED:[],SEND_DHIS2_ORGUNITS:[]},this.initializeComponent(),this.isOnline=this.conn.isOnline}initializeComponent(){var e=this;return(0,E.A)(function*(){e.USER||(e.USER=yield e.userCtx.currentUser(),(!e.Recos$||0==e.Recos$.length)&&(e.Recos$=e.USER?.recos??[]))})()}get canValidateReportsData(){return this.USER?.role.canValidateData??!1}get canSendValidatedReportToDhis2(){return this.canValidateReportsData&&(this.USER?.role.canValidateData??!1)}ngOnInit(){this.conn.onlineStatus$.pipe((0,u.Q)(this.destroy$)).subscribe(e=>{this.isOnline=e}),this.fGroup.formGroup$.pipe((0,u.Q)(this.destroy$)).subscribe(e=>{e&&(this.form=e,this.SHOW_DATA(!0))}),this.fGroup.REPORTS_HEADER$.pipe((0,u.Q)(this.destroy$)).subscribe(e=>{e&&Object.entries(this.REPORTS_HEADER).forEach(([n,r])=>{this.REPORTS_HEADER[n]=e[n]??(Array.isArray(r)?[]:{})})}),this.fGroup.REPORTS_FILTER$.pipe((0,u.Q)(this.destroy$)).subscribe(e=>{e&&Object.keys(this.REPORTS_FILTER).forEach(n=>{this.REPORTS_FILTER[n]=e[n]??[]})}),this.fGroup.REPORTS_DATA$.pipe((0,u.Q)(this.destroy$)).subscribe(e=>{e&&Object.keys(this.REPORTS_DATA).forEach(n=>{this.REPORTS_DATA[n]=e[n]})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(e){e.CHANGE_STATE&&(this.stateChange=e.CHANGE_STATE.currentValue)}SET_REPORTS_HEADER(){this.fGroup.SET_REPORTS_HEADER(this.REPORTS_HEADER),this.stateChange=new Date}SET_REPORTS_FILTER_DATA(){this.fGroup.SET_REPORTS_FILTER(this.REPORTS_FILTER),this.stateChange=new Date}UPDATE_REPORT_FIELD(e,n){this.REPORTS_HEADER[e]&&(this.REPORTS_HEADER[e][this.REPPORT_NAME]=n,this.SET_REPORTS_HEADER())}hideZero(e){const n=document.getElementById(e);this.activeHideZero=n&&n.checked}shawValue(e){return!this.activeHideZero||0!=e&&"0"!=e?e:""}get IS_FILTER_LOADING(){return 1==this.REPORTS_HEADER.ON_FETCHING[this.REPPORT_NAME]}SHOW_DATA(e){if(e){if(!this.form||!this.form.value||this.form.invalid)return void this.snackbar.showError("Veuillez remplir tous les champs requis.");if(!this.form.value.recos||0==(0,S.$r)(this.form.value.recos).length)return void this.snackbar.show({msg:"Veuillez s\xe9lectionner au moins un RECO",color:"warning",position:"TOP"});if(!this.form.value.months||0==(0,S.$r)(this.form.value.months).length)return void this.snackbar.show({msg:"Veuillez s\xe9lectionner au moins un mois",color:"warning",position:"TOP"});if(!(this.form.value.year&&parseInt(this.form.value.year)>0))return void this.snackbar.show({msg:"Veuillez s\xe9lectionner au moins une ann\xe9e",color:"warning",position:"TOP"});this.REPORTS_FILTER.SEND_DHIS2_ORGUNITS=this.form.value.org_units.hospital,this.REPORTS_FILTER.RECOS_NEEDED=this.form.value.all_recos_ids,this.REPORTS_FILTER.RECOS_SELECTED=this.form.value.selected_recos_ids,this.SET_REPORTS_FILTER_DATA(),this.REPORTS_HEADER.ON_FETCHING[this.REPPORT_NAME]=!0,this.SET_REPORTS_HEADER()}this.fetchReports(this.form.value,this.isOnline).subscribe({next:n=>{if(this.isRecoConnected="RECO"===n?.reco_asc_type,this.REPORTS_HEADER.IS_VALIDATED[this.REPPORT_NAME]=!0===n?.is_validate,this.REPORTS_HEADER.IS_ON_DHIS2[this.REPPORT_NAME]=!0===n?.already_on_dhis2,this.REPORTS_DATA[this.REPPORT_NAME]=n,this.fGroup.SET_REPORTS_DATA(this.REPORTS_DATA),e){const r=`Aucune donn\xe9es trouv\xe9es pour ${this.REPPORT_NAME}!`,a=`${this.REPPORT_NAME} r\xe9cup\xe9r\xe9 avec succ\xe8s.`;this.snackbar.show({msg:n?.data?a:r,color:n?.data?"success":"info"}),this.REPORTS_HEADER.ON_FETCHING[this.REPPORT_NAME]=!1,this.SET_REPORTS_HEADER()}},error:n=>{e&&(this.snackbar.show({msg:`Erreur lors du chargement du ${this.REPPORT_NAME}.`,color:"danger",position:"TOP",duration:5e3}),this.REPORTS_DATA[this.REPPORT_NAME]=void 0,this.fGroup.SET_REPORTS_DATA(this.REPORTS_DATA),this.REPORTS_HEADER.ON_FETCHING[this.REPPORT_NAME]=!1,this.SET_REPORTS_HEADER())},complete:()=>{}})}validateData(){var e=this;if(!this.form)return;this.UPDATE_REPORT_FIELD("ON_VALIDATION",!0);let n=this.form.value;if("HOUSE_HOLD_RECAP"==this.REPPORT_NAME){const r=this.REPORTS_DATA[this.REPPORT_NAME]?.data?.map(a=>a.id)??[];n={...this.form.value,dataIds:r}}var r;this.validateReport(n).subscribe({next:(r=(0,E.A)(function*(a){200==a.status?(e.SHOW_DATA(!1),e.UPDATE_REPORT_FIELD("ON_VALIDATION",!1),e.UPDATE_REPORT_FIELD("IS_VALIDATED",!0),e.snackbar.show({msg:`${e.REPPORT_NAME} valid\xe9 avec succ\xe8s.`,color:"success",position:"TOP"}),!0===e.USER?.role.canUseOfflineMode&&e.isOnline&&(yield e.db.all(e.form.value).then(c=>{}))):(e.UPDATE_REPORT_FIELD("ON_VALIDATION",!1),e.snackbar.show({msg:`Impossible de valider ${e.REPPORT_NAME}.`,color:"warning",position:"TOP"}))}),function(c){return r.apply(this,arguments)}),error:r=>{this.UPDATE_REPORT_FIELD("ON_VALIDATION",!1),this.snackbar.show({msg:`Erreur lors de la validation du ${this.REPPORT_NAME}.`,color:"danger",position:"TOP"})}})}cancelValidation(){var e=this;if(!this.form)return;this.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",!0);let n=this.form.value;if("HOUSE_HOLD_RECAP"==this.REPPORT_NAME){const r=this.REPORTS_DATA[this.REPPORT_NAME]?.data?.map(a=>a.id)??[];n={...this.form.value,dataIds:r}}var r;this.cancelValidationReport(n).subscribe({next:(r=(0,E.A)(function*(a){200==a.status?(e.SHOW_DATA(!1),e.snackbar.show({msg:`Validation du ${e.REPPORT_NAME} annul\xe9e.`,color:"success",position:"TOP"}),e.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",!1),e.UPDATE_REPORT_FIELD("IS_VALIDATED",!1),!0===e.USER?.role.canUseOfflineMode&&e.isOnline&&(yield e.db.all(e.form.value).then(c=>{}))):e.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",!1)}),function(c){return r.apply(this,arguments)}),error:r=>{this.snackbar.showError("Erreur lors de l'annulation de la validation."),this.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",!1)}})}sendDataToDhis2(e){this.dhis2Service.sendReportsToDhis2({form:this.form,dhis2Form:e,reportNames:[this.REPPORT_NAME],onStart:n=>{this.showProcessMessage(n)},onProcess:n=>{this.showProcessMessage(n)},onSuccess:n=>{this.showProcessMessage(n)},onError:n=>{this.showProcessMessage(n)},onWarning:n=>{this.showProcessMessage(n)}})}showProcessMessage(e){e&&(this.snackbar.show({msg:e.msg,color:e.color,position:e.position??"TOP",duration:1e4}),this.CHANGE_STATE=new Date)}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(g.z),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(D),t.rXU(Dt),t.rXU(Ot),t.rXU(kt),t.rXU(jt))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-report"]],inputs:{CHANGE_STATE:"CHANGE_STATE"},features:[t.OA$],decls:0,vars:0,template:function(n,r){},encapsulation:2})}}return o})();var It=p(3677),Ct=p(8394);function Nt(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",4)(1,"button",5),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.exportToCSV())}),t.EFF(2,"\u{1f4c2} CSV"),t.k0s(),t.j41(3,"button",5),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.exportToJSON())}),t.EFF(4,"\u{1f4c2} JSON"),t.k0s(),t.j41(5,"button",5),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.exportToExcel())}),t.EFF(6,"\u{1f4c2} Excel"),t.k0s(),t.j41(7,"button",5),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.exportToPDF("p"))}),t.EFF(8,"\u{1f4c2} PDF (Portrait)"),t.k0s(),t.j41(9,"button",5),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.exportToPDF("l"))}),t.EFF(10,"\u{1f4c2} PDF (Paysage)"),t.k0s()()}}function $t(o,s){1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o&&(t.R7$(),t.JRh("Rapport d\xe9ja valid\xe9"))}function Pt(o,s){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=t.XpG(3);t.R7$(),t.SpI(" ",e.IS_VALIDATED?"Annuler validation du rapport":"Valider ce rapport"," ")}}function Vt(o,s){1&o&&t.nrm(0,"span",11)}function St(o,s){1&o&&t.nrm(0,"span",11)}function wt(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",12),t.bIt("click",function(){t.eBV(e);const r=t.XpG(3);return t.Njj(r.openSendDataToDhis2Modal())}),t.EFF(1),t.DNE(2,St,1,0,"span",9),t.k0s()}if(2&o){const e=t.XpG(3);t.ZvI("submitBtn btn ",e.IS_ON_DHIS2?"btn-info":"btn-warning",""),t.Y8G("disabled",e.ON_DHIS2_SENDING||e.IS_ON_DHIS2),t.R7$(),t.SpI(" ",e.IS_ON_DHIS2?"D\xe9ja envoy\xe9 au DHIS2 et termin\xe9":"Envoyer au DHIS2"," "),t.R7$(),t.Y8G("ngIf",e.ON_DHIS2_SENDING)}}function yt(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",7)(1,"button",8),t.bIt("click",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.IS_VALIDATED?a.cancelValidation(r):a.validateData(r))}),t.DNE(2,$t,2,1,"span",3)(3,Pt,2,1,"span",3)(4,Vt,1,0,"span",9),t.k0s(),t.DNE(5,wt,3,6,"button",10),t.k0s()}if(2&o){const e=t.XpG(2);t.R7$(),t.ZvI("submitBtn btn ",e.IS_VALIDATED?"btn-info":"btn-warning",""),t.Y8G("disabled",e.ON_VALIDATION||e.ON_CANCEL_VALIDATION||e.ON_DHIS2_SENDING||e.IS_ON_DHIS2),t.R7$(),t.Y8G("ngIf",e.ON_DHIS2_SENDING||e.IS_ON_DHIS2),t.R7$(),t.Y8G("ngIf",!(e.ON_DHIS2_SENDING||e.IS_ON_DHIS2)),t.R7$(),t.Y8G("ngIf",e.ON_VALIDATION||e.ON_CANCEL_VALIDATION),t.R7$(),t.Y8G("ngIf",(null==e.USER||null==e.USER.role?null:e.USER.role.canSendDataToDhis2)&&e.IS_VALIDATED)}}function vt(o,s){if(1&o&&(t.qex(0),t.DNE(1,yt,6,8,"div",6),t.bVm()),2&o){const e=t.XpG();t.R7$(),t.Y8G("ngIf",1==(null==e.USER||null==e.USER.role?null:e.USER.role.canValidateData))}}let N=(()=>{class o extends It.p{constructor(e,n,r,a,c,l){super(e,n,r,a,c,l)}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(M.B),t.rXU(Ct.D),t.rXU(m.i),t.rXU(T.z),t.rXU(g.z),t.rXU(f.T))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["repports-header-selector"]],standalone:!1,features:[t.Vt3],decls:5,vars:4,consts:[["class","export-buttons",4,"ngIf"],[3,"for"],["type","checkbox",2,"zoom","1.5",3,"change","id"],[4,"ngIf"],[1,"export-buttons"],[3,"click"],["class","validate-data col-12",4,"ngIf"],[1,"validate-data","col-12"],[2,"width","auto!important",3,"click","disabled"],["class","fas fa-1x fa-sync-alt fa-spin",4,"ngIf"],["style","width: auto;",3,"disabled","class","click",4,"ngIf"],[1,"fas","fa-1x","fa-sync-alt","fa-spin"],[2,"width","auto",3,"click","disabled"]],template:function(n,r){1&n&&(t.DNE(0,Nt,11,0,"div",0),t.j41(1,"label",1)(2,"input",2),t.bIt("change",function(c){return r.hideZero(c)}),t.k0s(),t.EFF(3," Masquer Zero\n"),t.k0s(),t.DNE(4,vt,2,1,"ng-container",3)),2&n&&(t.Y8G("ngIf",1==r.SHOW_EXPORT_TABLE_BTN&&1==(null==r.USER||null==r.USER.role?null:r.USER.role.canDownloadData)),t.R7$(),t.FS9("for",r.HIDE_ZERO_ID),t.R7$(),t.FS9("id",r.HIDE_ZERO_ID),t.R7$(2),t.Y8G("ngIf",r.REPORTS_HEADER))},dependencies:[R.I],styles:[".export-buttons[_ngcontent-%COMP%]{margin-bottom:10px}.export-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#036;color:#fff;border:none;padding:8px 12px;margin-right:5px;cursor:pointer;border-radius:5px}.export-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#05a}.validate-data[_ngcontent-%COMP%]{width:350px!important;margin:0!important;display:inline-flex!important}.validate-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 3px!important}@media (max-width: 991px){*[_ngcontent-%COMP%]{font-size:13px!important}}"]})}}return o})();function Gt(o,s){1&o&&t.nrm(0,"div",3)}function Ht(o,s){if(1&o&&(t.j41(0,"div",1),t.DNE(1,Gt,1,0,"div",2),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.isLoading)}}let $=(()=>{class o{constructor(){this.isLoading=!1}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-google-loader"]],inputs:{isLoading:"isLoading"},standalone:!1,decls:1,vars:1,consts:[["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"],["class","google-loader",4,"ngIf"],[1,"google-loader"]],template:function(n,r){1&n&&t.DNE(0,Ht,2,1,"div",0),2&n&&t.Y8G("ngIf",r.isLoading)},dependencies:[R.I],styles:[".loading-overlay[_ngcontent-%COMP%]{position:relatif;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:1000}.google-loader[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;border:5px solid transparent;border-top-color:#4285f4;border-right-color:#ea4335;border-bottom-color:#fbbc05;border-left-color:#34a853;animation:_ngcontent-%COMP%_spin 1.2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return o})();function Mt(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Lt(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function xt(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Jt(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Xt(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Ut(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Yt(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Bt(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Zt(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function zt(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Qt(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.indicator),t.R7$(2),t.JRh(n.shawValue(e.de_number))}}function Wt(o,s){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"h2"),t.EFF(2,"\u{1f4ca} RAPPORT MENSUEL D'ACTIVIT\xc9"),t.k0s(),t.nrm(3,"br"),t.j41(4,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(5,"table",3)(6,"thead",4)(7,"tr",5)(8,"th",6),t.EFF(9,"\xc9l\xe9ments de donn\xe9es"),t.k0s(),t.j41(10,"th",6),t.EFF(11,"Nombre"),t.k0s()()(),t.j41(12,"tbody"),t.qex(13),t.j41(14,"tr",7)(15,"th",8),t.EFF(16),t.k0s()(),t.DNE(17,Mt,5,2,"tr",9),t.bVm(),t.j41(18,"tr",7)(19,"th",8),t.EFF(20),t.k0s()(),t.DNE(21,Lt,5,2,"tr",9),t.j41(22,"tr",7)(23,"th",8),t.EFF(24),t.k0s()(),t.DNE(25,xt,5,2,"tr",9),t.j41(26,"tr",7)(27,"th",8),t.EFF(28),t.k0s()(),t.DNE(29,Jt,5,2,"tr",9),t.j41(30,"tr",7)(31,"th",8),t.EFF(32),t.k0s()(),t.DNE(33,Xt,5,2,"tr",9),t.j41(34,"tr",7)(35,"th",8),t.EFF(36),t.k0s()(),t.DNE(37,Ut,5,2,"tr",9),t.j41(38,"tr",7)(39,"th",8),t.EFF(40),t.k0s()(),t.DNE(41,Yt,5,2,"tr",9),t.j41(42,"tr",7)(43,"th",8),t.EFF(44),t.k0s()(),t.j41(45,"tr")(46,"th",10),t.EFF(47),t.k0s()(),t.DNE(48,Bt,5,2,"tr",9),t.j41(49,"tr")(50,"th",10),t.EFF(51),t.k0s()(),t.DNE(52,Zt,5,2,"tr",9),t.j41(53,"tr",7)(54,"th",8),t.EFF(55),t.k0s()(),t.DNE(56,zt,5,2,"tr",9),t.j41(57,"tr",7)(58,"th",8),t.EFF(59),t.k0s()(),t.DNE(60,Qt,5,2,"tr",9),t.nrm(61,"tr"),t.k0s()(),t.bVm()}if(2&o){const e=s.ngIf,n=t.XpG();t.R7$(4),t.Y8G("id","month-activity-table-header")("REPPORT_NAME",n.REPPORT_NAME)("CHANGE_STATE",n.CHANGE_STATE)("HIDE_ZERO_ID","chw-reco-rep")("TABLE_ID","month-activity-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(12),t.Lme("",e.reco_monitoring.position," ",e.reco_monitoring.group,""),t.R7$(),t.Y8G("ngForOf",e.reco_monitoring.data),t.R7$(3),t.Lme("",e.demography.position," ",e.demography.group,""),t.R7$(),t.Y8G("ngForOf",e.demography.data),t.R7$(3),t.Lme("",e.child_health_0_59_months.position," ",e.child_health_0_59_months.group,""),t.R7$(),t.Y8G("ngForOf",e.child_health_0_59_months.data),t.R7$(3),t.Lme("",e.mother_health.position," ",e.mother_health.group,""),t.R7$(),t.Y8G("ngForOf",e.mother_health.data),t.R7$(3),t.Lme("",e.pcimne_activity.position," ",e.pcimne_activity.group,""),t.R7$(),t.Y8G("ngForOf",e.pcimne_activity.data),t.R7$(3),t.Lme("",e.morbidity_activities.position," ",e.morbidity_activities.group,""),t.R7$(),t.Y8G("ngForOf",e.morbidity_activities.data),t.R7$(3),t.Lme("",e.malaria_more_5_years.position," ",e.malaria_more_5_years.group,""),t.R7$(),t.Y8G("ngForOf",e.malaria_more_5_years.data),t.R7$(3),t.Lme("",e.home_visit.position," ",e.home_visit.bigGroup,""),t.R7$(3),t.SpI(" ",e.home_visit.group," "),t.R7$(),t.Y8G("ngForOf",e.home_visit.data),t.R7$(3),t.SpI(" ",e.educational_talk.group," "),t.R7$(),t.Y8G("ngForOf",e.educational_talk.data),t.R7$(3),t.Lme("",e.developed_areas.position," ",e.developed_areas.group,""),t.R7$(),t.Y8G("ngForOf",e.developed_areas.data),t.R7$(3),t.Lme("",e.diseases_alerts.position," ",e.diseases_alerts.group,""),t.R7$(),t.Y8G("ngForOf",e.diseases_alerts.data)}}function qt(o,s){1&o&&(t.qex(0),t.j41(1,"h1",13),t.EFF(2," Pas de donn\xe9es, appliquer le filtre ! "),t.k0s(),t.bVm())}let Kt=(()=>{class o extends C{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(i,d)=>(0,k.H)(this.ldbfetch.GetChwsRecoReports(i,d)),i=>this.api.ValidateChwsRecoReports(i),i=>this.api.CancelValidateChwsRecoReports(i),i=>this.api.SendChwsRecoReportsToDhis2(i)),this.api=e,this.ldbfetch=n,this.REPPORT_NAME="MONTHLY_ACTIVITY"}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["chw-reco-activity-report"]],standalone:!1,features:[t.Vt3],decls:3,vars:3,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","month-activity-table",1,"table","table-bordered","table-hover"],[1,"no-border","center"],[1,"table-head"],["scope","col"],[1,"row-group"],["colspan","2"],[4,"ngFor","ngForOf"],["colspan","2",1,"row-first-column",2,"padding-left","20px!important"],[1,"indicator_label"],[1,"indicator_value"],[2,"margin-top","150px","width","100%","text-align","center","color","brown"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,Wt,62,39,"ng-container",1)(2,qt,3,0,"ng-container",1)),2&n&&(t.Y8G("isLoading",r.IS_FILTER_LOADING),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED),t.R7$(),t.Y8G("ngIf",!r.DATA_FETCHED))},dependencies:[R.G,R.I,N,$],styles:[".indicator_label[_ngcontent-%COMP%]{font-weight:400}.indicator_value[_ngcontent-%COMP%]{font-weight:700}"]})}}return o})();function te(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",12),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s(),t.j41(5,"td",12),t.EFF(6),t.k0s(),t.j41(7,"td",12),t.EFF(8),t.k0s(),t.j41(9,"td",12),t.EFF(10),t.k0s(),t.j41(11,"td",12),t.EFF(12),t.k0s(),t.j41(13,"td",12),t.EFF(14),t.k0s(),t.j41(15,"td",12),t.EFF(16),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.value.label),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_new_user)),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_regular_user)),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_total_user)),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_delivered)),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_in_stock)),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_referred)),t.R7$(2),t.JRh(n.shawValue(e.value.nbr_side_effect))}}function ee(o,s){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"h2"),t.EFF(2,"\u{1f4cb} RAPPORT PLANIFICATION FAMILIALE"),t.k0s(),t.nrm(3,"br"),t.j41(4,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(5,"table",3)(6,"thead")(7,"tr",4)(8,"th",5),t.EFF(9,"METHODES"),t.k0s(),t.j41(10,"th",5),t.EFF(11,"Nouveaux utilisateurs"),t.k0s(),t.j41(12,"th",5),t.EFF(13,"Utilisateurs reguliers"),t.k0s(),t.j41(14,"th",5),t.EFF(15,"Total Utilisateurs"),t.k0s(),t.j41(16,"th",5),t.EFF(17,"Quantit\xe9s de produits d\xe9livr\xe9s"),t.k0s(),t.j41(18,"th",5),t.EFF(19,"Quantit\xe9 de produits en stocks"),t.k0s(),t.j41(20,"th",6)(21,"b"),t.EFF(22,"Nombre r\xe9f\xe9r\xe9"),t.k0s()()(),t.j41(23,"tr",7)(24,"th",8),t.EFF(25,"M\xe9thode PF (autre)"),t.k0s(),t.j41(26,"th",8),t.EFF(27,"Effets Secondaires"),t.k0s()()(),t.j41(28,"tbody"),t.qex(29),t.DNE(30,te,17,8,"tr",9),t.nI1(31,"keyvalue"),t.bVm(),t.k0s(),t.j41(32,"tr",10),t.nrm(33,"td",11),t.k0s()(),t.bVm()}if(2&o){const e=t.XpG();t.R7$(4),t.Y8G("id","family-planning-table-header")("REPPORT_NAME",e.REPPORT_NAME)("CHANGE_STATE",e.CHANGE_STATE)("HIDE_ZERO_ID","fp-rep")("TABLE_ID","family-planning-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(26),t.Y8G("ngForOf",t.bMT(31,7,e.DATA_FETCHED.methods))}}function ne(o,s){1&o&&(t.qex(0),t.j41(1,"h1",13),t.EFF(2," Pas de donn\xe9es, appliquer le filtre ! "),t.k0s(),t.bVm())}let oe=(()=>{class o extends C{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(i,d)=>(0,k.H)(this.ldbfetch.GetFamilyPlanningReports(i,d)),i=>this.api.ValidateFamilyPlanningReports(i),i=>this.api.CancelValidateFamilyPlanningReports(i),i=>this.api.SendFamilyPlanningActivitiesToDhis2(i)),this.api=e,this.ldbfetch=n,this.REPPORT_NAME="FAMILY_PLANNING",this.dhis2Service.getDhis2SendingStatus().pipe((0,u.Q)(this.destroy$)).subscribe(i=>{i&&(this.snackbar.show({msg:i.msg,color:i.color,position:i.position??"TOP",duration:i.duration??5e3}),this.CHANGE_STATE=new Date)})}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["family-planning-report"]],standalone:!1,features:[t.Vt3],decls:3,vars:3,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","family-planning-table",1,"table","table-bordered","table-hover"],[1,"table-head","fp-header-1"],["rowspan","2","scope","col"],["colspan","3","scope","col"],[1,"table-head","fp-header-2"],["scope","col"],[4,"ngFor","ngForOf"],[1,"no-border"],["colspan","9",1,"separation"],["scope","row"],[2,"margin-top","150px","width","100%","text-align","center","color","brown"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,ee,34,9,"ng-container",1)(2,ne,3,0,"ng-container",1)),2&n&&(t.Y8G("isLoading",r.IS_FILTER_LOADING),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED),t.R7$(),t.Y8G("ngIf",!r.DATA_FETCHED))},dependencies:[R.G,R.I,N,$,R.a8],styles:[".fp-header-1[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .fp-header-2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:40px!important}"]})}}return o})();function re(o,s){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"h2"),t.EFF(2,"\u{1f4cb} RAPPORT MORBIDIT\xc9"),t.k0s(),t.nrm(3,"br"),t.j41(4,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(5,"table",3)(6,"thead")(7,"tr",4)(8,"th",5),t.EFF(9,"N\xb0"),t.k0s(),t.j41(10,"th",6),t.EFF(11,"Problemes de sant\xe9"),t.k0s(),t.j41(12,"th",7),t.EFF(13,"5-14 ans"),t.k0s(),t.j41(14,"th",7),t.EFF(15,"14-24 ans"),t.k0s(),t.j41(16,"th",7),t.EFF(17,"25-59 ans"),t.k0s(),t.j41(18,"th",7),t.EFF(19,"60 ans et Plus"),t.k0s(),t.j41(20,"th",7),t.EFF(21,"Femme enceinte"),t.k0s(),t.j41(22,"th",7),t.EFF(23,"Nombre total"),t.k0s(),t.j41(24,"th",7),t.EFF(25,"Nombre r\xe9f\xe9r\xe9s"),t.k0s()()(),t.j41(26,"tbody",8)(27,"tr")(28,"td",9),t.EFF(29,"01"),t.k0s(),t.j41(30,"td",10),t.EFF(31),t.k0s(),t.j41(32,"td"),t.EFF(33),t.k0s(),t.j41(34,"td"),t.EFF(35),t.k0s(),t.j41(36,"td"),t.EFF(37),t.k0s(),t.j41(38,"td"),t.EFF(39),t.k0s(),t.j41(40,"td"),t.EFF(41),t.k0s(),t.j41(42,"td"),t.EFF(43),t.k0s(),t.j41(44,"td"),t.EFF(45),t.k0s()(),t.j41(46,"tr")(47,"td",9),t.EFF(48,"02"),t.k0s(),t.j41(49,"td",10),t.EFF(50),t.k0s(),t.j41(51,"td"),t.EFF(52),t.k0s(),t.j41(53,"td"),t.EFF(54),t.k0s(),t.j41(55,"td"),t.EFF(56),t.k0s(),t.j41(57,"td"),t.EFF(58),t.k0s(),t.j41(59,"td"),t.EFF(60),t.k0s(),t.j41(61,"td"),t.EFF(62),t.k0s(),t.j41(63,"td"),t.EFF(64),t.k0s()(),t.j41(65,"tr")(66,"td",9),t.EFF(67,"03"),t.k0s(),t.j41(68,"td",10),t.EFF(69),t.k0s(),t.j41(70,"td"),t.EFF(71),t.k0s(),t.j41(72,"td"),t.EFF(73),t.k0s(),t.j41(74,"td"),t.EFF(75),t.k0s(),t.j41(76,"td"),t.EFF(77),t.k0s(),t.j41(78,"td"),t.EFF(79),t.k0s(),t.j41(80,"td"),t.EFF(81),t.k0s(),t.j41(82,"td"),t.EFF(83),t.k0s()(),t.j41(84,"tr")(85,"td",9),t.EFF(86,"04"),t.k0s(),t.j41(87,"td",10),t.EFF(88),t.k0s(),t.j41(89,"td"),t.EFF(90),t.k0s(),t.j41(91,"td"),t.EFF(92),t.k0s(),t.j41(93,"td"),t.EFF(94),t.k0s(),t.j41(95,"td"),t.EFF(96),t.k0s(),t.j41(97,"td"),t.EFF(98),t.k0s(),t.j41(99,"td"),t.EFF(100),t.k0s(),t.j41(101,"td"),t.EFF(102),t.k0s()(),t.j41(103,"tr")(104,"td",9),t.EFF(105,"05"),t.k0s(),t.j41(106,"td",10),t.EFF(107),t.k0s(),t.j41(108,"td"),t.EFF(109),t.k0s(),t.j41(110,"td"),t.EFF(111),t.k0s(),t.j41(112,"td"),t.EFF(113),t.k0s(),t.j41(114,"td"),t.EFF(115),t.k0s(),t.j41(116,"td"),t.EFF(117),t.k0s(),t.j41(118,"td"),t.EFF(119),t.k0s(),t.j41(120,"td"),t.EFF(121),t.k0s()(),t.j41(122,"tr")(123,"td",9),t.EFF(124,"06"),t.k0s(),t.j41(125,"td",10),t.EFF(126),t.k0s(),t.j41(127,"td"),t.EFF(128),t.k0s(),t.j41(129,"td"),t.EFF(130),t.k0s(),t.j41(131,"td"),t.EFF(132),t.k0s(),t.j41(133,"td"),t.EFF(134),t.k0s(),t.j41(135,"td"),t.EFF(136),t.k0s(),t.j41(137,"td"),t.EFF(138),t.k0s(),t.j41(139,"td"),t.EFF(140),t.k0s()(),t.j41(141,"tr")(142,"td",9),t.EFF(143,"07"),t.k0s(),t.j41(144,"td",10),t.EFF(145),t.k0s(),t.j41(146,"td"),t.EFF(147),t.k0s(),t.j41(148,"td"),t.EFF(149),t.k0s(),t.j41(150,"td"),t.EFF(151),t.k0s(),t.j41(152,"td"),t.EFF(153),t.k0s(),t.j41(154,"td"),t.EFF(155),t.k0s(),t.j41(156,"td"),t.EFF(157),t.k0s(),t.j41(158,"td"),t.EFF(159),t.k0s()(),t.j41(160,"tr")(161,"td",9),t.EFF(162,"08"),t.k0s(),t.j41(163,"td",10),t.EFF(164),t.k0s(),t.j41(165,"td"),t.EFF(166),t.k0s(),t.j41(167,"td"),t.EFF(168),t.k0s(),t.j41(169,"td"),t.EFF(170),t.k0s(),t.j41(171,"td"),t.EFF(172),t.k0s(),t.j41(173,"td"),t.EFF(174),t.k0s(),t.j41(175,"td"),t.EFF(176),t.k0s(),t.j41(177,"td"),t.EFF(178),t.k0s()(),t.j41(179,"tr")(180,"td",9),t.EFF(181,"09"),t.k0s(),t.j41(182,"td",10),t.EFF(183),t.k0s(),t.j41(184,"td"),t.EFF(185),t.k0s(),t.j41(186,"td"),t.EFF(187),t.k0s(),t.j41(188,"td"),t.EFF(189),t.k0s(),t.j41(190,"td"),t.EFF(191),t.k0s(),t.j41(192,"td"),t.EFF(193),t.k0s(),t.j41(194,"td"),t.EFF(195),t.k0s(),t.j41(196,"td"),t.EFF(197),t.k0s()(),t.j41(198,"tr")(199,"td",9),t.EFF(200,"10"),t.k0s(),t.j41(201,"td",10),t.EFF(202),t.k0s(),t.j41(203,"td"),t.EFF(204),t.k0s(),t.j41(205,"td"),t.EFF(206),t.k0s(),t.j41(207,"td"),t.EFF(208),t.k0s(),t.j41(209,"td"),t.EFF(210),t.k0s(),t.j41(211,"td"),t.EFF(212),t.k0s(),t.j41(213,"td"),t.EFF(214),t.k0s(),t.j41(215,"td"),t.EFF(216),t.k0s()(),t.j41(217,"tr")(218,"td",9),t.EFF(219,"11"),t.k0s(),t.j41(220,"td",10),t.EFF(221),t.k0s(),t.j41(222,"td"),t.EFF(223),t.k0s(),t.j41(224,"td"),t.EFF(225),t.k0s(),t.j41(226,"td"),t.EFF(227),t.k0s(),t.j41(228,"td"),t.EFF(229),t.k0s(),t.j41(230,"td"),t.EFF(231),t.k0s(),t.j41(232,"td"),t.EFF(233),t.k0s(),t.j41(234,"td"),t.EFF(235),t.k0s()(),t.j41(236,"tr")(237,"td",9),t.EFF(238,"12"),t.k0s(),t.j41(239,"td",10),t.EFF(240),t.k0s(),t.j41(241,"td"),t.EFF(242),t.k0s(),t.j41(243,"td"),t.EFF(244),t.k0s(),t.j41(245,"td"),t.EFF(246),t.k0s(),t.j41(247,"td"),t.EFF(248),t.k0s(),t.j41(249,"td"),t.EFF(250),t.k0s(),t.j41(251,"td"),t.EFF(252),t.k0s(),t.j41(253,"td"),t.EFF(254),t.k0s()(),t.j41(255,"tr")(256,"td",9),t.EFF(257,"13"),t.k0s(),t.j41(258,"td",10),t.EFF(259),t.k0s(),t.j41(260,"td"),t.EFF(261),t.k0s(),t.j41(262,"td"),t.EFF(263),t.k0s(),t.j41(264,"td"),t.EFF(265),t.k0s(),t.j41(266,"td"),t.EFF(267),t.k0s(),t.j41(268,"td"),t.EFF(269),t.k0s(),t.j41(270,"td"),t.EFF(271),t.k0s(),t.j41(272,"td"),t.EFF(273),t.k0s()(),t.j41(274,"tr")(275,"td",9),t.EFF(276,"14"),t.k0s(),t.j41(277,"td",10),t.EFF(278),t.k0s(),t.j41(279,"td"),t.EFF(280),t.k0s(),t.j41(281,"td"),t.EFF(282),t.k0s(),t.j41(283,"td"),t.EFF(284),t.k0s(),t.j41(285,"td"),t.EFF(286),t.k0s(),t.j41(287,"td"),t.EFF(288),t.k0s(),t.j41(289,"td"),t.EFF(290),t.k0s(),t.j41(291,"td"),t.EFF(292),t.k0s()(),t.j41(293,"tr")(294,"td",9),t.EFF(295,"15"),t.k0s(),t.j41(296,"td",10),t.EFF(297),t.k0s(),t.j41(298,"td"),t.EFF(299),t.k0s(),t.j41(300,"td"),t.EFF(301),t.k0s(),t.j41(302,"td"),t.EFF(303),t.k0s(),t.j41(304,"td"),t.EFF(305),t.k0s(),t.j41(306,"td"),t.EFF(307),t.k0s(),t.j41(308,"td"),t.EFF(309),t.k0s(),t.j41(310,"td"),t.EFF(311),t.k0s()(),t.j41(312,"tr")(313,"td",9),t.EFF(314,"16"),t.k0s(),t.j41(315,"td",10),t.EFF(316),t.k0s(),t.j41(317,"td"),t.EFF(318),t.k0s(),t.j41(319,"td"),t.EFF(320),t.k0s(),t.j41(321,"td"),t.EFF(322),t.k0s(),t.j41(323,"td"),t.EFF(324),t.k0s(),t.j41(325,"td"),t.EFF(326),t.k0s(),t.j41(327,"td"),t.EFF(328),t.k0s(),t.j41(329,"td"),t.EFF(330),t.k0s()(),t.j41(331,"tr")(332,"td",9),t.EFF(333,"17"),t.k0s(),t.j41(334,"td",10),t.EFF(335),t.k0s(),t.j41(336,"td"),t.EFF(337),t.k0s(),t.j41(338,"td"),t.EFF(339),t.k0s(),t.j41(340,"td"),t.EFF(341),t.k0s(),t.j41(342,"td"),t.EFF(343),t.k0s(),t.j41(344,"td"),t.EFF(345),t.k0s(),t.j41(346,"td"),t.EFF(347),t.k0s(),t.j41(348,"td"),t.EFF(349),t.k0s()()(),t.j41(350,"tr",11),t.nrm(351,"td",12),t.k0s(),t.j41(352,"thead")(353,"tr",4)(354,"th",13),t.EFF(355,"N\xb0"),t.k0s(),t.j41(356,"th",13),t.EFF(357,"Paludisme"),t.k0s(),t.j41(358,"th",13),t.EFF(359,"5-14 ans"),t.k0s(),t.j41(360,"th",13),t.EFF(361,"14-24 ans"),t.k0s(),t.j41(362,"th",13),t.EFF(363,"25-59 ans"),t.k0s(),t.j41(364,"th",13),t.EFF(365,"60 ans et Plus"),t.k0s(),t.j41(366,"th",13),t.EFF(367,"Femme enceinte"),t.k0s(),t.j41(368,"th",13),t.EFF(369,"Nombre total"),t.k0s(),t.j41(370,"th",13),t.EFF(371,"Nombre r\xe9f\xe9r\xe9s"),t.k0s()()(),t.j41(372,"tbody",14)(373,"tr")(374,"td",9),t.EFF(375),t.k0s(),t.j41(376,"td",10),t.EFF(377),t.k0s(),t.j41(378,"td"),t.EFF(379),t.k0s(),t.j41(380,"td"),t.EFF(381),t.k0s(),t.j41(382,"td"),t.EFF(383),t.k0s(),t.j41(384,"td"),t.EFF(385),t.k0s(),t.j41(386,"td"),t.EFF(387),t.k0s(),t.j41(388,"td"),t.EFF(389),t.k0s(),t.j41(390,"td"),t.EFF(391),t.k0s()(),t.j41(392,"tr")(393,"td",9),t.EFF(394),t.k0s(),t.j41(395,"td",10),t.EFF(396),t.k0s(),t.j41(397,"td"),t.EFF(398),t.k0s(),t.j41(399,"td"),t.EFF(400),t.k0s(),t.j41(401,"td"),t.EFF(402),t.k0s(),t.j41(403,"td"),t.EFF(404),t.k0s(),t.j41(405,"td",15),t.EFF(406),t.k0s(),t.j41(407,"td"),t.EFF(408),t.k0s(),t.j41(409,"td",15),t.EFF(410),t.k0s()(),t.j41(411,"tr")(412,"td",9),t.EFF(413),t.k0s(),t.j41(414,"td",10),t.EFF(415),t.k0s(),t.j41(416,"td"),t.EFF(417),t.k0s(),t.j41(418,"td"),t.EFF(419),t.k0s(),t.j41(420,"td"),t.EFF(421),t.k0s(),t.j41(422,"td"),t.EFF(423),t.k0s(),t.j41(424,"td",15),t.EFF(425),t.k0s(),t.j41(426,"td"),t.EFF(427),t.k0s(),t.j41(428,"td",15),t.EFF(429),t.k0s()(),t.j41(430,"tr")(431,"td",9),t.EFF(432),t.k0s(),t.j41(433,"td",10),t.EFF(434),t.k0s(),t.j41(435,"td"),t.EFF(436),t.k0s(),t.j41(437,"td"),t.EFF(438),t.k0s(),t.j41(439,"td"),t.EFF(440),t.k0s(),t.j41(441,"td"),t.EFF(442),t.k0s(),t.j41(443,"td",15),t.EFF(444),t.k0s(),t.j41(445,"td"),t.EFF(446),t.k0s(),t.j41(447,"td",15),t.EFF(448),t.k0s()()(),t.j41(449,"tr",11),t.nrm(450,"td",12),t.k0s()(),t.bVm()}if(2&o){const e=s.ngIf,n=t.XpG();t.R7$(4),t.Y8G("id","morbidity-table-header")("REPPORT_NAME",n.REPPORT_NAME)("CHANGE_STATE",n.CHANGE_STATE)("HIDE_ZERO_ID","morbidity-rep")("TABLE_ID","morbidity-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(27),t.JRh(e.hp_circulation_accident.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_circulation_accident.nbr_referred)),t.R7$(5),t.JRh(e.hp_burn.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_burn.nbr_referred)),t.R7$(5),t.JRh(e.hp_suspected_tb_cases.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_suspected_tb_cases.nbr_referred)),t.R7$(5),t.JRh(e.hp_dermatosis.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_dermatosis.nbr_referred)),t.R7$(5),t.JRh(e.hp_diarrhea.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_diarrhea.nbr_referred)),t.R7$(5),t.JRh(e.hp_urethral_discharge.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_urethral_discharge.nbr_referred)),t.R7$(5),t.JRh(e.hp_vaginal_discharge.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_vaginal_discharge.nbr_referred)),t.R7$(5),t.JRh(e.hp_urinary_loss.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_urinary_loss.nbr_referred)),t.R7$(5),t.JRh(e.hp_accidental_caustic_products_ingestion.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_accidental_caustic_products_ingestion.nbr_referred)),t.R7$(5),t.JRh(e.hp_food_poisoning.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_food_poisoning.nbr_referred)),t.R7$(5),t.JRh(e.hp_oral_diseases.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_oral_diseases.nbr_referred)),t.R7$(5),t.JRh(e.hp_dog_bite.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_dog_bite.nbr_referred)),t.R7$(5),t.JRh(e.hp_snake_bite.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_snake_bite.nbr_referred)),t.R7$(5),t.JRh(e.hp_parasitosis.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_parasitosis.nbr_referred)),t.R7$(5),t.JRh(e.hp_measles.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_measles.nbr_referred)),t.R7$(5),t.JRh(e.hp_trauma.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_trauma.nbr_referred)),t.R7$(5),t.JRh(e.hp_gender_based_violence.indicator),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.hp_gender_based_violence.nbr_referred)),t.R7$(26),t.JRh(1),t.R7$(2),t.JRh(e.malaria_total_cases.indicator),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.malaria_total_cases.nbr_referred)),t.R7$(3),t.JRh(2),t.R7$(2),t.JRh(e.malaria_rdt_performed.indicator),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.malaria_rdt_performed.nbr_referred)),t.R7$(3),t.JRh(3),t.R7$(2),t.JRh(e.malaria_positive_rdts.indicator),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.malaria_positive_rdts.nbr_referred)),t.R7$(3),t.JRh(4),t.R7$(2),t.JRh(e.malaria_cases_treated_with_cta.indicator),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_5_14_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_14_25_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_25_60_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_60_more_years)),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_pregnant_woman)),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_total)),t.R7$(2),t.JRh(n.shawValue(e.malaria_cases_treated_with_cta.nbr_referred))}}function ae(o,s){1&o&&(t.qex(0),t.j41(1,"h1",16),t.EFF(2," Pas de donn\xe9es, appliquer le filtre ! "),t.k0s(),t.bVm())}let se=(()=>{class o extends C{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(i,d)=>(0,k.H)(this.ldbfetch.GetMorbidityReports(i,d)),i=>this.api.ValidateMorbidityReports(i),i=>this.api.CancelValidateMorbidityReports(i),i=>this.api.SendMorbidityActivitiesToDhis2(i)),this.api=e,this.ldbfetch=n,this.REPPORT_NAME="MORBIDITY",this.dhis2Service.getDhis2SendingStatus().pipe((0,u.Q)(this.destroy$)).subscribe(i=>{i&&(this.snackbar.show({msg:i.msg,color:i.color,position:i.position??"TOP",duration:i.duration??5e3}),this.CHANGE_STATE=new Date)})}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["morbidity-report"]],standalone:!1,features:[t.Vt3],decls:3,vars:3,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","morbidity-table",1,"table","table-bordered","table-hover"],[1,"table-head"],["scope","col",2,"width","5%"],["scope","col",2,"width","32%"],["scope","col",2,"width","9%"],[1,"morbidity-health"],["scope","row"],[1,"first-element"],[1,"no-border"],["colspan","9",1,"separation"],["scope","col"],[1,"morbidity-malaria"],[1,"grey-back"],[2,"margin-top","150px","width","100%","text-align","center","color","brown"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,re,451,178,"ng-container",1)(2,ae,3,0,"ng-container",1)),2&n&&(t.Y8G("isLoading",r.IS_FILTER_LOADING),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED),t.R7$(),t.Y8G("ngIf",!r.DATA_FETCHED))},dependencies:[R.I,N,$],styles:[".grey-back[_ngcontent-%COMP%]{background-color:gray;border:1px gray solid}"]})}}return o})();function ie(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",18),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s(),t.j41(17,"td"),t.EFF(18),t.k0s(),t.j41(19,"td"),t.EFF(20),t.k0s(),t.j41(21,"td"),t.EFF(22),t.k0s(),t.j41(23,"td"),t.EFF(24),t.k0s(),t.j41(25,"td"),t.EFF(26),t.k0s(),t.j41(27,"td"),t.EFF(28),t.k0s(),t.j41(29,"td"),t.EFF(30),t.k0s(),t.j41(31,"td"),t.EFF(32),t.k0s(),t.j41(33,"td"),t.EFF(34),t.k0s(),t.j41(35,"td"),t.EFF(36),t.k0s(),t.j41(37,"td"),t.EFF(38),t.k0s(),t.j41(39,"td"),t.EFF(40),t.k0s(),t.j41(41,"td"),t.EFF(42),t.k0s(),t.j41(43,"td"),t.EFF(44),t.k0s(),t.j41(45,"td"),t.EFF(46),t.k0s(),t.j41(47,"td"),t.EFF(48),t.k0s(),t.j41(49,"td"),t.EFF(50),t.k0s(),t.j41(51,"td"),t.EFF(52),t.k0s(),t.j41(53,"td",19),t.EFF(54),t.k0s(),t.j41(55,"td",20),t.EFF(56),t.k0s(),t.j41(57,"td",21),t.EFF(58),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.index),t.R7$(2),t.JRh(e.indicator),t.R7$(),t.HbH(n.shawDarkMode(e.malaria_0_2.F)),t.R7$(),t.JRh(n.shawValue(e.malaria_0_2.F)),t.R7$(),t.HbH(n.shawDarkMode(e.malaria_0_2.M)),t.R7$(),t.JRh(n.shawValue(e.malaria_0_2.M)),t.R7$(),t.HbH(n.shawDarkMode(e.malaria_2_12.F)),t.R7$(),t.JRh(n.shawValue(e.malaria_2_12.F)),t.R7$(),t.HbH(n.shawDarkMode(e.malaria_2_12.M)),t.R7$(),t.JRh(n.shawValue(e.malaria_2_12.M)),t.R7$(),t.HbH(n.shawDarkMode(e.malaria_12_60.F)),t.R7$(),t.JRh(n.shawValue(e.malaria_12_60.F)),t.R7$(),t.HbH(n.shawDarkMode(e.malaria_12_60.M)),t.R7$(),t.JRh(n.shawValue(e.malaria_12_60.M)),t.R7$(),t.HbH(n.shawDarkMode(e.cough_pneumonia_0_2.F)),t.R7$(),t.JRh(n.shawValue(e.cough_pneumonia_0_2.F)),t.R7$(),t.HbH(n.shawDarkMode(e.cough_pneumonia_0_2.M)),t.R7$(),t.JRh(n.shawValue(e.cough_pneumonia_0_2.M)),t.R7$(),t.HbH(n.shawDarkMode(e.cough_pneumonia_2_12.F)),t.R7$(),t.JRh(n.shawValue(e.cough_pneumonia_2_12.F)),t.R7$(),t.HbH(n.shawDarkMode(e.cough_pneumonia_2_12.M)),t.R7$(),t.JRh(n.shawValue(e.cough_pneumonia_2_12.M)),t.R7$(),t.HbH(n.shawDarkMode(e.cough_pneumonia_12_60.F)),t.R7$(),t.JRh(n.shawValue(e.cough_pneumonia_12_60.F)),t.R7$(),t.HbH(n.shawDarkMode(e.cough_pneumonia_12_60.M)),t.R7$(),t.JRh(n.shawValue(e.cough_pneumonia_12_60.M)),t.R7$(),t.HbH(n.shawDarkMode(e.diarrhea_0_2.F)),t.R7$(),t.JRh(n.shawValue(e.diarrhea_0_2.F)),t.R7$(),t.HbH(n.shawDarkMode(e.diarrhea_0_2.M)),t.R7$(),t.JRh(n.shawValue(e.diarrhea_0_2.M)),t.R7$(),t.HbH(n.shawDarkMode(e.diarrhea_2_12.F)),t.R7$(),t.JRh(n.shawValue(e.diarrhea_2_12.F)),t.R7$(),t.HbH(n.shawDarkMode(e.diarrhea_2_12.M)),t.R7$(),t.JRh(n.shawValue(e.diarrhea_2_12.M)),t.R7$(),t.HbH(n.shawDarkMode(e.diarrhea_12_60.F)),t.R7$(),t.JRh(n.shawValue(e.diarrhea_12_60.F)),t.R7$(),t.HbH(n.shawDarkMode(e.diarrhea_12_60.M)),t.R7$(),t.JRh(n.shawValue(e.diarrhea_12_60.M)),t.R7$(),t.HbH(n.shawDarkMode(e.malnutrition_0_2.F)),t.R7$(),t.JRh(n.shawValue(e.malnutrition_0_2.F)),t.R7$(),t.HbH(n.shawDarkMode(e.malnutrition_0_2.M)),t.R7$(),t.JRh(n.shawValue(e.malnutrition_0_2.M)),t.R7$(),t.HbH(n.shawDarkMode(e.malnutrition_2_12.F)),t.R7$(),t.JRh(n.shawValue(e.malnutrition_2_12.F)),t.R7$(),t.HbH(n.shawDarkMode(e.malnutrition_2_12.M)),t.R7$(),t.JRh(n.shawValue(e.malnutrition_2_12.M)),t.R7$(),t.HbH(n.shawDarkMode(e.malnutrition_12_60.F)),t.R7$(),t.JRh(n.shawValue(e.malnutrition_12_60.F)),t.R7$(),t.HbH(n.shawDarkMode(e.malnutrition_12_60.M)),t.R7$(),t.JRh(n.shawValue(e.malnutrition_12_60.M)),t.R7$(2),t.JRh(n.shawValue(e.total.F)),t.R7$(2),t.JRh(n.shawValue(e.total.M)),t.R7$(2),t.JRh(n.shawValue(e.bigtotal))}}function _e(o,s){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"h2"),t.EFF(2,"\u{1f4cb} RAPPORT PCIMNE"),t.k0s(),t.nrm(3,"br"),t.j41(4,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(5,"table",3)(6,"thead")(7,"tr",4)(8,"th",5),t.EFF(9,"N\xb0"),t.k0s(),t.j41(10,"th",6),t.EFF(11,"Description"),t.k0s(),t.j41(12,"th",7),t.EFF(13,"Corps chaud/ Paludisme"),t.k0s(),t.j41(14,"th",7),t.EFF(15,"Toux ou difficult\xe9 respiratoire/ Pneumonie simple"),t.k0s(),t.j41(16,"th",7),t.EFF(17,"Diarrh\xe9e simple"),t.k0s(),t.j41(18,"th",7),t.EFF(19,"Malnutrition"),t.k0s(),t.j41(20,"th",8),t.EFF(21,"TOTAL"),t.k0s(),t.j41(22,"th",9),t.EFF(23,"Grand TOTAL"),t.k0s()(),t.j41(24,"tr",4)(25,"th",10),t.EFF(26,"0-2 mois"),t.k0s(),t.j41(27,"th",10),t.EFF(28,"2- 11 mois"),t.k0s(),t.j41(29,"th",10),t.EFF(30,"12- 59 mois"),t.k0s(),t.j41(31,"th",10),t.EFF(32,"0-2 mois"),t.k0s(),t.j41(33,"th",10),t.EFF(34,"2- 11 mois"),t.k0s(),t.j41(35,"th",10),t.EFF(36,"12- 59 mois"),t.k0s(),t.j41(37,"th",10),t.EFF(38,"0-2 mois"),t.k0s(),t.j41(39,"th",10),t.EFF(40,"2- 11 mois"),t.k0s(),t.j41(41,"th",10),t.EFF(42,"12- 59 mois"),t.k0s(),t.j41(43,"th",10),t.EFF(44,"0-2 mois"),t.k0s(),t.j41(45,"th",10),t.EFF(46,"2- 11 mois"),t.k0s(),t.j41(47,"th",10),t.EFF(48,"12- 59 mois"),t.k0s()(),t.j41(49,"tr",11)(50,"th",12),t.EFF(51,"F"),t.k0s(),t.j41(52,"th",12),t.EFF(53,"M"),t.k0s(),t.j41(54,"th",12),t.EFF(55,"F"),t.k0s(),t.j41(56,"th",12),t.EFF(57,"M"),t.k0s(),t.j41(58,"th",12),t.EFF(59,"F"),t.k0s(),t.j41(60,"th",12),t.EFF(61,"M"),t.k0s(),t.j41(62,"th",12),t.EFF(63,"F"),t.k0s(),t.j41(64,"th",12),t.EFF(65,"M"),t.k0s(),t.j41(66,"th",12),t.EFF(67,"F"),t.k0s(),t.j41(68,"th",12),t.EFF(69,"M"),t.k0s(),t.j41(70,"th",12),t.EFF(71,"F"),t.k0s(),t.j41(72,"th",12),t.EFF(73,"M"),t.k0s(),t.j41(74,"th",12),t.EFF(75,"F"),t.k0s(),t.j41(76,"th",12),t.EFF(77,"M"),t.k0s(),t.j41(78,"th",12),t.EFF(79,"F"),t.k0s(),t.j41(80,"th",12),t.EFF(81,"M"),t.k0s(),t.j41(82,"th",12),t.EFF(83,"F"),t.k0s(),t.j41(84,"th",12),t.EFF(85,"M"),t.k0s(),t.j41(86,"th",12),t.EFF(87,"F"),t.k0s(),t.j41(88,"th",12),t.EFF(89,"M"),t.k0s(),t.j41(90,"th",12),t.EFF(91,"F"),t.k0s(),t.j41(92,"th",12),t.EFF(93,"M"),t.k0s(),t.j41(94,"th",12),t.EFF(95,"F"),t.k0s(),t.j41(96,"th",12),t.EFF(97,"M"),t.k0s(),t.j41(98,"th",13),t.EFF(99,"F"),t.k0s(),t.j41(100,"th",12),t.EFF(101,"M"),t.k0s()()(),t.j41(102,"tbody",14),t.DNE(103,ie,59,101,"tr",15),t.k0s(),t.j41(104,"tr",16),t.nrm(105,"td",17),t.k0s()(),t.bVm()}if(2&o){const e=s.ngIf,n=t.XpG();t.R7$(4),t.Y8G("id","pcimne-table-header")("REPPORT_NAME",n.REPPORT_NAME)("CHANGE_STATE",n.CHANGE_STATE)("HIDE_ZERO_ID","pcimne-rep")("TABLE_ID","pcimne-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(99),t.Y8G("ngForOf",e)}}function le(o,s){1&o&&(t.qex(0),t.j41(1,"h1",22),t.EFF(2," Pas de donn\xe9es, appliquer le filtre ! "),t.k0s(),t.bVm())}let ce=(()=>{class o extends C{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(i,d)=>(0,k.H)(this.ldbfetch.GetPcimneNewbornReports(i,d)),i=>this.api.ValidatePcimneNewbornReports(i),i=>this.api.CancelValidatePcimneNewbornReports(i),i=>this.api.SendPcimneNewbornActivitiesToDhis2(i)),this.api=e,this.ldbfetch=n,this.REPPORT_NAME="PCIMNE_NEWBORN",this.dhis2Service.getDhis2SendingStatus().pipe((0,u.Q)(this.destroy$)).subscribe(i=>{i&&(this.snackbar.show({msg:i.msg,color:i.color,position:i.position??"TOP",duration:i.duration??5e3}),this.CHANGE_STATE=new Date)})}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data}shawDarkMode(e){return null!=e&&(0==e||"0"==e||parseInt(e)>=0)?"":"grey-back"}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["pcimne-report"]],standalone:!1,features:[t.Vt3],decls:3,vars:3,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","pcimne-table",1,"table","table-bordered","table-hover"],[1,"table-head"],["rowspan","3","scope","col",1,"indicator-count"],["rowspan","3","scope","col",1,"indicator"],["colspan","6","scope","col"],["colspan","2","rowspan","2","scope","col",1,"left-border-separation"],["rowspan","3","scope","col",1,"indicator-total"],["colspan","2","scope","col"],[1,"table-head","pcimne-count"],["scope","col",1,"indicator-sex"],["scope","col",1,"indicator-sex","left-border-separation"],[1,"pcimne-body"],[4,"ngFor","ngForOf"],[1,"no-border"],["colspan","27",1,"separation"],["scope","row"],[1,"pcimne-total","left-border-separation"],[1,"pcimne-total"],[1,"pcimne-bigtotal"],[2,"margin-top","150px","width","100%","text-align","center","color","brown"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,_e,106,7,"ng-container",1)(2,le,3,0,"ng-container",1)),2&n&&(t.Y8G("isLoading",r.IS_FILTER_LOADING),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED),t.R7$(),t.Y8G("ngIf",!r.DATA_FETCHED))},dependencies:[R.G,R.I,N,$],styles:["thead[_ngcontent-%COMP%]   .indicator-count[_ngcontent-%COMP%]{width:30px!important}thead[_ngcontent-%COMP%]   .indicator-total[_ngcontent-%COMP%]{width:25px!important}thead[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{width:300px!important}thead[_ngcontent-%COMP%]   .pcimne-count[_ngcontent-%COMP%]   .indicator-sex[_ngcontent-%COMP%]{width:30px!important}.grey-back[_ngcontent-%COMP%]{background-color:gray;border:1px gray solid}.pcimne-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .pcimne-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.pcimne-body[_ngcontent-%COMP%]   .pcimne-total[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.pcimne-body[_ngcontent-%COMP%]   .pcimne-bigtotal[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.left-border-separation[_ngcontent-%COMP%]{border-left:10px solid #ddd!important}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center!important}"]})}}return o})();function he(o,s){if(1&o&&(t.qex(0),t.j41(1,"tr")(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td"),t.EFF(17),t.k0s(),t.j41(18,"td"),t.EFF(19),t.k0s(),t.j41(20,"td"),t.EFF(21),t.k0s()(),t.bVm()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(3),t.JRh(e.value.label),t.R7$(2),t.JRh(n.shawValue(e.value.vad.F)),t.R7$(2),t.JRh(n.shawValue(e.value.vad.M)),t.R7$(2),t.JRh(n.shawValue(e.value.talk.F)),t.R7$(2),t.JRh(n.shawValue(e.value.talk.M)),t.R7$(2),t.JRh(n.shawValue(e.value.personal.F)),t.R7$(2),t.JRh(n.shawValue(e.value.personal.M)),t.R7$(2),t.JRh(n.shawValue(e.value.total.F)),t.R7$(2),t.JRh(n.shawValue(e.value.total.M)),t.R7$(2),t.JRh(n.shawValue(e.value.bigtotal))}}function de(o,s){if(1&o&&(t.qex(0),t.j41(1,"tr")(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td"),t.EFF(17),t.k0s(),t.j41(18,"td"),t.EFF(19),t.k0s(),t.j41(20,"td"),t.EFF(21),t.k0s()(),t.bVm()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(3),t.JRh(e.value.label),t.R7$(2),t.JRh(n.shawValue(e.value.vad.F)),t.R7$(2),t.JRh(n.shawValue(e.value.vad.M)),t.R7$(2),t.JRh(n.shawValue(e.value.talk.F)),t.R7$(2),t.JRh(n.shawValue(e.value.talk.M)),t.R7$(2),t.JRh(n.shawValue(e.value.personal.F)),t.R7$(2),t.JRh(n.shawValue(e.value.personal.M)),t.R7$(2),t.JRh(n.shawValue(e.value.total.F)),t.R7$(2),t.JRh(n.shawValue(e.value.total.M)),t.R7$(2),t.JRh(n.shawValue(e.value.bigtotal))}}function pe(o,s){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"h2"),t.EFF(2,"\u{1f4c8} RAPPORT PROMOTIONS"),t.k0s(),t.nrm(3,"br"),t.j41(4,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(5,"table",3)(6,"thead")(7,"tr",4),t.nrm(8,"th",5),t.j41(9,"th",6),t.EFF(10,"Nombre de personnes touch\xe9es par les "),t.nrm(11,"br"),t.j41(12,"span",7),t.EFF(13,"VAD"),t.k0s()(),t.j41(14,"th",6),t.EFF(15,"Nombre de personnes touch\xe9es par les "),t.nrm(16,"br"),t.j41(17,"span",7),t.EFF(18,"CE"),t.k0s()(),t.j41(19,"th",6),t.EFF(20,"Nombre de personnes touch\xe9es par les "),t.nrm(21,"br"),t.j41(22,"span",7),t.EFF(23,"CIP"),t.k0s()(),t.j41(24,"th",6),t.EFF(25,"Nombre Total"),t.k0s(),t.nrm(26,"th",8),t.k0s(),t.j41(27,"tr",4)(28,"th"),t.EFF(29,"Rubrique B"),t.k0s(),t.j41(30,"th"),t.EFF(31,"F"),t.k0s(),t.j41(32,"th"),t.EFF(33,"M"),t.k0s(),t.j41(34,"th"),t.EFF(35,"F"),t.k0s(),t.j41(36,"th"),t.EFF(37,"M"),t.k0s(),t.j41(38,"th"),t.EFF(39,"F"),t.k0s(),t.j41(40,"th"),t.EFF(41,"M"),t.k0s(),t.j41(42,"th"),t.EFF(43,"F"),t.k0s(),t.j41(44,"th"),t.EFF(45,"M"),t.k0s(),t.j41(46,"th"),t.EFF(47,"Grand Total"),t.k0s()()(),t.j41(48,"tbody")(49,"tr")(50,"th",9),t.EFF(51,"DOMAINES"),t.k0s()(),t.DNE(52,he,22,10,"ng-container",10),t.nI1(53,"keyvalue"),t.j41(54,"tr",11),t.nrm(55,"td",12),t.k0s(),t.j41(56,"tr")(57,"th",9),t.EFF(58,"THEMES"),t.k0s()(),t.DNE(59,de,22,10,"ng-container",10),t.nI1(60,"keyvalue"),t.j41(61,"tr",11),t.nrm(62,"td",12),t.k0s()()(),t.bVm()}if(2&o){const e=t.XpG();t.R7$(4),t.Y8G("id","promotion-table-header")("REPPORT_NAME",e.REPPORT_NAME)("CHANGE_STATE",e.CHANGE_STATE)("HIDE_ZERO_ID","promotion-rep")("TABLE_ID","promotion-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(48),t.Y8G("ngForOf",t.bMT(53,8,e.DATA_FETCHED.domains)),t.R7$(7),t.Y8G("ngForOf",t.bMT(60,10,e.DATA_FETCHED.themes))}}function Re(o,s){1&o&&(t.qex(0),t.j41(1,"h1",13),t.EFF(2," Pas de donn\xe9es, appliquer le filtre ! "),t.k0s(),t.bVm())}let ue=(()=>{class o extends C{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(i,d)=>(0,k.H)(this.ldbfetch.GetPromotionReports(i,d)),i=>this.api.ValidatePromotionReports(i),i=>this.api.CancelValidatePromotionReports(i),i=>this.api.SendPromotionActivitiesToDhis2(i)),this.api=e,this.ldbfetch=n,this.REPPORT_NAME="PROMOTION",this.dhis2Service.getDhis2SendingStatus().pipe((0,u.Q)(this.destroy$)).subscribe(i=>{i&&(this.snackbar.show({msg:i.msg,color:i.color,position:i.position??"TOP",duration:i.duration??5e3}),this.CHANGE_STATE=new Date)})}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["promotion-activity-report"]],standalone:!1,features:[t.Vt3],decls:3,vars:3,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","promotion-table",1,"table","table-bordered","table-hover"],[1,"table-head"],["scope","col",2,"width","40%!important"],["scope","col","colspan","2",2,"width","15%!important","text-align","center"],[2,"font-size","18px!important"],["scope","col",2,"width","15%!important","text-align","center"],["colspan","10",2,"background","rgb(189, 219, 253)!important"],[4,"ngFor","ngForOf"],[1,"no-border","ignore-export"],["colspan","10",1,"separation"],[2,"margin-top","150px","width","100%","text-align","center","color","brown"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,pe,63,12,"ng-container",1)(2,Re,3,0,"ng-container",1)),2&n&&(t.Y8G("isLoading",r.IS_FILTER_LOADING),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED),t.R7$(),t.Y8G("ngIf",!r.DATA_FETCHED))},dependencies:[R.G,R.I,N,$,R.a8],encapsulation:2})}}return o})();var Ee=p(7929);function Fe(o,s){if(1&o&&(t.j41(0,"option",5),t.EFF(1),t.k0s()),2&o){const e=s.$implicit;t.Y8G("value",e),t.R7$(),t.JRh(e)}}function me(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",1)(1,"select",2),t.bIt("change",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.changePageSize(r))}),t.DNE(2,Fe,2,2,"option",3),t.k0s(),t.j41(3,"button",4),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.prevPage())}),t.EFF(4,"Pr\xe9c\xe9dent"),t.k0s(),t.j41(5,"span"),t.EFF(6),t.k0s(),t.j41(7,"button",4),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.nextPage())}),t.EFF(8,"Suivant"),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.pageSizeOptions),t.R7$(),t.Y8G("disabled",1===e.currentPage),t.R7$(3),t.Lme("Page ",e.currentPage," of ",e.totalPages,""),t.R7$(),t.Y8G("disabled",e.currentPage===e.totalPages)}}let ge=(()=>{class o extends Ee.K{constructor(){super()}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["reports-pagination-table"]],standalone:!1,features:[t.Vt3],decls:1,vars:1,consts:[["class","pagination",4,"ngIf"],[1,"pagination"],[3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"click","disabled"],[3,"value"]],template:function(n,r){1&n&&t.DNE(0,me,9,5,"div",0),2&n&&t.Y8G("ngIf",r.datalength>r.initialPageSize)},dependencies:[R.G,R.I,F.xH,F.y7],styles:[".pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:12px;margin-top:20px;font-family:Arial,sans-serif;flex-wrap:wrap}.pagination[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;font-size:16px;border-radius:8px;border:1px solid #6200ea;background:#f3f3f3;color:#333;cursor:pointer;transition:all .3s ease;box-shadow:inset 2px 2px 5px #0000001a}.pagination[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{background:#ddd}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6200ea,#9c27b0);color:#fff;border:none;padding:10px 20px;border-radius:20px;font-size:16px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #0003}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#9c27b0,#6200ea);transform:scale(1.05)}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed;box-shadow:none;transform:none}.pagination[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#444;padding:8px 15px;border-radius:10px;background:#f3f3f3;box-shadow:inset 2px 2px 5px #0000001a}"],changeDetection:0})}}return o})();function Te(o,s){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s(),t.j41(17,"td"),t.EFF(18),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(3);t.R7$(2),t.JRh(n.shawValue(e.family_code)),t.R7$(2),t.JRh(n.shawValue(e.family_name)),t.R7$(2),t.JRh(n.shawValue(e.total_household_members)),t.R7$(2),t.JRh(n.shawValue(e.total_adult_women_15_50_years)),t.R7$(2),t.JRh(n.shawValue(e.total_children_0_12_months)),t.R7$(2),t.JRh(n.shawValue(e.total_children_12_60_months)),t.R7$(2),t.JRh(n.shawValue(e.total_children_under_5_years)),t.R7$(2),t.JRh(n.shawValue(!0===e.has_functional_latrine?"OUI":"")),t.R7$(2),t.JRh(n.shawValue(!0===e.has_drinking_water_access?"OUI":""))}}function fe(o,s){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"h2"),t.EFF(2,"\u{1f4cb} RAPPORT R\xc9CAP DES M\xc9NAGES"),t.k0s(),t.nrm(3,"br"),t.j41(4,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(5,"table",3)(6,"thead")(7,"tr",4)(8,"th",5),t.EFF(9,"N\xb0 m\xe9nage"),t.k0s(),t.j41(10,"th",6),t.EFF(11,"Nom M\xe9nage"),t.k0s(),t.j41(12,"th",7),t.EFF(13,"Total membres m\xe9nages"),t.k0s(),t.j41(14,"th",7),t.EFF(15,"Total femmes 15-49 ans"),t.k0s(),t.j41(16,"th",7),t.EFF(17,"Total enfants de 0-11 mois"),t.k0s(),t.j41(18,"th",7),t.EFF(19,"Total enfants de 12-59 mois"),t.k0s(),t.j41(20,"th",7),t.EFF(21,"Total enfants moins de 5 ans"),t.k0s(),t.j41(22,"th",7),t.EFF(23,"Latrine fonctionnelle"),t.k0s(),t.j41(24,"th",7),t.EFF(25,"Acc\xe8s \xe0 l'eau potable"),t.k0s()()(),t.j41(26,"thead")(27,"tr")(28,"td",8),t.EFF(29,"TOTAL"),t.k0s(),t.j41(30,"td",9),t.EFF(31),t.k0s(),t.j41(32,"td",9),t.EFF(33),t.k0s(),t.j41(34,"td",9),t.EFF(35),t.k0s(),t.j41(36,"td",9),t.EFF(37),t.k0s(),t.j41(38,"td",9),t.EFF(39),t.k0s(),t.j41(40,"td",9),t.EFF(41),t.k0s(),t.j41(42,"td",9),t.EFF(43),t.k0s()()(),t.j41(44,"tbody"),t.DNE(45,Te,19,9,"tr",10),t.k0s()(),t.j41(46,"reports-pagination-table",11),t.bIt("onPageChanged",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.onUpdatedPaginate(r))}),t.k0s(),t.bVm()}if(2&o){const e=s.ngIf,n=t.XpG(2);t.R7$(4),t.Y8G("id","recap-menage-table-header")("REPPORT_NAME",n.REPPORT_NAME)("CHANGE_STATE",n.CHANGE_STATE)("HIDE_ZERO_ID","household-rep")("TABLE_ID","recap-menage-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(27),t.JRh(n.shawValue(e.total_household_members)),t.R7$(2),t.JRh(n.shawValue(e.total_adult_women_15_50_years)),t.R7$(2),t.JRh(n.shawValue(e.total_children_0_12_months)),t.R7$(2),t.JRh(n.shawValue(e.total_children_12_60_months)),t.R7$(2),t.JRh(n.shawValue(e.total_children_under_5_years)),t.R7$(2),t.JRh(n.shawValue(e.has_functional_latrine)),t.R7$(2),t.JRh(n.shawValue(e.has_drinking_water_access)),t.R7$(2),t.Y8G("ngForOf",n.PAGINATION_DATA),t.R7$(),t.Y8G("id","pagination-recap-menage")("PAGINATION_DATA",n.DATA_FETCHED)}}function Ae(o,s){if(1&o&&(t.qex(0),t.DNE(1,fe,47,16,"ng-container",1),t.bVm()),2&o){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.DATA_FETCHED_TOTAL)}}function be(o,s){1&o&&(t.qex(0),t.j41(1,"h1",12),t.EFF(2," Pas de donn\xe9es, appliquer le filtre ! "),t.k0s(),t.bVm())}let De=(()=>{class o extends C{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(i,d)=>(0,k.H)(this.ldbfetch.GetHouseholdRecapReports(i,d)),i=>this.api.ValidateHouseholdRecapReports(i),i=>this.api.CancelValidateHouseholdRecapReports(i),i=>this.api.SendHouseholdActivitiesToDhis2(i)),this.api=e,this.ldbfetch=n,this.PAGINATION_DATA=[],this.REPPORT_NAME="HOUSE_HOLD_RECAP",this.dhis2Service.getDhis2SendingStatus().pipe((0,u.Q)(this.destroy$)).subscribe(i=>{i&&(this.snackbar.show({msg:i.msg,color:i.color,position:i.position??"TOP",duration:i.duration??5e3}),this.CHANGE_STATE=new Date)})}onUpdatedPaginate(e){this.PAGINATION_DATA=e}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data??[]}get DATA_FETCHED_TOTAL(){return this.DATA_FETCHED&&this.DATA_FETCHED.length>0?{total_household_members:this.DATA_FETCHED.map(e=>e.total_household_members).reduce((e,n)=>e+n,0),total_adult_women_15_50_years:this.DATA_FETCHED.map(e=>e.total_adult_women_15_50_years).reduce((e,n)=>e+n,0),total_children_under_5_years:this.DATA_FETCHED.map(e=>e.total_children_under_5_years).reduce((e,n)=>e+n,0),total_children_0_12_months:this.DATA_FETCHED.map(e=>e.total_children_0_12_months).reduce((e,n)=>e+n,0),total_children_12_60_months:this.DATA_FETCHED.map(e=>e.total_children_12_60_months).reduce((e,n)=>e+n,0),has_functional_latrine:this.DATA_FETCHED.map(e=>e.has_functional_latrine).reduce((e,n)=>!0===n?e+1:e,0),has_drinking_water_access:this.DATA_FETCHED.map(e=>e.has_drinking_water_access).reduce((e,n)=>!0===n?e+1:e,0)}:void 0}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["household-recap-report"]],standalone:!1,features:[t.Vt3],decls:3,vars:3,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","recap-menage-table",1,"table","table-bordered","table-hover"],[1,"table-head"],["scope","col",2,"width","2.5%"],["scope","col"],["scope","col",2,"width","10%"],["colspan","2","scope","row",1,"h-total"],[1,"h-total"],[4,"ngFor","ngForOf"],[3,"onPageChanged","id","PAGINATION_DATA"],[2,"margin-top","150px","width","100%","text-align","center","color","brown"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,Ae,2,1,"ng-container",1)(2,be,3,0,"ng-container",1)),2&n&&(t.Y8G("isLoading",r.IS_FILTER_LOADING),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED&&r.DATA_FETCHED.length>0),t.R7$(),t.Y8G("ngIf",!r.DATA_FETCHED||r.DATA_FETCHED&&0==r.DATA_FETCHED.length))},dependencies:[R.G,R.I,N,ge,$],styles:[".h-total[_ngcontent-%COMP%]{font-weight:700!important;color:#036!important;font-size:18px!important;background:#dfefff}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center!important}"]})}}return o})();function Oe(o,s){if(1&o&&(t.qex(0),t.j41(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.bVm()),2&o){const e=s.ngIf,n=t.XpG(3);t.R7$(),t.ZvI("ajust-cells ",e.class,""),t.R7$(),t.JRh(n.shawValue(e.value)),t.R7$(),t.ZvI("ajust-cells ",e.class,""),t.R7$(),t.JRh(n.shawValue(e.ecart))}}function ke(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",13),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s(),t.DNE(17,Oe,5,8,"ng-container",1),t.j41(18,"td"),t.EFF(19),t.k0s(),t.j41(20,"td"),t.EFF(21),t.k0s(),t.j41(22,"td"),t.EFF(23),t.k0s(),t.j41(24,"td"),t.EFF(25),t.k0s()()),2&o){const e=s.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.index),t.R7$(2),t.JRh(e.label),t.R7$(),t.HbH(n.quantityStyle(e.month_beginning)),t.R7$(),t.JRh(n.shawValue(e.month_beginning)),t.R7$(),t.HbH(n.quantityStyle(e.month_received)),t.R7$(),t.JRh(n.shawValue(e.month_received)),t.R7$(),t.HbH(n.quantityStyle(e.month_total_start)),t.R7$(),t.JRh(n.shawValue(e.month_total_start)),t.R7$(),t.HbH(n.quantityStyle(e.month_consumption)),t.R7$(),t.JRh(n.shawValue(e.month_consumption)),t.R7$(),t.HbH(n.quantityStyle(e.month_theoreticaly)),t.R7$(),t.JRh(n.shawValue(e.month_theoreticaly)),t.R7$(),t.HbH(n.quantityStyle(e.month_inventory)),t.R7$(),t.JRh(n.shawValue(e.month_inventory)),t.R7$(),t.Y8G("ngIf",n.EcartColor(e)),t.R7$(),t.HbH(n.quantityStyle(e.month_loss)),t.R7$(),t.JRh(n.shawValue(e.month_loss)),t.R7$(),t.HbH(n.quantityStyle(e.month_damaged)),t.R7$(),t.JRh(n.shawValue(e.month_damaged)),t.R7$(),t.HbH(n.quantityStyle(e.month_broken)),t.R7$(),t.JRh(n.shawValue(e.month_broken)),t.R7$(),t.HbH(n.quantityStyle(e.month_expired)),t.R7$(),t.JRh(n.shawValue(e.month_expired))}}function je(o,s){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"h2"),t.EFF(2,"\u{1f4cb} RAPPORT GESTION MEDICAMENTS RECO"),t.k0s(),t.nrm(3,"br"),t.j41(4,"repports-header-selector",2),t.bIt("onValidateData",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validateData())})("onCancelDataValidated",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancelValidation())})("onSendDataToDhis2",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.sendDataToDhis2(r))})("onHideZero",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.hideZero(r))}),t.k0s(),t.j41(5,"table",3)(6,"thead")(7,"tr",4)(8,"th",5),t.EFF(9,"N\xb0"),t.k0s(),t.j41(10,"th",6),t.EFF(11,"MEG / INTRANTS"),t.k0s(),t.j41(12,"th",7),t.EFF(13,"Quantit\xe9 d\xe9but du mois (A)"),t.k0s(),t.j41(14,"th",7),t.EFF(15,"Quantit\xe9 re\xe7ue au cours du mois (B)"),t.k0s(),t.j41(16,"th",7),t.EFF(17,"Quantit\xe9 totale du mois (C=A+B)"),t.k0s(),t.j41(18,"th",7),t.EFF(19,"Quantit\xe9 utilis\xe9e au cours du mois (D)"),t.k0s(),t.j41(20,"th",7),t.EFF(21,"Quantit\xe9 th\xe9orique (E=C-D)"),t.k0s(),t.j41(22,"th",7),t.EFF(23,"Quantit\xe9 physique \xe0 l'inventaire (F)"),t.k0s(),t.j41(24,"th",8),t.EFF(25,"Ecart d'inventaire (J=F-E)"),t.k0s(),t.j41(26,"th",9),t.EFF(27,"Autres Sorties"),t.k0s()(),t.j41(28,"tr",4)(29,"th",10),t.EFF(30,"En nombre"),t.k0s(),t.j41(31,"th",10),t.EFF(32,"En %"),t.k0s(),t.j41(33,"th",11),t.EFF(34,"Perte"),t.k0s(),t.j41(35,"th",11),t.EFF(36,"Avari\xe9"),t.k0s(),t.j41(37,"th",11),t.EFF(38,"Cass\xe9"),t.k0s(),t.j41(39,"th",11),t.EFF(40,"P\xe9rim\xe9"),t.k0s()()(),t.j41(41,"tbody"),t.DNE(42,ke,26,43,"tr",12),t.k0s()(),t.bVm()}if(2&o){const e=t.XpG();t.R7$(4),t.Y8G("id","meg-reco-table-header")("REPPORT_NAME",e.REPPORT_NAME)("CHANGE_STATE",e.CHANGE_STATE)("HIDE_ZERO_ID","reco-meg-rep")("TABLE_ID","meg-reco-table")("SHOW_EXPORT_TABLE_BTN",!0),t.R7$(38),t.Y8G("ngForOf",e.DATA_FETCHED)}}function Ie(o,s){1&o&&(t.qex(0),t.j41(1,"h1",14),t.EFF(2," Pas de donn\xe9es, appliquer le filtre ! "),t.k0s(),t.bVm())}let Ce=(()=>{class o extends C{constructor(e,n,r,a,c,l,h,_){super(_,a,c,l,h,r,(i,d)=>(0,k.H)(this.ldbfetch.GetRecoMegSituationReports(i,d)),i=>this.api.ValidateRecoMegSituationReports(i),i=>this.api.CancelValidateRecoMegSituationReports(i),i=>this.api.SendRecoMegSituationActivitiesToDhis2(i)),this.api=e,this.ldbfetch=n,this.REPPORT_NAME="RECO_MEG_QUANTITIES",this.dhis2Service.getDhis2SendingStatus().pipe((0,u.Q)(this.destroy$)).subscribe(i=>{i&&(this.CHANGE_STATE=new Date)})}get DATA_FETCHED(){return this.REPORTS_DATA[this.REPPORT_NAME]?.data}quantityStyle(e){return e<0?"quantity-error":e>0?"quantity-up":"quantity-down"}convertQty(e){return 0==e||""==e||null==e||"0"==e||null==e?void 0:e}EcartColor(e){const n=this.convertQty(e.month_inventory)??0,r=this.convertQty(e.month_theoreticaly)??0;if(0!=n&&0!=r){const a=n-r,c=a/r*100,l=c<0?-1*c:c;return{value:`${a}`,ecart:l>100?"> 100%":`${l.toFixed(0)}%`,class:l>5?"quantity-error":"quantity-ok"}}return{value:"-",ecart:"-",class:""}}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(j.F),t.rXU(D),t.rXU(b.X),t.rXU(m.i),t.rXU(f.T),t.rXU(T.z),t.rXU(g.z))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["reco-meg-situation-report"]],standalone:!1,features:[t.Vt3],decls:3,vars:3,consts:[[3,"isLoading"],[4,"ngIf"],[3,"onValidateData","onCancelDataValidated","onSendDataToDhis2","onHideZero","id","REPPORT_NAME","CHANGE_STATE","HIDE_ZERO_ID","TABLE_ID","SHOW_EXPORT_TABLE_BTN"],["id","meg-reco-table",1,"table","table-bordered","table-hover"],[1,"table-head","fp-header-1"],["rowspan","2","scope","col",2,"width","2.5%","text-align","center"],["rowspan","2",2,"text-align","center"],["scope","col","rowspan","2",2,"width","7%","text-align","center"],["scope","col","rowspan","1","colspan","2",2,"width","7%","text-align","center"],["colspan","4",2,"width","14%","text-align","center"],[2,"width","7%","text-align","center"],["scope","col",2,"width","7%","text-align","center"],[4,"ngFor","ngForOf"],["scope","row"],[2,"margin-top","150px","width","100%","text-align","center","color","brown"]],template:function(n,r){1&n&&(t.nrm(0,"app-google-loader",0),t.DNE(1,je,43,7,"ng-container",1)(2,Ie,3,0,"ng-container",1)),2&n&&(t.Y8G("isLoading",r.IS_FILTER_LOADING),t.R7$(),t.Y8G("ngIf",r.DATA_FETCHED),t.R7$(),t.Y8G("ngIf",!r.DATA_FETCHED))},dependencies:[R.G,R.I,N,$],styles:[".quantity-up[_ngcontent-%COMP%]{color:#05002d;font-weight:700}.quantity-error[_ngcontent-%COMP%]{color:#ff7070}"]})}}return o})();const Pe=[{path:"",component:(()=>{class o{constructor(e,n,r,a,c,l,h){this.api=e,this.db=n,this.userCtx=r,this.snackbar=a,this.conn=c,this.fGroup=l,this.dhis2Service=h,this.CHANGE_STATE=null,this.destroy$=new w.B,this.REPORTS_HEADER={ON_FETCHING:{},IS_VALIDATED:{},IS_ON_DHIS2:{},ON_VALIDATION:{},ON_CANCEL_VALIDATION:{},ON_DHIS2_SENDING:{},ON_DHIS2_SENDING_ERROR:{}},this.REPORTS_DATA={MONTHLY_ACTIVITY:void 0,FAMILY_PLANNING:void 0,HOUSE_HOLD_RECAP:void 0,MORBIDITY:void 0,PCIMNE_NEWBORN:void 0,PROMOTION:void 0,RECO_MEG_QUANTITIES:void 0},this.isOnline=window.navigator.onLine,this.conn.onlineStatus$.subscribe(_=>this.isOnline=_),this.initializeComponent(),(0,S.Ey)(),this.conn.onlineStatus$.pipe((0,u.Q)(this.destroy$)).subscribe(_=>{this.isOnline=_}),this.fGroup.formGroup$.pipe((0,u.Q)(this.destroy$)).subscribe(_=>{_&&(this.form=_)}),this.fGroup.REPORTS_HEADER$.pipe((0,u.Q)(this.destroy$)).subscribe(_=>{_&&Object.entries(this.REPORTS_HEADER).forEach(([i,d])=>{this.REPORTS_HEADER[i]=_[i]??(Array.isArray(d)?[]:{})})}),this.fGroup.REPORTS_DATA$.pipe((0,u.Q)(this.destroy$)).subscribe(_=>{_&&(Object.keys(this.REPORTS_DATA).forEach(i=>{this.REPORTS_DATA[i]=_[i],this.REPORTS_HEADER.ON_FETCHING[i]=!1}),this.SET_REPORTS_HEADER())})}initializeComponent(){var e=this;return(0,E.A)(function*(){e.USER=yield e.userCtx.currentUser()})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}SET_REPORTS_HEADER(){this.fGroup.SET_REPORTS_HEADER(this.REPORTS_HEADER),this.CHANGE_STATE=new Date}UPDATE_REPORT_FIELD(e,n,r){this.REPORTS_HEADER[e][n]=r,this.SET_REPORTS_HEADER()}SEND_ALL_REPPORTS_DATA_TO_DHIS2(e){this.dhis2Service.sendReportsToDhis2({form:this.form,dhis2Form:e,reportNames:Object.keys(this.REPORTS_DATA),onStart:n=>{this.showProcessMessage(n)},onProcess:n=>{this.showProcessMessage(n)},onSuccess:n=>{this.showProcessMessage(n)},onError:n=>{this.showProcessMessage(n)},onWarning:n=>{this.showProcessMessage(n)}})}VALIDATE_ALL_REPORTS(){var e=this;if(this.form)for(const n of Object.keys(this.REPORTS_DATA)){const r=n;this.UPDATE_REPORT_FIELD("ON_VALIDATION",r,!0);let a,c=!0;if("MONTHLY_ACTIVITY"==r&&(a=this.api.ValidateChwsRecoReports(this.form.value)),"FAMILY_PLANNING"==r&&(a=this.api.ValidateFamilyPlanningReports(this.form.value)),"HOUSE_HOLD_RECAP"==r){const l=(this.REPORTS_DATA?.[r]?.data??[])?.map(h=>h.id)??[];c=l&&l.length>0,a=this.api.ValidateHouseholdRecapReports({...this.form.value,dataIds:l})}"MORBIDITY"==r&&(a=this.api.ValidateMorbidityReports(this.form.value)),"PCIMNE_NEWBORN"==r&&(a=this.api.ValidatePcimneNewbornReports(this.form.value)),"PROMOTION"==r&&(a=this.api.ValidatePromotionReports(this.form.value)),"RECO_MEG_QUANTITIES"==r&&(a=this.api.ValidateRecoMegSituationReports(this.form.value)),c&&a?a.subscribe({next:function(){var l=(0,E.A)(function*(h){200==h.status?(e.SHOW_ALL_DATA(!1),e.UPDATE_REPORT_FIELD("ON_VALIDATION",r,!1),e.UPDATE_REPORT_FIELD("IS_VALIDATED",r,!0),e.snackbar.show({msg:`${r} valid\xe9 avec succ\xe8s.`,color:"success",position:"TOP"}),!0===e.USER?.role.canUseOfflineMode&&e.isOnline&&(yield e.db.all(e.form.value).then(_=>{}))):(e.UPDATE_REPORT_FIELD("ON_VALIDATION",r,!1),e.snackbar.show({msg:`Impossible de valider ${r}.`,color:"warning",position:"TOP"}))});return function(_){return l.apply(this,arguments)}}(),error:l=>{this.UPDATE_REPORT_FIELD("ON_VALIDATION",r,!1),this.snackbar.show({msg:`Erreur lors de la validation du ${r}.`,color:"danger",position:"TOP"})}}):(this.snackbar.showWarning("Pas d'informations suffisantes pour la validation."),this.UPDATE_REPORT_FIELD("ON_VALIDATION",r,!1))}}CANCEL_ALL_VALIDATION(){var e=this;if(this.form)for(const n of Object.keys(this.REPORTS_DATA)){const r=n;this.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",r,!0);let a,c=!0;if("MONTHLY_ACTIVITY"==r&&(a=this.api.CancelValidateChwsRecoReports(this.form.value)),"FAMILY_PLANNING"==r&&(a=this.api.CancelValidateFamilyPlanningReports(this.form.value)),"HOUSE_HOLD_RECAP"==r){const l=(this.REPORTS_DATA?.[r]?.data??[])?.map(h=>h.id)??[];c=l&&l.length>0,a=this.api.CancelValidateHouseholdRecapReports({...this.form.value,dataIds:l})}"MORBIDITY"==r&&(a=this.api.CancelValidateMorbidityReports(this.form.value)),"PCIMNE_NEWBORN"==r&&(a=this.api.CancelValidatePcimneNewbornReports(this.form.value)),"PROMOTION"==r&&(a=this.api.CancelValidatePromotionReports(this.form.value)),"RECO_MEG_QUANTITIES"==r&&(a=this.api.CancelValidateRecoMegSituationReports(this.form.value)),c&&a?a.subscribe({next:function(){var l=(0,E.A)(function*(h){200==h.status?(e.SHOW_ALL_DATA(!1),e.snackbar.show({msg:`Validation du ${r} annul\xe9e.`,color:"success",position:"TOP"}),e.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",r,!1),e.UPDATE_REPORT_FIELD("IS_VALIDATED",r,!1),!0===e.USER?.role.canUseOfflineMode&&e.isOnline&&(yield e.db.all(e.form.value).then(_=>{}))):e.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",r,!1)});return function(_){return l.apply(this,arguments)}}(),error:l=>{this.snackbar.showError("Erreur lors de l'annulation de la validation."),this.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",r,!1)}}):(this.snackbar.showWarning("Pas d'informations suffisantes pour annuler la validation."),this.UPDATE_REPORT_FIELD("ON_CANCEL_VALIDATION",r,!1))}}SHOW_ALL_DATA(e){}showProcessMessage(e){e&&(this.snackbar.show({msg:e.msg,color:e.color,position:e.position??"TOP",duration:1e4}),this.CHANGE_STATE=new Date)}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(A.G),t.rXU(b.X),t.rXU(m.i),t.rXU(T.z),t.rXU(f.T),t.rXU(g.z),t.rXU(D))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["reports-view"]],standalone:!1,decls:31,vars:8,consts:[[3,"onValidateAllReports","onCancelAllValidation","onSendAllReportsToDhis2","CHANGE_STATE"],[1,"nav-tabs"],["data-target","MONTH_ACTIVITY",1,"tab-link","active"],["data-target","PROMOTIONS",1,"tab-link"],["data-target","PF",1,"tab-link"],["data-target","MORBIDITY",1,"tab-link"],["data-target","PECIMNE",1,"tab-link"],["data-target","RECAP_MENAGE",1,"tab-link"],["data-target","MEG_RECO",1,"tab-link"],[1,"tab-content"],["id","MONTH_ACTIVITY",1,"view","active"],[3,"CHANGE_STATE"],["id","PROMOTIONS",1,"view"],["id","PF",1,"view"],["id","MORBIDITY",1,"view"],["id","PECIMNE",1,"view"],["id","RECAP_MENAGE",1,"view"],["id","MEG_RECO",1,"view"]],template:function(n,r){1&n&&(t.j41(0,"reports-orgunits-filter",0),t.bIt("onValidateAllReports",function(){return r.VALIDATE_ALL_REPORTS()})("onCancelAllValidation",function(){return r.CANCEL_ALL_VALIDATION()})("onSendAllReportsToDhis2",function(c){return r.SEND_ALL_REPPORTS_DATA_TO_DHIS2(c)}),t.k0s(),t.j41(1,"div",1)(2,"button",2),t.EFF(3,"RAPPORT D'ACTIVIT\xc9S"),t.k0s(),t.j41(4,"button",3),t.EFF(5,"RAPPORT PROMOTIONS"),t.k0s(),t.j41(6,"button",4),t.EFF(7,"RAPPORT PF"),t.k0s(),t.j41(8,"button",5),t.EFF(9,"RAPPORT MORBIDIT\xc9"),t.k0s(),t.j41(10,"button",6),t.EFF(11,"RAPPORT PCIMNEE"),t.k0s(),t.j41(12,"button",7),t.EFF(13,"RAPPORT M\xc9NAGES"),t.k0s(),t.j41(14,"button",8),t.EFF(15,"RAPPORT MEGs"),t.k0s()(),t.j41(16,"div",9)(17,"div",10),t.nrm(18,"chw-reco-activity-report",11),t.k0s(),t.j41(19,"div",12),t.nrm(20,"promotion-activity-report",11),t.k0s(),t.j41(21,"div",13),t.nrm(22,"family-planning-report",11),t.k0s(),t.j41(23,"div",14),t.nrm(24,"morbidity-report",11),t.k0s(),t.j41(25,"div",15),t.nrm(26,"pcimne-report",11),t.k0s(),t.j41(27,"div",16),t.nrm(28,"household-recap-report",11),t.k0s(),t.j41(29,"div",17),t.nrm(30,"reco-meg-situation-report",11),t.k0s()()),2&n&&(t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(18),t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(2),t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(2),t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(2),t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(2),t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(2),t.Y8G("CHANGE_STATE",r.CHANGE_STATE),t.R7$(2),t.Y8G("CHANGE_STATE",r.CHANGE_STATE))},dependencies:[bt,Kt,oe,se,ce,ue,De,Ce],styles:["@media (max-width: 991px){*[_ngcontent-%COMP%]{font-size:13px!important}}"]})}}return o})(),canActivate:[p(3111).d],data:{href:"reports",title:"RAPPORTS",access:["can_view_reports"]}}];let Ve=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[H.m.forChild(Pe),H.m]})}}return o})();var Se=p(3887),we=p(3268);let ye=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[R.D,F.X1,Ve,Se.G,we.o]})}}return o})()}}]);